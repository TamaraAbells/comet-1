{
  "version": 3,
  "sources": ["../../../.yarn/$$virtual/@urql-exchange-auth-virtual-38fbfd2ce7/0/cache/@urql-exchange-auth-npm-0.1.2-9fdd44464c-d9c0c43ab9.zip/node_modules/@urql/exchange-auth/dist/urql-exchange-auth.mjs"],
  "sourcesContent": ["function h() {\n  return (h = Object.assign || function(a) {\n    var b, d, e;\n    for (b = 1; b < arguments.length; b++) {\n      d = arguments[b];\n      for (e in d) {\n        Object.prototype.hasOwnProperty.call(d, e) && (a[e] = d[e]);\n      }\n    }\n    return a;\n  }).apply(this, arguments);\n}\n\nfunction k(a, b) {\n  return makeOperation(a.kind, a, h({}, a.context, {\n    authAttempt: b\n  }));\n}\n\nfunction v(a) {\n  return \"teardown\" === a.kind;\n}\n\nfunction w(a) {\n  return \"teardown\" !== a.kind;\n}\n\nimport { makeOperation, createRequest } from \"@urql/core\";\n\nimport { makeSubject, share, filter, map, merge, mergeMap, empty, fromValue, takeUntil, fromPromise, toPromise, take, onStart } from \"wonka\";\n\nexport function authExchange(a) {\n  var b = a.addAuthToOperation, d = a.getAuth, e = a.didAuthError, q = a.willAuthError;\n  return function(a) {\n    function x(a) {\n      return b({\n        operation: a,\n        authState: f\n      });\n    }\n    var A, r, f, y = a.client, z = a.forward, l = new Map;\n    a = makeSubject();\n    A = a.source, r = a.next, f = null;\n    return function(a) {\n      function b(a) {\n        a = k(a, !0);\n        l.set(a.key, a);\n        c || (c = d({\n          authState: f,\n          mutate: t\n        }).then(m).catch(B));\n        return c;\n      }\n      function m(a) {\n        f = a;\n        c = void 0;\n        l.forEach(r);\n        l.clear();\n      }\n      function t(a, b, c) {\n        var g = y.createRequestOperation(\"mutation\", createRequest(a, b), c);\n        return toPromise(take(1)(filter((function(a) {\n          return a.operation.key === g.key;\n        }))(onStart((function() {\n          return r(g);\n        }))(u))));\n      }\n      function B() {\n        return m(null);\n      }\n      var p, u, c = Promise.resolve().then((function() {\n        return d({\n          authState: f,\n          mutate: t\n        });\n      })).then(m), n = share(a);\n      a = filter(v)(n);\n      p = filter(w)(n);\n      p = map(x)(merge([ A, mergeMap((function(a) {\n        if (!c && q && q({\n          operation: a,\n          authState: f\n        })) {\n          return c = b(a), empty;\n        }\n        if (!c) {\n          return fromValue(k(a, !1));\n        }\n        var g = filter((function(b) {\n          return \"teardown\" === b.kind && b.key === a.key;\n        }))(n);\n        return takeUntil(g)(map((function() {\n          return k(a, !1);\n        }))(fromPromise(c)));\n      }))(p) ]));\n      u = share(z(merge([ p, a ])));\n      return filter((function(a) {\n        var d = a.error;\n        a = a.operation;\n        return d && e && e({\n          error: d,\n          authState: f\n        }) && !a.context.authAttempt ? (c = b(a), !1) : !0;\n      }))(u);\n    };\n  };\n}\n//# sourceMappingURL=urql-exchange-auth.mjs.map\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,aAAa;AACX,SAAQ,KAAI,OAAO,UAAU,SAAS,GAAG;AACvC,QAAI,GAAG,GAAG;AACV,SAAK,IAAI,GAAG,IAAI,UAAU,QAAQ,KAAK;AACrC,UAAI,UAAU;AACd,WAAK,KAAK,GAAG;AACX,eAAO,UAAU,eAAe,KAAK,GAAG,MAAO,GAAE,KAAK,EAAE;AAAA;AAAA;AAG5D,WAAO;AAAA,KACN,MAAM,MAAM;AAAA;AAVR;AAaT,WAAW,GAAG,GAAG;AACf,SAAO,EAAc,EAAE,MAAM,GAAG,EAAE,IAAI,EAAE,SAAS;AAAA,IAC/C,aAAa;AAAA;AAAA;AAFR;AAMT,WAAW,GAAG;AACZ,SAAO,AAAe,EAAE,SAAjB;AAAA;AADA;AAIT,WAAW,GAAG;AACZ,SAAO,AAAe,EAAE,SAAjB;AAAA;AADA;AAQF,sBAAsB,GAAG;AAC9B,MAAI,IAAI,EAAE,oBAAoB,IAAI,EAAE,SAAS,IAAI,EAAE,cAAc,IAAI,EAAE;AACvE,SAAO,SAAS,IAAG;AACjB,gBAAW,IAAG;AACZ,aAAO,EAAE;AAAA,QACP,WAAW;AAAA,QACX,WAAW;AAAA;AAAA;AAHN;AAMT,QAAI,GAAG,GAAG,GAAG,IAAI,GAAE,QAAQ,IAAI,GAAE,SAAS,IAAI,IAAI;AAClD,SAAI;AACJ,QAAI,GAAE,QAAQ,IAAI,GAAE,MAAM,IAAI;AAC9B,WAAO,SAAS,IAAG;AACjB,kBAAW,IAAG;AACZ,aAAI,EAAE,IAAG;AACT,UAAE,IAAI,GAAE,KAAK;AACb,aAAM,KAAI,EAAE;AAAA,UACV,WAAW;AAAA,UACX,QAAQ;AAAA,WACP,KAAK,GAAG,MAAM;AACjB,eAAO;AAAA;AAPA;AAST,iBAAW,IAAG;AACZ,YAAI;AACJ,YAAI;AACJ,UAAE,QAAQ;AACV,UAAE;AAAA;AAJK;AAMT,iBAAW,IAAG,IAAG,IAAG;AAClB,YAAI,IAAI,EAAE,uBAAuB,YAAY,cAAc,IAAG,KAAI;AAClE,eAAO,YAAU,OAAK,GAAG,SAAQ,SAAS,IAAG;AAC3C,iBAAO,GAAE,UAAU,QAAQ,EAAE;AAAA,WAC3B,UAAS,WAAW;AACtB,iBAAO,EAAE;AAAA,WACP;AAAA;AANG;AAQT,mBAAa;AACX,eAAO,EAAE;AAAA;AADF;AAGT,UAAI,GAAG,IAAG,IAAI,QAAQ,UAAU,KAAM,WAAW;AAC/C,eAAO,EAAE;AAAA,UACP,WAAW;AAAA,UACX,QAAQ;AAAA;AAAA,SAER,KAAK,IAAI,IAAI,QAAM;AACvB,WAAI,SAAO,GAAG;AACd,UAAI,SAAO,GAAG;AACd,UAAI,MAAI,IAAG,QAAM,CAAE,GAAG,EAAU,SAAS,IAAG;AAC1C,YAAI,CAAC,KAAK,KAAK,EAAE;AAAA,UACf,WAAW;AAAA,UACX,WAAW;AAAA,YACT;AACF,iBAAO,IAAI,GAAE,KAAI;AAAA;AAEnB,YAAI,CAAC,GAAG;AACN,iBAAO,YAAU,EAAE,IAAG;AAAA;AAExB,YAAI,IAAI,SAAQ,SAAS,IAAG;AAC1B,iBAAO,AAAe,GAAE,SAAjB,cAAyB,GAAE,QAAQ,GAAE;AAAA,WAC1C;AACJ,eAAO,YAAU,GAAG,MAAK,WAAW;AAClC,iBAAO,EAAE,IAAG;AAAA,WACV,cAAY;AAAA,SACd;AACJ,WAAI,QAAM,EAAE,QAAM,CAAE,GAAG;AACvB,aAAO,SAAQ,SAAS,IAAG;AACzB,YAAI,KAAI,GAAE;AACV,aAAI,GAAE;AACN,eAAO,MAAK,KAAK,EAAE;AAAA,UACjB,OAAO;AAAA,UACP,WAAW;AAAA,cACP,CAAC,GAAE,QAAQ,cAAe,KAAI,GAAE,KAAI,SAAM;AAAA,SAC9C;AAAA;AAAA;AAAA;AAxEM;",
  "names": []
}
