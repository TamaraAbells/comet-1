import{g as e,u as t,a as n,b as a,i as r,B as l,c as s,r as c,A as o,d as i,m,e as d,z as u,f as p,p as g,h as v,S as h,j as f,k as E,H as b,L as x,l as y,n as w,o as N,q as k,s as C,N as $,t as I,v as M,w as S,x as F,y as U,C as P,D as R,T as A,E as O,F as L,G as z,I as T,J as D,K as q,M as B,O as j,P as H,Q as V,R as _,U as G,V as Y,W,X as Q,Y as J,Z as K,_ as X,$ as Z,a0 as ee,a1 as te,a2 as ne,a3 as ae,a4 as re,a5 as le,a6 as se,a7 as ce,a8 as oe,a9 as ie,aa as me,ab as de,ac as ue,ad as pe,ae as ge,af as ve,ag as he,ah as fe,ai as Ee,aj as be,ak as xe,al as ye,am as we,an as Ne,ao as ke,ap as Ce,aq as $e,ar as Ie,as as Me,at as Se,au as Fe,av as Ue,aw as Pe,ax as Re,ay as Ae,az as Oe,aA as Le,aB as ze,aC as Te,aD as De,aE as qe,aF as Be,aG as je,aH as He,aI as Ve,aJ as _e,aK as Ge,aL as Ye,aM as We,aN as Qe,aO as Je,aP as Ke,aQ as Xe,aR as Ze,aS as et,aT as tt,aU as nt,aV as at,aW as rt,aX as lt,aY as st,aZ as ct,a_ as ot,a$ as it,b0 as mt,b1 as dt,b2 as ut,b3 as pt,b4 as gt,b5 as vt,b6 as ht,b7 as ft,b8 as Et,b9 as bt,ba as xt,bb as yt,bc as wt,bd as Nt,be as kt,bf as Ct,bg as $t,bh as It,bi as Mt,bj as St,bk as Ft,bl as Ut,bm as Pt,bn as Rt,bo as At,bp as Ot,bq as Lt,br as zt,bs as Tt,bt as Dt,bu as qt,bv as Bt,bw as jt,bx as Ht,by as Vt,bz as _t,bA as Gt,bB as Yt,bC as Wt,bD as Qt,bE as Jt,bF as Kt,bG as Xt,bH as Zt,bI as en,bJ as tn,bK as nn,bL as an,bM as rn,bN as ln,bO as sn,bP as cn,bQ as on,bR as mn,bS as dn,bT as un,bU as pn,bV as gn,bW as vn,bX as hn,bY as fn,bZ as En,b_ as bn,b$ as xn}from"./vendor.003d73f3.js";!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const a=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,l)=>{const s=new URL(e,a);if(self[t].moduleMap[s])return n(self[t].moduleMap[s]);const c=new Blob([`import * as m from '${s}';`,`${t}.moduleMap['${s}']=m;`],{type:"text/javascript"}),o=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(c),onerror(){l(new Error(`Failed to import: ${e}`)),r(o)},onload(){n(self[t].moduleMap[s]),r(o)}});document.head.appendChild(o)})),self[t].moduleMap={}}}("/assets/");const yn={entityNotFound:"{{replace}} not found!",invalidUserAuth:"'USER' authorization can only be used on User entity",notLoggedIn:"Not logged in",fileSize:"File size must be less than {{replace}}MB",channelPermissions:"(useChannelPermissions) channelPermissions and serverPermissions must have same length",folder:{deleted:"Folder has been deleted",notOwner:"You do not own this folder",nameTooLong:"Name cannot be longer than 300 characters",alreadyExists:"You already have a folder with that name",noPermission:"You do not have permission to modify this folder.",alreadyAdded:"This post is already in this folder.",cannotEdit:"Cannot edit Read Later or Favorites folders.",cannotDelete:"Cannot delete Read Later or Favorites folders.",cannotCreate:"Cannot create Read Later or Favorites folders.",notCollaborative:"This folder is not collaborative.",notInFolder:"That post is not in this folder.",owner:"You are the owner of this folder",private:"That folder is private.",friends:"Must be friends with this folder's owner"},message:{notAuthor:"You are not the author of this message",missingArgs:"Must provide channelId, groupId, or userId",notSentInChannel:"Message was not sent in a channel",empty:"Message cannot be empty",textOrFile:"Must provide text or a file"},comment:{notAuthor:"You are not the author of this comment",empty:"Comment cannot be empty",alreadyDeleted:"Comment already deleted",alreadyVoted:"You have already voted this comment"},post:{notAuthor:"You are not the author of this post",alreadyVoted:"You have already voted this post",alreadyPinned:"Post is already pinned",notPinned:"Post is not pinned"},group:{maxSize:"Max group size is 10 users",notJoined:"You are not in this group"},server:{notJoined:"You have not joined this planet",banned:"You are banned from this planet",joinLimit:"Cannot join more than 100 planets",alreadyJoined:"You have already joined this planet",missingPermission:"Missing planet permission {{replace}}",notOwner:"Must be planet owner",inviteRequired:"Invite required to join this planet",inviteExpired:"This invite has expired."},channel:{missingPermission:"Missing channel permission {{replace}}"},user:{blocking:"You are blocking this user",blocked:"This user has blocked you",friendRequestNotSent:"You have not sent a friend request to this user",friendRequestNotReceived:"You have not received a friend request from this user",notFriends:"You are not friends with this user",alreadyBlocking:"You are already blocking this user",notBlocking:"You are not blocking this user"},upload:{invalidMime:"Image must be PNG or JPEG"},login:{invalid:"Invalid login",invalidEmail:"Invalid email address",emailInUse:"Email already in use",illegalName:"Name cannot contain {{replace}}",nameLength:"Name must be 2-32 characters",banned:"Banned{{replace}}",wrongPassword:"Incorrect password"},notif:{notYours:"This is not your notification"}},wn={hide:"Hide Folders",show:"Show Folders",favorites:"Favorites",readLater:"Read Later",added:"Added to {{name}}!",name:"Name",postCount:"{{count}} Post",postCount_plural:"{{count}} Posts",createdBy:"Created by",userFolder:"User Folder",serverFolder:"Planet Folder",collaborative:"Collaborative",user:{title:"Your Folders",create:"Create Folder"},server:{title:"{{name}}'s Folders",create:"Create Planet Folder"},context:{follow:"Follow Folder",unfollow:"Unfollow Folder",delete:"Delete Folder",copyLink:"Copy Folder Link",edit:"Edit Folder",collaborative:"Collaborative",changeVisibility:"Change Visibility",visibility:{public:"Public",friends:"Friends Only",private:"Private",unlisted:"Unlisted"}}},Nn={};var kn,Cn,$n,In,Mn,Sn,Fn,Un,Pn,Rn,An,On,Ln,zn,Tn,Dn,qn,Bn,jn,Hn,Vn,_n,Gn,Yn,Wn,Qn;(Cn=kn||(kn={})).ManageMessages="ManageMessages",Cn.SendMessages="SendMessages",Cn.ViewChannel="ViewChannel",(In=$n||($n={})).Blue="Blue",In.Green="Green",In.Indigo="Indigo",In.Pink="Pink",In.Purple="Purple",In.Red="Red",In.Yellow="Yellow",(Sn=Mn||(Mn={})).New="New",Sn.Top="Top",(Un=Fn||(Fn={})).Friends="Friends",Un.Private="Private",Un.Public="Public",Un.Unlisted="Unlisted",(Rn=Pn||(Pn={})).FriendRequestReceived="FriendRequestReceived",Rn.Join="Join",Rn.Left="Left",Rn.Normal="Normal",(On=An||(An={})).All="All",On.Mentions="Mentions",On.None="None",(zn=Ln||(Ln={})).Away="Away",zn.DoNotDisturb="DoNotDisturb",zn.Offline="Offline",zn.Online="Online",(Dn=Tn||(Tn={})).Added="Added",Dn.Hot="Hot",Dn.New="New",Dn.Top="Top",(Bn=qn||(qn={})).All="All",Bn.Day="Day",Bn.Hour="Hour",Bn.Month="Month",Bn.Week="Week",Bn.Year="Year",(Hn=jn||(jn={})).New="New",Hn.Top="Top",(_n=Vn||(Vn={})).Blocked="Blocked",_n.Blocking="Blocking",_n.FriendRequestIncoming="FriendRequestIncoming",_n.FriendRequestOutgoing="FriendRequestOutgoing",_n.Friends="Friends",_n.None="None",(Yn=Gn||(Gn={})).Arts="Arts",Yn.Business="Business",Yn.Culture="Culture",Yn.Discussion="Discussion",Yn.Entertainment="Entertainment",Yn.Gaming="Gaming",Yn.Health="Health",Yn.Hobbies="Hobbies",Yn.Lifestyle="Lifestyle",Yn.Memes="Memes",Yn.Meta="Meta",Yn.News="News",Yn.Other="Other",Yn.Politics="Politics",Yn.Programming="Programming",Yn.Science="Science",Yn.Sports="Sports",Yn.Technology="Technology",(Qn=Wn||(Wn={})).AddPostToFolder="AddPostToFolder",Qn.Admin="Admin",Qn.ChangeNickname="ChangeNickname",Qn.CreateComment="CreateComment",Qn.CreateInvite="CreateInvite",Qn.CreatePost="CreatePost",Qn.DisplayRoleSeparately="DisplayRoleSeparately",Qn.ManageChannels="ManageChannels",Qn.ManageComments="ManageComments",Qn.ManageFolders="ManageFolders",Qn.ManageMessages="ManageMessages",Qn.ManageNicknames="ManageNicknames",Qn.ManagePosts="ManagePosts",Qn.ManageServer="ManageServer",Qn.ManageUsers="ManageUsers",Qn.Mention="Mention",Qn.Mentionable="Mentionable",Qn.SendMessages="SendMessages",Qn.ViewChannels="ViewChannels",Qn.ViewComments="ViewComments",Qn.VoteComment="VoteComment",Qn.VotePost="VotePost";const Jn=e`
    fragment Metadata on LinkMetadata {
  author
  date
  description
  image
  logo
  publisher
  title
  twitterCard
  url
  domain
}
    `,Kn=e`
    fragment Comment on Comment {
  id
  parentComment {
    id
  }
  text
  voteCount
  isVoted
  isDeleted
  createdAt
  updatedAt
  linkMetadatas {
    ...Metadata
  }
}
    ${Jn}`,Xn=e`
    fragment User on User {
  id
  name
  tag
  username
  avatarUrl
  isOnline
  onlineStatus
  isCurrentUser
  relationshipStatus
  color
}
    `,Zn=e`
    fragment Server on Server {
  id
  name
  description
  avatarUrl
  bannerUrl
  category
  userCount
  isPublic
  initials
  isJoined
  owner {
    id
  }
}
    `,ea=e`
    fragment Role on Role {
  id
  name
  color
  permissions
}
    `,ta=e`
    fragment Channel on Channel {
  id
  name
  description
  isUnread
  mentionCount
  permissions
  rolePermissions {
    allowedPermissions
    deniedPermissions
    role {
      ...Role
    }
  }
}
    ${ea}`,na=e`
    fragment Folder on Folder {
  id
  name
  avatarUrl
  description
  postCount
  followerCount
  isCollaborative
  visibility
}
    `,aa=e`
    fragment RelatedUser on User {
  ...User
  showChat
  unreadCount
}
    ${Xn}`,ra=e`
    fragment Group on Group {
  id
  name
  displayName
  avatarUrl
  unreadCount
}
    `,la=e`
    fragment CurrentUser on User {
  ...User
  isAdmin
  email
  servers {
    ...Server
    permissions
    channels {
      ...Channel
    }
    roles {
      ...Role
    }
    myRoles {
      ...Role
    }
    nickname
    folders {
      ...Folder
    }
  }
  relatedUsers {
    ...RelatedUser
  }
  groups {
    ...Group
    owner {
      id
    }
    users {
      ...User
    }
  }
  folders {
    ...Folder
  }
}
    ${Xn}
${Zn}
${ta}
${ea}
${na}
${aa}
${ra}`,sa=e`
    fragment Message on Message {
  id
  text
  createdAt
  updatedAt
  type
  image {
    originalUrl
    popupUrl
    popupWidth
    popupHeight
    smallUrl
    smallWidth
    smallHeight
  }
  file {
    url
    mime
    filename
    size
  }
  linkMetadatas {
    ...Metadata
  }
  mentionedUsers {
    id
  }
  isEveryoneMentioned
  isPinned
}
    ${Jn}`,ca=e`
    fragment Post on Post {
  id
  title
  isPinned
  text
  linkUrl
  relativeUrl
  commentCount
  voteCount
  isVoted
  thumbnailUrl
  domain
  isDeleted
  createdAt
  updatedAt
  linkMetadata {
    ...Metadata
  }
  images {
    url
    linkUrl
    caption
  }
}
    ${Jn}`,oa=e`
    fragment ServerUser on ServerUser {
  name
  nickname
  color
  roles {
    ...Role
  }
  user {
    ...User
  }
}
    ${ea}
${Xn}`,ia=e`
    fragment Reply on Reply {
  id
  isRead
  comment {
    id
    text
    voteCount
    author {
      ...ServerUser
    }
    post {
      id
      title
    }
    parentComment {
      id
      text
      voteCount
      author {
        ...ServerUser
      }
    }
  }
}
    ${oa}`,ma=e`
    mutation createChannel($input: CreateChannelInput!) {
  createChannel(input: $input) {
    ...Channel
  }
}
    ${ta}`;e`
    mutation updateChannel($input: UpdateChannelInput!) {
  updateChannel(input: $input) {
    ...Channel
  }
}
    ${ta}`;const da=e`
    mutation deleteChannel($input: DeleteChannelInput!) {
  deleteChannel(input: $input)
}
    `;e`
    mutation moveChannel($input: MoveChannelInput!) {
  moveChannel(input: $input) {
    ...Channel
  }
}
    ${ta}`;const ua=e`
    mutation readChannel($input: ReadChannelInput!) {
  readChannel(input: $input) {
    ...Channel
  }
}
    ${ta}`;e`
    mutation updateChannelPermissions($input: UpdateChannelPermissionsInput!) {
  updateChannelPermissions(input: $input) {
    ...Role
  }
}
    ${ea}`;const pa=e`
    mutation createComment($input: CreateCommentInput!) {
  createComment(input: $input) {
    ...Comment
    author {
      ...ServerUser
    }
  }
}
    ${Kn}
${oa}`;e`
    mutation updateComment($input: UpdateCommentInput!) {
  updateComment(input: $input) {
    ...Comment
    author {
      ...ServerUser
    }
  }
}
    ${Kn}
${oa}`;const ga=e`
    mutation deleteComment($input: DeleteCommentInput!) {
  deleteComment(input: $input) {
    ...Comment
    author {
      ...ServerUser
    }
  }
}
    ${Kn}
${oa}`;const va=e`
    mutation voteComment($input: VoteCommentInput!) {
  voteComment(input: $input) {
    ...Comment
    author {
      ...ServerUser
    }
  }
}
    ${Kn}
${oa}`;const ha=e`
    mutation unvoteComment($input: UnvoteCommentInput!) {
  unvoteComment(input: $input) {
    ...Comment
    author {
      ...ServerUser
    }
  }
}
    ${Kn}
${oa}`;const fa=e`
    mutation pinComment($input: PinCommentInput!) {
  pinComment(input: $input) {
    ...Comment
    author {
      ...ServerUser
    }
  }
}
    ${Kn}
${oa}`;const Ea=e`
    mutation unpinComment($input: UnpinCommentInput!) {
  unpinComment(input: $input) {
    ...Comment
    author {
      ...ServerUser
    }
  }
}
    ${Kn}
${oa}`;const ba=e`
    mutation createFolder($input: CreateFolderInput!) {
  createFolder(input: $input) {
    ...Folder
  }
}
    ${na}`;const xa=e`
    mutation updateFolder($input: UpdateFolderInput!) {
  updateFolder(input: $input) {
    ...Folder
  }
}
    ${na}`;function ya(e){const t={...Nn,...e};return n(xa,t)}const wa=e`
    mutation deleteFolder($input: DeleteFolderInput!) {
  deleteFolder(input: $input)
}
    `;e`
    mutation moveServerFolder($input: MoveServerFolderInput!) {
  moveServerFolder(input: $input) {
    ...Folder
  }
}
    ${na}`,e`
    mutation moveUserFolder($input: MoveUserFolderInput!) {
  moveUserFolder(input: $input) {
    ...Folder
  }
}
    ${na}`;const Na=e`
    mutation followFolder($input: FollowFolderInput!) {
  followFolder(input: $input) {
    ...Folder
  }
}
    ${na}`;const ka=e`
    mutation unfollowFolder($input: UnfollowFolderInput!) {
  unfollowFolder(input: $input) {
    ...Folder
  }
}
    ${na}`;const Ca=e`
    mutation addPostToFolder($input: AddPostToFolderInput!) {
  addPostToFolder(input: $input) {
    ...Folder
  }
}
    ${na}`;function $a(e){const t={...Nn,...e};return n(Ca,t)}const Ia=e`
    mutation removePostFromFolder($input: RemovePostFromFolderInput!) {
  removePostFromFolder(input: $input) {
    ...Folder
  }
}
    ${na}`;e`
    mutation createGroup($input: CreateGroupInput!) {
  createGroup(input: $input) {
    ...Group
  }
}
    ${ra}`,e`
    mutation updateGroup($input: UpdateGroupInput!) {
  updateGroup(input: $input) {
    ...Group
  }
}
    ${ra}`,e`
    mutation leaveGroup($input: LeaveGroupInput!) {
  leaveGroup(input: $input)
}
    `;const Ma=e`
    mutation readGroup($input: ReadGroupInput!) {
  readGroup(input: $input) {
    ...Group
  }
}
    ${ra}`;e`
    mutation addUserToGroup($input: AddUserToGroupInput!) {
  addUserToGroup(input: $input) {
    ...Group
  }
}
    ${ra}`,e`
    mutation removeUserFromGroup($input: RemoveUserFromGroupInput!) {
  removeUserFromGroup(input: $input) {
    ...Group
  }
}
    ${ra}`;const Sa=e`
    mutation createMessage($input: CreateMessageInput!) {
  createMessage(input: $input) {
    ...Message
    author {
      ...User
    }
    serverUser {
      ...ServerUser
    }
  }
}
    ${sa}
${Xn}
${oa}`;function Fa(e){const t={...Nn,...e};return n(Sa,t)}e`
    mutation updateMessage($input: UpdateMessageInput!) {
  updateMessage(input: $input) {
    ...Message
    author {
      ...User
    }
    serverUser {
      ...ServerUser
    }
  }
}
    ${sa}
${Xn}
${oa}`;const Ua=e`
    mutation deleteMessage($input: DeleteMessageInput!) {
  deleteMessage(input: $input)
}
    `;const Pa=e`
    mutation pinMessage($input: PinMessageInput!) {
  pinMessage(input: $input) {
    ...Message
    author {
      ...User
    }
    serverUser {
      ...ServerUser
    }
  }
}
    ${sa}
${Xn}
${oa}`;function Ra(e){const t={...Nn,...e};return n(Pa,t)}const Aa=e`
    mutation unpinMessage($input: UnpinMessageInput!) {
  unpinMessage(input: $input) {
    ...Message
    author {
      ...User
    }
    serverUser {
      ...ServerUser
    }
  }
}
    ${sa}
${Xn}
${oa}`;function Oa(e){const t={...Nn,...e};return n(Aa,t)}const La=e`
    mutation updateTyping($input: TypingInput!) {
  updateTyping(input: $input)
}
    `;const za=e`
    mutation createPost($input: CreatePostInput!) {
  createPost(input: $input) {
    ...Post
    author {
      ...ServerUser
    }
  }
}
    ${ca}
${oa}`;e`
    mutation updatePost($input: UpdatePostInput!) {
  updatePost(input: $input) {
    ...Post
    author {
      ...ServerUser
    }
  }
}
    ${ca}
${oa}`;const Ta=e`
    mutation deletePost($input: DeletePostInput!) {
  deletePost(input: $input) {
    ...Post
    author {
      ...ServerUser
    }
  }
}
    ${ca}
${oa}`;const Da=e`
    mutation votePost($input: VotePostInput!) {
  votePost(input: $input) {
    ...Post
    author {
      ...ServerUser
    }
  }
}
    ${ca}
${oa}`;const qa=e`
    mutation unvotePost($input: UnvotePostInput!) {
  unvotePost(input: $input) {
    ...Post
    author {
      ...ServerUser
    }
  }
}
    ${ca}
${oa}`;const Ba=e`
    mutation pinPost($input: PinPostInput!) {
  pinPost(input: $input) {
    ...Post
    author {
      ...ServerUser
    }
  }
}
    ${ca}
${oa}`;const ja=e`
    mutation unpinPost($input: UnpinPostInput!) {
  unpinPost(input: $input) {
    ...Post
    author {
      ...ServerUser
    }
  }
}
    ${ca}
${oa}`;const Ha=e`
    mutation createFriendRequest($input: CreateFriendRequestInput!) {
  createFriendRequest(input: $input) {
    ...User
    folders {
      ...Folder
    }
    relatedUsers {
      ...User
    }
    servers {
      nickname
      id
      avatarUrl
      name
      initials
    }
  }
}
    ${Xn}
${na}`;function Va(e){const t={...Nn,...e};return n(Ha,t)}const _a=e`
    mutation deleteFriendRequest($input: DeleteFriendRequestInput!) {
  deleteFriendRequest(input: $input) {
    ...User
    folders {
      ...Folder
    }
    relatedUsers {
      ...User
    }
    servers {
      nickname
      id
      avatarUrl
      name
      initials
    }
  }
}
    ${Xn}
${na}`;const Ga=e`
    mutation answerFriendRequest($input: AnswerFriendRequestInput!) {
  answerFriendRequest(input: $input) {
    ...RelatedUser
  }
}
    ${aa}`;const Ya=e`
    mutation blockUser($input: BlockUserInput!) {
  blockUser(input: $input) {
    ...RelatedUser
  }
}
    ${aa}`;const Wa=e`
    mutation unblockUser($input: UnblockUserInput!) {
  unblockUser(input: $input) {
    ...RelatedUser
  }
}
    ${aa}`;const Qa=e`
    mutation removeFriend($input: RemoveFriendInput!) {
  removeFriend(input: $input) {
    ...RelatedUser
  }
}
    ${aa}`;function Ja(e){const t={...Nn,...e};return n(Qa,t)}const Ka=e`
    mutation readDm($input: ReadDmInput!) {
  readDm(input: $input) {
    ...RelatedUser
  }
}
    ${aa}`;function Xa(e){const t={...Nn,...e};return n(Ka,t)}e`
    mutation openDm($input: OpenDmInput!) {
  openDm(input: $input) {
    ...RelatedUser
  }
}
    ${aa}`;const Za=e`
    mutation closeDm($input: CloseDmInput!) {
  closeDm(input: $input) {
    ...RelatedUser
  }
}
    ${aa}`;function er(e){const t={...Nn,...e};return n(Za,t)}e`
    mutation markReplyRead($input: MarkReplyReadInput!) {
  markReplyRead(input: $input) {
    ...Reply
  }
}
    ${ia}`,e`
    mutation markAllRepliesRead {
  markAllRepliesRead
}
    `;const tr=e`
    mutation createRole($input: CreateRoleInput!) {
  createRole(input: $input) {
    ...Role
  }
}
    ${ea}`;const nr=e`
    mutation updateRole($input: UpdateRoleInput!) {
  updateRole(input: $input) {
    ...Role
  }
}
    ${ea}`;const ar=e`
    mutation deleteRole($input: DeleteRoleInput!) {
  deleteRole(input: $input)
}
    `;e`
    mutation moveRole($input: MoveRoleInput!) {
  moveRole(input: $input) {
    ...Role
  }
}
    ${ea}`,e`
    mutation addUserToRole($input: AddUserToRoleInput!) {
  addUserToRole(input: $input) {
    ...ServerUser
  }
}
    ${oa}`,e`
    mutation removeUserFromRole($input: RemoveUserFromRoleInput!) {
  removeUserFromRole(input: $input) {
    ...ServerUser
  }
}
    ${oa}`;const rr=e`
    mutation createServer($input: CreateServerInput!) {
  createServer(input: $input) {
    ...Server
    permissions
    channels {
      ...Channel
    }
    roles {
      ...Role
    }
    folders {
      ...Folder
    }
  }
}
    ${Zn}
${ta}
${ea}
${na}`;const lr=e`
    mutation updateServer($input: UpdateServerInput!) {
  updateServer(input: $input) {
    ...Server
    permissions
    channels {
      ...Channel
    }
    roles {
      ...Role
    }
    folders {
      ...Folder
    }
  }
}
    ${Zn}
${ta}
${ea}
${na}`;const sr=e`
    mutation deleteServer($input: DeleteServerInput!) {
  deleteServer(input: $input)
}
    `;e`
    mutation moveServer($input: MoveServerInput!) {
  moveServer(input: $input)
}
    `;const cr=e`
    mutation joinServer($input: JoinServerInput!) {
  joinServer(input: $input) {
    ...Server
    permissions
    channels {
      ...Channel
    }
    roles {
      ...Role
    }
    folders {
      ...Folder
    }
  }
}
    ${Zn}
${ta}
${ea}
${na}`;const or=e`
    mutation leaveServer($input: LeaveServerInput!) {
  leaveServer(input: $input)
}
    `;e`
    mutation readServer($input: ReadServerInput!) {
  readServer(input: $input) {
    permissions
    channels {
      ...Channel
    }
    roles {
      ...Role
    }
    folders {
      ...Folder
    }
  }
}
    ${ta}
${ea}
${na}`;const ir=e`
    mutation banUserFromServer($input: BanUserFromServerInput!) {
  banUserFromServer(input: $input)
}
    `;e`
    mutation unbanUserFromServer($input: UnbanUserFromServerInput!) {
  unbanUserFromServer(input: $input)
}
    `;const mr=e`
    mutation kickUserFromServer($input: KickUserFromServerInput!) {
  kickUserFromServer(input: $input)
}
    `;const dr=e`
    mutation createAccount($input: CreateAccountInput!) {
  createAccount(input: $input) {
    accessToken
    user {
      ...CurrentUser
    }
  }
}
    ${la}`;const ur=e`
    mutation updateAccount($input: UpdateAccountInput!) {
  updateAccount(input: $input) {
    ...CurrentUser
  }
}
    ${la}`;const pr=e`
    mutation changeUserAvatar($input: ChangeUserAvatarInput!) {
  changeUserAvatar(input: $input) {
    ...CurrentUser
  }
}
    ${la}`;const gr=e`
    mutation deleteAccount($input: DeleteAccountInput!) {
  deleteAccount(input: $input)
}
    `;const vr=e`
    mutation login($input: LoginInput!) {
  login(input: $input) {
    accessToken
    user {
      ...CurrentUser
    }
  }
}
    ${la}`;const hr=e`
    mutation changeOnlineStatus($input: ChangeOnlineStatusInput!) {
  changeOnlineStatus(input: $input) {
    ...CurrentUser
  }
}
    ${la}`;e`
    mutation globalBan($input: GlobalBanInput!) {
  globalBan(input: $input)
}
    `;const fr=e`
    query comments($postId: ID!, $sort: CommentsSort) {
  comments(postId: $postId, sort: $sort) {
    ...Comment
    author {
      ...ServerUser
    }
  }
}
    ${Kn}
${oa}`;const Er=e`
    query currentUser @live {
  user {
    ...CurrentUser
  }
}
    ${la}`;const br=e`
    query folder($id: ID!) @live {
  folder(id: $id) {
    ...Folder
    postCount
    owner {
      ...User
    }
    server {
      ...Server
    }
  }
}
    ${na}
${Xn}
${Zn}`;function xr(e){const n={...Nn,...e};return t(br,n)}const yr=e`
    query getLinkMeta($linkUrl: String!) {
  getLinkMeta(linkUrl: $linkUrl) {
    ...Metadata
  }
}
    ${Jn}`;const wr=e`
    query messages($channelId: ID, $userId: ID, $groupId: ID, $limit: PositiveInt, $cursor: ID) {
  messages(
    channelId: $channelId
    userId: $userId
    groupId: $groupId
    limit: $limit
    cursor: $cursor
  ) {
    hasMore
    messages {
      ...Message
      author {
        ...User
      }
      serverUser {
        ...ServerUser
      }
    }
  }
}
    ${sa}
${Xn}
${oa}`;const Nr=e`
    query post($id: ID!) {
  post(id: $id) {
    ...Post
    author {
      ...ServerUser
    }
    server {
      ...Server
    }
  }
}
    ${ca}
${oa}
${Zn}`;const kr=e`
    query posts($sort: PostsSort, $offset: NonNegativeInt, $limit: PositiveInt, $time: PostsTime, $folderId: ID, $serverId: ID, $search: String) {
  posts(
    sort: $sort
    time: $time
    folderId: $folderId
    serverId: $serverId
    search: $search
    offset: $offset
    limit: $limit
  ) {
    hasMore
    posts {
      ...Post
      author {
        ...ServerUser
      }
      server {
        ...Server
      }
    }
  }
}
    ${ca}
${oa}
${Zn}`;const Cr=e`
    query publicServers($sort: PublicServersSort, $category: ServerCategory, $featured: Boolean) {
  publicServers(sort: $sort, category: $category, featured: $featured) {
    ...Server
    onlineCount
  }
}
    ${Zn}`;e`
    query replies($userId: ID!) {
  replies(userId: $userId) {
    ...Reply
  }
}
    ${ia}`;const $r=e`
    query serverUsers($serverId: ID!) @live {
  serverUsers(serverId: $serverId) {
    ...ServerUser
  }
}
    ${oa}`;const Ir=e`
    query user($id: ID) @live {
  user(id: $id) {
    ...User
    folders {
      ...Folder
    }
    relatedUsers {
      ...User
    }
    servers {
      nickname
      id
      avatarUrl
      name
      initials
    }
  }
}
    ${Xn}
${na}`;function Mr(e){const n={...Nn,...e};return t(Ir,n)}e`
    subscription CommentChanged {
  commentChanged {
    added {
      ...Comment
      post {
        id
      }
    }
    updated {
      ...Comment
    }
    deleted {
      ...Comment
      post {
        id
      }
    }
  }
}
    ${Kn}`;const Sr=e`
    subscription MessageChanged {
  messageChanged {
    added {
      ...Message
      author {
        ...User
      }
      serverUser {
        ...ServerUser
      }
      channel {
        id
        name
        server {
          id
        }
      }
      group {
        id
        displayName
      }
      toUser {
        id
        name
      }
    }
    updated {
      ...Message
      author {
        ...User
      }
      serverUser {
        ...ServerUser
      }
    }
    deleted {
      ...Message
      author {
        ...User
      }
      serverUser {
        name
        color
        roles {
          ...Role
        }
      }
      channel {
        id
        server {
          id
        }
      }
      group {
        id
      }
      toUser {
        id
      }
    }
  }
}
    ${sa}
${Xn}
${oa}
${ea}`;e`
    subscription PostChanged {
  postChanged {
    added {
      ...Post
      folders {
        id
      }
    }
    updated {
      ...Post
    }
    deleted {
      ...Post
      folders {
        id
      }
    }
  }
}
    ${ca}`,e`
    subscription RepliesChanged {
  repliesChanged {
    added {
      ...Reply
    }
    updated {
      ...Reply
    }
    deleted {
      ...Reply
    }
  }
}
    ${ia}`;const Fr=e`
    subscription typingUpdated($userId: ID, $groupId: ID, $channelId: ID) {
  typingUpdated(userId: $userId, groupId: $groupId, channelId: $channelId) {
    typingUserId
    isTyping
  }
}
    `;const Ur={en:{translation:{home:"Home",copyId:"Copy ID",markRead:"Mark As Read",continue:"Continue",more:"More",updateAvailable:"Update Available!",auth:{login:"Login",createAccount:"Create an Account",welcomeBack:"Welcome Back!",name:"Name",password:"Password",email:"Email",alreadyHaveAccount:"Already have an account?",register:"Register",needAccount:"Need an account?"},category:{Featured:"Featured",Arts:"Arts",Business:"Business",Culture:"Culture",Discussion:"Discussion",Entertainment:"Entertainment",Gaming:"Gaming",Health:"Health",Hobbies:"Hobbies",Lifestyle:"Lifestyle",Memes:"Memes",Meta:"Meta",News:"News",Politics:"Politics",Programming:"Programming",Science:"Science",Sports:"Sports",Technology:"Technology",Other:"Other"},channel:{title:"Channels",togglePrivate:"Private Channel",hideUsers:"Hide Users",showUsers:"Show Users",create:"Create Channel",edit:"Edit Channel",context:{markRead:"Mark As Read",delete:"Delete Channel",edit:"Edit Channel",mute:"Mute Channel"}},comment:{noPermission:"You do not have permission to view comments.",reply:"Reply",cancelReply:"Cancel Reply",hideReplies:"Hide Replies",showReplies:"Show Replies",create:{submit:"Comment",cancel:"Cancel"},context:{copyLink:"Copy Comment Link",delete:"Delete Comment",reply:"Reply",vote:"Add Rocket",unvote:"Remove Rocket",votePermission:"This planet does not allow you to rocket comments.",pin:"Pin Comment",unpin:"Unpin Comment",edit:"Edit Comment"}},dm:{title:"Direct Messages",create:"Create DM",markRead:"Mark Read",shared:"Shared with {{user.name}}!"},error:yn,explore:{title:"Explore",categories:"Categories",all:"All"},folder:wn,inbox:{title:"Inbox",tab:{all:"All",unread:"Unread"}},infinity:{comingSoon:"Comet Infinity is coming soon!",title:"Infinity"},message:{message:"Message",pinned:"Pinned Messages",upload:"Upload a File",typing:{one:"{{name}} is typing...",two:"{{name1}} and {{name2}} are typing...",three:"{{name1}}, {{name2}}, and {{name3}} are typing...",several:"Several people are typing..."},context:{copyLink:"Copy Message Link",pin:"Pin Message",unpin:"Unpin Message",edit:"Edit Message",delete:"Delete Message"}},permissions:{server:{[Wn.ManageChannels]:{title:"Manage Channels",description:"Allows members to create, edit, or delete channels."},[Wn.ManageServer]:{title:"Manage Roles",description:"Allows members to create new roles and edit or delete roles lower than their highest role. Also allows members to change permissions of individual channels that they have access to."},[Wn.ManageServer]:{title:"Manage Planet",description:"Allows members to change this planet's name, description, icon, and banner image."},[Wn.CreateInvite]:{title:"Create Invite",description:"Allows members to invite new people to this planet."},[Wn.ChangeNickname]:{title:"Change Nicknames",description:"Allows members to change their own nickname, a custom name for just this planet."},[Wn.ManageNicknames]:{title:"Manage Nicknames",description:"Allows members to change the nicknames of other members."},[Wn.SendMessages]:{title:"Send Messages",description:"Allows members to send messages in text channels."},[Wn.Mention]:{title:"Mention @everyone, @here, and All Roles",description:'Allows members to use @everyone (everyone in the planet) or @here (only online members in that channel). They can also @mention all roles, even if the role\'s "Allow anyone to mention this role" permission is disabled.'},[Wn.ManageMessages]:{title:"Manage Messages",description:"Allows members to remove messages by other members or pin any message."},[Wn.CreatePost]:{title:"Create Posts",description:"Allows members to create posts."},[Wn.VotePost]:{title:"Vote on Posts",description:"Allows members to vote on posts."},[Wn.ManagePosts]:{title:"Manage Posts",description:"Allows members to pin and remove posts."},[Wn.ViewComments]:{title:"View Comments",description:"Allows members to view comments on posts."},[Wn.CreateComment]:{title:"Create Comments",description:"Allows members to create comments."},[Wn.VoteComment]:{title:"Vote on Comments",description:"Allows members to vote on comments."},[Wn.ManageComments]:{title:"Manage Comments",description:"Allows members to pin and remove comments."},[Wn.ManageFolders]:{title:"Manage Folders",description:"Allows members to create, delete, and edit folders."},[Wn.AddPostToFolder]:{title:"Add Posts to Folders",description:"Allows members to add and remove posts from folders."},[Wn.DisplayRoleSeparately]:{title:"Display role members separately from online members",description:""},[Wn.Mentionable]:{title:"Allow anyone to @mention this role",description:'Note: Members with the "Mention @everyone, @here, and All Roles" permission will always be able to ping this role.'},[Wn.Admin]:{title:"Administrator",description:"Members with this permission will have every permission and will also bypass all channel specific permissions or restrictions (for example, these members would get access to all private channels). **This is a dangerous permission to grant**."},[Wn.ManageUsers]:{title:"Manage Users",description:"Ban and kick users"},[Wn.ViewChannels]:{title:"View Channels",description:"View channels"}},channel:{[kn.ViewChannel]:{title:"View Channel",description:"Allows members to view this channel by default. Disabling this for @everyone will make this channel private."},[kn.ManagePermissions]:{title:"Manage Permissions",description:"Allows users to change this channel's permissions."},[kn.SendMessages]:{title:"Send Messages",description:"Allows members to send messages in this channel."},[kn.ManageMessages]:{title:"Manage Messages",description:"Allows members to remove messages by other users or pin any message in this channel."}}},post:{createPost:"Create a post",create:{submit:"Post",cancel:"Cancel"},type:{text:"Text Post",link:"Link Post",image:"Image Post",album:"Image Album"},createComment:"Write a comment",commentCount:"{{count}} Comment",commentCount_plural:"{{count}} Comments",participantCount:"{{count}} Participant",participantCount_plural:"{{count}} Participants",creator:"Creator",context:{pin:"Pin Post",pinned:"Post pinned!",unpin:"Unpin Post",unpinned:"Post unpinned!",removeFromFolder:"Remove from Folder",addToUserFolder:"Add to Folder",addToServerFolder:"Add to Planet Folder",edit:"Edit Post",delete:"Delete Post",deleted:"Post deleted!",copyLink:"Copy Post Link",sendToFriend:"Send to Friend",vote:"Add Rocket",unvote:"Remove Rocket",votePermission:"This planet does not allow you to rocket posts."},hideParticipants:"Hide Participants",showParticipants:"Show Participants",pinnedTo:"Pinned to {{server.name}}",expand:"Show Details",collapse:"Hide Details",feed:{title:"Your Feed",refresh:"Refresh Posts",sort:{hot:"Hot",top:"Top",new:"New"},time:{hour:"Hour",day:"Day",week:"Week",month:"Month",year:"Year",all:"All"},liveMode:{title:"Live Mode",description:"Automatically add new posts to feed",comingSoon:"Live Mode is coming soon!"},subscriptions:{show:"Show Subscriptions",hide:"Hide Subscriptions",comingSoon:"Planet subscriptions are coming soon!"}}},search:{comingSoon:"Search is coming soon!"},server:{loading:"Loading planet...",feed:"Feed",invitePeople:"Invite People",onlineCount:"{{count}} online",memberCount:"{{count}} member",memberCount_plural:"{{count}} members",context:{markRead:"Mark As Read",mute:"Mute Planet",invite:"Invite People",leave:"Leave Planet"},create:{title:"Create Planet",name:"Planet Name",upload:"Upload",requireInvite:"Require Invite to Join"}},settings:{title:"Settings"},user:{hideUsers:"Hide Users",showUsers:"Show Users",context:{viewProfile:"Profile",closeDm:"Close DM",block:"Block",unblock:"Unblock",addFriend:"Add Friend",removeFriend:"Remove Friend",sendMessage:"Send Message",message:"Message",changeNickname:"Change Nickname",kickUser:"Kick {{user.name}}",banUser:"Ban {{user.name}}",banPrompt:"Reason (Optional)",ignore:"Ignore",accept:"Accept",revoke:"Revoke Friend Request",sendFriendRequest:"Send Friend Request",blockingYou:"Blocking You",markRead:"Mark as Read"},profile:{sentFriendRequest:"Request Sent",receivedFriendRequest:"Accept Request",mutualServers:"Mutual Planets",mutualFriends:"Mutual Friends",sendMessage:"Send Message"},offline:"Offline",online:"Online",friends:{title:"Friends",sendMessage:"Message",revokeRequest:"Cancel",acceptRequest:"Accept",rejectRequest:"Ignore",tab:{online:"Online",all:"All",pending:"Pending",blocked:"Blocked",add:"Add Friend"}}}}}};r.use(l).use(s).init({resources:Ur,fallbackLng:"en",debug:!1,load:"languageOnly",interpolation:{escapeValue:!1}});function Pr({className:e}){return c.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},c.createElement("path",{fillRule:"evenodd",d:"M7 2a1 1 0 00-.707 1.707L7 4.414v3.758a1 1 0 01-.293.707l-4 4C.817 14.769 2.156 18 4.828 18h10.343c2.673 0 4.012-3.231 2.122-5.121l-4-4A1 1 0 0113 8.172V4.414l.707-.707A1 1 0 0013 2H7zm2 6.172V4h2v4.172a3 3 0 00.879 2.12l1.027 1.028a4 4 0 00-2.171.102l-.47.156a4 4 0 01-2.53 0l-.563-.187a1.993 1.993 0 00-.114-.035l1.063-1.063A3 3 0 009 8.172z",clipRule:"evenodd"}))}function Rr({className:e}){return c.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},c.createElement("path",{d:"M13 7H7v6h6V7z"}),c.createElement("path",{fillRule:"evenodd",d:"M7 2a1 1 0 012 0v1h2V2a1 1 0 112 0v1h2a2 2 0 012 2v2h1a1 1 0 110 2h-1v2h1a1 1 0 110 2h-1v2a2 2 0 01-2 2h-2v1a1 1 0 11-2 0v-1H9v1a1 1 0 11-2 0v-1H5a2 2 0 01-2-2v-2H2a1 1 0 110-2h1V9H2a1 1 0 010-2h1V5a2 2 0 012-2h2V2zM5 5h10v10H5V5z",clipRule:"evenodd"}))}function Ar({className:e}){return c.createElement("svg",{className:e,viewBox:"0 0 24 24"},c.createElement("path",{fill:"currentColor",d:"M17 14H19V17H22V19H19V22H17V19H14V17H17V14M20 12C20 8.64 17.93 5.77 15 4.59V5C15 6.1 14.1 7 13 7H11V9C11 9.55 10.55 10 10 10H8V12H14C14.5 12 14.9 12.35 15 12.81C13.2 13.85 12 15.79 12 18C12 19.5 12.54 20.85 13.44 21.9L12 22C6.5 22 2 17.5 2 12C2 6.5 6.5 2 12 2C17.5 2 22 6.5 22 12L21.9 13.44C21.34 12.96 20.7 12.59 20 12.34L20 12M11 19.93V18C9.9 18 9 17.1 9 16V15L4.21 10.21C4.08 10.78 4 11.38 4 12C4 16.08 7.06 19.44 11 19.93Z"}))}function Or({className:e="h-5 w-5 text-primary"}){return c.createElement("svg",{className:`animate-spin ${e}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},c.createElement("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.createElement("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}))}function Lr({className:e}){return c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 20 20",fill:"currentColor"},c.createElement("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),c.createElement("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"}))}function zr({className:e}){return c.createElement("svg",{className:e,version:"1.1",id:"Layer_1",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 6000 729.78",enableBackground:"new 0 0 6000 729.78",xmlSpace:"preserve"},c.createElement("path",{d:"M5995.336,356.123c-2.153-0.671-4.236-1.331-6.285-1.979c-5.451-20.954-4.852-30.818-8.391-39.352\n\tc-1.389,13.275,1.227,26.829-1.597,39.965c-44.823,1.016-40.076-6.404-58.761,41.065c-1.392-46.969,4.371-85.01-1.956-115.764\n\tc0,0-27.399,123.534-36.817,153.496c-2.063-0.156-0.172,1.768-22.465-31.574c-12.708-16.331-24.386-33.449-37.535-49.421\n\tc-4.364-4.504,5.991-11.853,15.336-38.646c-8.483,6.906-3.384,5.503-23.206,27.616c-10.949-12.176-18.553-26.898-29.19-39.306\n\tc2.617,8.976,26.027,42.352,24.167,47.303c-6.517,7.187-11.551,15.706-18.854,22.118c-2.985-8.67-6.32-70.673-9.398-78.796\n\tc-1.536,31.616,2.082,34.648,0.556,56.887c-5.364-3.292-7.814-17.1-12.384-23.38c1.192,12.627,7.523,24.074,8.958,36.62\n\tc-0.764,9.051-1.713,18.102-2.523,27.153c-6.266-19.203-9.932-71.923-11.748-83.484c-7.121,18.791-1.113,17.405-1.701,27.303\n\tc-0.207,4.059-1.458,50.451-1.458,50.451c-4.051-6.481-4.456-14.537-8.877-20.81c9.193,40.469,10.236,36.197,8.981,54.607\n\tc-1.187,3.338-42.082,74.529-44.305,77.303c-2.639-13.021-3.461-26.308-5.787-39.375c-2.884,6.876-7.499,31.721-9.19,43.819\n\tc-0.917-3.148-4.229-48.22-4.317-49.398c-0.556,0.463-1.667,1.377-2.222,1.84c0.347,10.44,2.569,21.007-0.348,31.32\n\tc-5.046-24.526-12.882-48.38-18.646-72.743c0-0.001-11.967-60.983-11.968-60.984c-2.234-16.736-4.363-33.507-7.755-50.058\n\tc-4.861,12.234-3.738,25.833-7.87,38.252c-6.399,22.581-7.326,70.951-13.588,93.553c-5.282-8.965-21.709-53.641-22.697-58.275\n\tc15.508-61.024,38.169-121.097,36.898-127.998c-3.884,3.972-43.058,81.968-50.509,86.736c-8.657-26.027-8.783-33.673-15.567-45.023\n\tc-2.082,31.781,7.773,3.12-2.975,83.38c-1.678,5.741-5.81,10.347-8.795,15.428c-1.609-0.764-3.16-1.516-4.63-2.268\n\tc0.647,4.016,3.125,8.438,0.856,12.349c-13.947,26.983-14.642,37.741-21.377,44.618c-5.186,5.212-29.201,33.542-29.201,33.542\n\tc-3.241-2.014-5.521-5.127-8.369-7.558c1.424,4.086,3.415,7.94,5.278,11.852c-4.375,5.903-9.247,11.424-14.236,16.771\n\tc0.972-9.213,2.847-18.333,3.472-27.569c-3.519,8.669-4.283,18.299-8.785,26.574c-1.308-4.213-3.021-8.6-2.581-13.056\n\tc4.552-11.334,24.776-62.2,27.708-74.85c-7.857,8.56-8.946,16.005-26.817,36.794c1.91-45.902,13.773-86.724,8.738-103.912\n\tc-0.426,1.169-26.478,107.251-31.192,113.495c-3.515-13.471-3.434-37.617-23.97-87.407c-3.987-8.325-0.983-30.271-5.266-37.789\n\tc-1.447,4.618-1.679,9.502-3.067,14.132c-3.368-3.461-4.306-8.333-6.447-12.488c-11.208-21.72-1.88-9.989-16.389-32.627\n\tc22.598,92.674,20.299,76.865,16.944,99.375c-1.435,7.095-1.62,14.456-4.12,21.308c-1.655,4.306-0.926,8.993-1.678,13.461\n\tc-7.304,43.248-0.033,44.033-8.9,94.201c-0.798,0-2.396,0.012-3.194,0.012c-6.455-22.481-17.774-119.827-19.502-126.782\n\tc-2.125,23.383,4.797,79.074,2.79,106.759c-4.005-5.069-4.41-11.863-7.176-17.546c-1.598-4.907-5.799-9.005-5.185-14.456\n\tc0.057-1.158-2.939-85.168,0.474-108.38c1.438-10.824,4.842-45.638,1.423-58.785c-3.265,5.526-9.413,37.854-9.838,42.141\n\tc-0.22,6.956-0.359,14.305-3.889,20.532c-4.605,8.1-10.963,46.057-14.144,56.493c-3.506-5.591-10.215-65.423-16.47-72.095\n\tc-0.14,1.16-2.327,59.741-3.946,65.81c-13.565-15.95-22.431-48.461-22.431-48.461c-1.933,13.565-3.866,27.153-6.285,40.636\n\tc-15.389-13.307-18.571-10.935-27.419-9.271c-7.824,1.887-16.111,1.863-23.438,5.463c-0.231-2.164-0.428-4.329-0.567-6.47\n\tc-3.229,4.745-5.324,10.127-8.345,14.977c-3.125,5.266-7.037,9.988-10.394,15.058c-2.581,4.109-4.398,8.623-6.887,12.755\n\tc-8.288-14.313,6.269-29.592,13.449-62.373c-4.896,4.363-7.94,10.243-12.21,15.104c-0.509-1.979-0.938-3.958-1.308-5.926\n\tc-1.343,3.738-2.361,7.569-3.507,11.342c-2.93-9.465-0.251-58.156-10.613-84.132c-3.203,9.776-2.595,63.376-6.285,71.736\n\tc-10.565-4.915-11.226-26.127-18.889-45.324c-3.033-6.748-1.423-14.294-1.817-21.424c-0.764-6.412,3.379-11.678,6.204-17.025\n\tc1.701-2.789-0.278-5.949-0.868-8.773c-1.319,4.306-2.546,8.634-3.09,13.102c-0.752-0.787-1.447-1.574-2.06-2.361\n\tc-0.501,6.892-3.489,5.118-15.046,32.384c0.463,0.313,1.4,0.938,1.864,1.262c1.897-3.762,3.634-7.604,5.3-11.482\n\tc0.787-0.046,2.35-0.139,3.137-0.174c-0.145,16.856-12.188,59.696-16.967,67.836c-9.109-21.064-6.786-22.598-1.563-33.044\n\tc3.912-6.921,5.335-14.896,9.132-21.887c-0.428-0.301-1.285-0.914-1.702-1.227c-2.65,5.949-6.087,11.713-11.215,15.833\n\tc-2.465,2.211-6.32,3.461-6.609,7.234c-1.602,9.175-5.716,11.906-22.569,40.405c-0.602,0.046-1.829,0.139-2.442,0.185\n\tc-1.37-4.914-26.953-106.962-27.65-108.322c-1.574,6.771-1.586,13.727-0.868,20.602c0.593,4.745-3.318,59.86-4.387,64.468\n\tc-5.856-3.449-11.933-6.956-18.808-7.65c-2.975-0.648-6.91,0.104-8.623-2.974c2.002-11.979,3.623-24.097,4.19-36.25\n\tc-3.958,6.62-7.326,14.41-5.741,22.257c-8.566,8.388-21.066,71.34-30.567,84.456c-2.213-8.151-4.107-50.008-3.889-51.181\n\tc3.264-3.553,7.546-6.042,10.683-9.78c-3.692,0.938-7.327,2.014-10.996,2.789c-0.217-1.158-20.917-149.298-32.731-165.81\n\tc-0.729-0.058-2.188-0.174-2.917-0.243c0.242,19.413-10.496,50.503-11.886,52.928c-1.03,7.107-5.695,12.917-7.014,19.942\n\tc-5.982,14.801-11.215,39.476-17.049,43.681c1.586-12.431,1.03-24.954,1.134-37.454c-1.192,0.289-2.327,0.579-3.402,0.868\n\tc-0.116-2.94-0.255-5.88-0.486-8.808c-7.383,11.267-1.215,65.478-13.785,99.699c-2.871-7.141-2.28-14.85-2.292-22.315\n\tc-4.618-12.488-4.131-26.03-7.083-38.889c-6.146,14.271-2.697,30.232-7.107,44.919c-1.91-3.738-3.24-7.731-4.988-11.516\n\tc-1.151,25.693,2.937,42.958,1.782,54.502c-3.298-4.803-3.877-10.694-5-16.227c-4.259-20.691-22.144-83.822-27.789-97.315\n\tc-3.123,4.242,0.478,84.19-7.061,91.678c-1.973-16.109,2.546-10.891-0.521-35.81c-0.961,2.326-1.933,4.641-3.09,6.852\n\tc-4.671-13.951-2.979-56.68-6.678-68.565c-3.057,6.066-17.342,103.783-17.685,104.954c-0.856-0.046-2.558-0.15-3.415-0.197\n\tc-5.403-27.431-9.197-95.593-14.606-103.75c-3.401,13.365-2.847,72.729-7.129,83.542c-0.998-11.862-18.247-151.876-21.921-163.218\n\tc-3.725,38.392-1.213,37.943-1.679,60.833c-0.069,5.012-1.354,9.93-1.215,14.965c0.023,11.597,0.023,23.194,0.069,34.803\n\tc0.035,10.125-11.422,45.471-14.583,51.516c-0.486-4.074-0.694-8.171-1.516-12.188c-1.088,0.833-2.084,1.678-3.056,2.511\n\tc-14.795-47.192-7.295-29.136,0.185-89.988c-10.25,23.383-11.771,25.395-15.371,26.771c-4.259-6.366-4.884-14.19-8.24-20.926\n\tc-1.47,10.81,1.805,21.47,0.81,32.292c-10.567-17.642-9.348-21.437-14.861-26.69c4.399,19.994,13.187,45.449,10.671,52.037\n\tc-2.757,7.079-10.384,25.541-15.15,31.458c-5.218-20.554-8.526-118.943-12.477-137.558c-3.658,18.459-10.671,92.297-15.162,106.308\n\tc-4.989-15.046-3.403-31.539-9.34-46.308c-0.435,19.069-5.186,57.304-5.093,65.637c-12.408-0.59-24.074-5.382-36.389-6.504\n\tc-9.537-1.655-19.606-1.238-28.657-4.919c-3.912-8.299-1.447-18.033-4.896-26.412c-1.018,9.051-2.048,18.09-3.021,27.153\n\tc-3.206,0.023-6.4,0.023-9.525,0.116c3.275,1.354,7.314,1.898,9.56,5.012c-0.012,13.796-3.415,27.442-3.38,41.262\n\tc0,2.245-1.007,4.294-1.817,6.319c-4.618-18.16-9.282-36.389-16.551-53.704c0.879-0.035,2.65-0.081,3.53-0.104\n\tc-6.84-2.28-7.928-9.988-11.47-15.289c-2.882-5.116-7.94-8.38-11.4-12.998c-2.921-29.701-2.522-31.3-5.671-33.82\n\tc-0.637,5.116-1.181,10.266-2.35,15.301c-3.221-6.685-7.964-54.506-8.681-63.102c-1.69-16.065-4.78-31.933-7.673-47.813\n\tc-1.989-13.5-7.172-70.162-13.889-75.648c0.069,8.518-17.887,125.403-18.044,126.562c-8.142,61.855-4.736,46.773-5.498,69.664\n\tc-9.078,1.574-24.47,4.314-24.942,0.799c-5.096-19.594-24.873-118.429-25.092-119.606c-4.263-18.91-8.85-72.883-13.033-77.5\n\tc-15.327,119.454-10.582,171.578-10.914,196.47c0.451,14.352,5.822,28.796,2.21,43.079c-3.229-2.674-5.729-6.783-10.069-7.604\n\tc-3.854-1.192-7.79,0.151-11.597,0.532c-0.197-1.748-0.347-3.484-0.44-5.22c-1.123,2.025-0.822,5.417-3.426,6.146\n\tc-17.604,5.284-15.587-2.549-39.583,9.525c-2.321-11.872-10.283-107.6-11.863-113.021c-2.454,16.574-3.322,33.275-4.387,49.977\n\tc-7.555-8.484-0.565-30.556,0.44-46.435c-2.72,4.155-4.375,8.947-7.581,12.766c-1.322-4.098-4.742-35.083-8.356-41.829\n\tc-0.359,4.294-0.301,8.611-0.706,12.894c-4.003-6.248-2.917-26.303-6.817-36.123c-3.737,8.948-8.087,105.607-20,122.847\n\tc-3.275-7.442-3.738-15.787-4.201-23.796l-1.042,0.012c-0.301,10.405,1.481,20.694,2.048,31.053\n\tc-1.03,3.715-2.998,7.107-4.826,10.463c-1.794,0.139-2.535-1.69-3.507-2.755c-3.577-4.537-7.755-8.808-12.975-11.366\n\tc-4.04-2.025-9.618,0.938-12.882-2.315c-0.636-7.245,0.301-14.595-1.111-21.782c-0.347-8.16-1.239-16.62,1.377-24.514\n\tc2.708-0.903,5.44-1.852,8.136-2.951c-9.745-0.359-19.479-0.012-29.201-0.162c-1.1-2.06-2.118-4.144-3.206-6.169\n\tc-0.798,2.002-1.493,4.039-2.118,6.076c-5.892,1.702-12.049,1.366-18.079,1.238c-0.046-5.984,0.185-11.968-0.301-17.94\n\tc-2.72,5.88-1.574,12.546-3.657,18.6c-40.444,8.226-37.534,5.253-49.7,19.884c-0.706,0.856-1.562,1.366-2.581,1.551\n\tc-3.091-7.752-17.279-77.101-21.516-93.565c-1.852-7.153-2.269-14.537-0.706-21.771c-0.66,0.058-1.979,0.197-2.639,0.255\n\tc-1.423-5.926-2.083-12.176-5.127-17.558c-1.111,6.667-1.725,13.391-2.037,20.139c-3.236,21.418,3.107,24.184-1.308,34.433\n\tc-1.829,3.97-2.326,8.877-6.053,11.632c-0.382-3.148-0.556-6.308-0.845-9.456c-4.678,9.489-5.345,39.683-12.697,58.044\n\tc-8.811,27.039-0.945,15.484-24.537,32.234c-4.69-7.035,1.137-64.139-0.915-92.546c-5.82,16.646-11.784,54.425-13.507,60.729\n\tc-8.079,34.66-2.126,27.368-9.896,75.984c-6.771-11.771-11.481-24.572-18.218-36.354c-2.211-4.745-6.655-9.525-4.456-15.069\n\tc-1.099,0.301-2.153,0.602-3.16,0.903c-19.006-36.961-6.569-3.579-15.972-57.315c-0.614,6.979-1.134,13.97-2.141,20.903\n\tc-0.714-3.762-0.883-34.354-2.754-42.396c-2.799-12.84-10.333-81.366-10.799-85.798c-0.509,0.44-1.539,1.331-2.049,1.782\n\tc-0.324,9.618,0.683,19.329-0.799,28.889c-1.731,13.235-2.876,68.667-2.963,69.826c-8.249-4.997-19.409-36.707-33.38-53.287\n\tc0,1.159,7.469,45.118,12.072,57.951c5.984,16.593,1.756,81.974,1.84,83.542c-9.201,6.123-19.49,10.393-29.699,14.514\n\tc-0.926-11.215-3.229-22.326-2.674-33.623c-0.567-0.452-1.701-1.366-2.268-1.817c0.431,8.655-2.915,38.064-3.68,41.586\n\tc-2.72,1.25-5.371,2.57-7.986,3.935c-0.677-1.161-19.346-91.578-29.491-105.012c-5.048,15.629-5.666,106.754-6.597,115.961\n\tc-5.662-27.178-2.486-37.549-3.461-76.435c-4.295,8.012-11.626,46.403-18.38,72.963c-11.226-23.09-27.087-67.877-29.502-74.005\n\tc-2.72-6.227-1.273-13.137-1.678-19.699c-1.018,2.639-1.91,5.312-2.859,7.951c-3.195-5.995-4.769-12.789-8.762-18.356\n\tc1.389,9.201,5,17.87,7.095,26.921c1.015,4.835-7.256,44.416-10.116,47.292c-0.122-1.166-1.125-38.205-6.632-82.361\n\tc-1.112,3.591-7.712,59.351-7.836,60.509c-2.378,15.965,1.545,3.991-14.178,39.282c-25.302,3.984-14.345,6.392-17.141-51.262\n\tc-2.708,5.706-1.713,12.13-2.963,18.148c-2.141,12.859-5.023,25.567-7.731,38.31c-24.991,9.019-36.44,35.857-48.056,49.977\n\tc0.289-12.477,2.651-24.745,4.364-37.072c-2.003,3.242-18.781,46.397-19.005,46.667c-0.845-7.026,0.023-14.12-0.718-21.146\n\tc-4.248,11.319-3.9,23.762-6.609,35.486c-4.271-3.275-8.553-7.245-14.005-8.218c-9.167-0.44-18.079,3.437-27.268,2.049\n\tc6.871-6.475,33.384-18.734,38.368-25.104c-13.796,5.66-27.234,12.5-41.782,16.1c-1.69-4.641-5.127-8.762-5.15-13.866\n\tc-2.141-25.609,4.404-29.906,3.611-40.741c-1.111,0.926-2.118,1.886-3.113,2.847c0.219-1.159,5.793-91.522,5.104-99.294\n\tc-6.773,32.327-13.434,75.888-17.94,86.84c-2.801-7.952-0.532-17.523-5.729-24.572c-0.023,10.961-2.06,21.725-4.132,32.442\n\tc-12.463-22.793-43.738-90-43.738-90c0.359,12.847,6.47,24.525,10.081,36.62c0,0-0.827,41.84-11.771,133.565\n\tc-1.01-2.184-6.27-18.171-5.579-23.472c-0.463,0.092-1.389,0.255-1.852,0.347c-1.053-4.653-2.604-9.421-1.493-14.213\n\tc-0.59,0.069-1.771,0.208-2.361,0.266c2.787-12.237-15.835-111.331-16.285-112.488c-1.875-5.845-1.25-13.495-7.431-16.852\n\tc-7.053,12.517-9.209,88.755-13.148,100.787c-1.782,5.556-4.039,10.949-5.718,16.528c-0.799-0.903-1.539-1.805-2.245-2.708\n\tc-0.058,2.963-0.093,5.938-0.301,8.901c-3.02-10.104-1.725-14.028-2.06-65.463c0.552-33.51,26.655-115.413,31.146-139.491\n\tc-2.938,3.511-59.521,124.745-69.236,160.486c-1.759,6.088-3.623,12.164-6.435,17.859c-3.6,6.979-5.614,14.606-8.507,21.875\n\tc-0.382-16.03-3.183-31.921-3.692-47.94c0.231-7.975-0.081-16.007-1.979-23.785c-5.57,109.791,6.18,70.092-15.776,142.558\n\tc-3.915,13.591-5.667,38.295-11.215,41.632c0.081-2.87,0.475-5.694,1.1-8.484c-0.521,0.093-1.574,0.266-2.106,0.359\n\tc-0.845-3.472-1.771-6.921-2.373-10.44c1.424,2.731,2.581,5.602,3.981,8.368c0.81-3.982-0.729-7.732-2.002-11.412\n\tc-0.671,0.856-1.296,1.713-1.886,2.569c-1.065-3.9-2.095-7.813-3.345-11.655c0.81-0.081,2.419-0.255,3.229-0.347\n\tc-1.065-3.935-1.991-7.905-3.079-11.817c-0.313,1.794-0.555,3.6-0.741,5.417c-0.37-0.394-1.111-1.169-1.493-1.563\n\tc1.088-5.081,1.644-10.509,0.104-15.556c-0.509,3.09-0.718,6.204-1.065,9.306c-1.47-7.13-4.468-14.63-2.245-21.887\n\tc1.157-3.044-2.57-4.711-3.299-7.35c-1.736-5.706-0.706-11.782-0.926-17.65c1.095-32.494-5.589-25.871-0.035-89.074\n\tc-0.023-8.704,0.336-17.431-0.243-26.123c-2.083,9.977-3.16,20.139-5.116,30.139c-1.15-10.016-3.989-61.441-4.769-65.579\n\tc-1.574-10.613,2.211-21.111,0.567-31.713c-2.627,4.873-2.025,10.556-2.87,15.856c-1.662,52.706-17.478,131.593-18.426,133.577\n\tc-2.16-19.357,8.08-62.367,8.576-64.225c-0.451-0.347-1.354-1.053-1.817-1.401c-3.808,14.861-9.328,29.305-11.192,44.641\n\tc-3.38-8.148-0.197-17.315-3.414-25.44c-2.391,7.1-8.592,71.069-16.366,87.917c-0.579-3.53-0.914-7.072-1.319-10.613\n\tc0.44,0.174,1.319,0.544,1.759,0.718c-0.458-4.494-1.452-1.235,6.088-38.738c-5.833,3.802-6.846,17.373-13.634,27.905\n\tc-1.725-3.692-1.1-7.65-0.162-11.435c-0.486,0.706-1.447,2.118-1.933,2.813c-4.357-7.033-22.98-60.913-24.78-63.206\n\tc-0.149,4.569,6.795,38.941,8.217,44.491c4.019,14.096-7.929,72.235-15.474,96.898c-4.091-3.389,7.193-35.706,8.345-65.035\n\tc-5.683,3.206-5.232,10.486-9.028,15.174c-0.081-6.215,0.926-12.361,1.285-18.542c0.417,1.759,0.81,3.553,1.25,5.336\n\tc0.463-0.37,1.389-1.134,1.852-1.505c-7.427-15.844-1.804-55.243-8.842-68.796c-1.917,13.417,3.934,18.376-6.921,55.59\n\tc-0.37,1.516-1.47,2.651-2.384,3.819c-0.556-6.343-0.428-12.778,0.717-19.039c-0.509,0.104-1.528,0.336-2.037,0.44\n\tc-7.135-46.006-6.749-19.185,0.764-74.282c-3.958,3.576-4.12,9.12-4.907,14.016c-1.852,14.028-5.185,27.824-6.794,41.887\n\tc-1.1,6.296-3.761,12.176-6.146,18.056c-2.256-13.563-11.71-50.921-11.759-51.296c3.718-21.621,54.375-115.928,54.225-140.637\n\tc0,0-44.307,87.362-60.313,111.968c-2.859-7.859-3.75-16.238-6.192-24.225c-2.06-5.498,1.794-10.613,3.831-15.475\n\tc4.873-10.648,8.588-21.817,14.259-32.095c1.701-3.241,3.461-6.481,4.653-9.965c-7.038,5.283-22.997,35.539-27.766,36.493\n\tc-1.921-4.63-2.488-9.63-3.148-14.537c-4.659,14.974,1.581,14.503-2.176,24.317c-2.847-3.507-1.852-8.136-1.933-12.268\n\tc0.324-7.963-1.319-15.81-1.551-23.75c-2.593,6.007-1.574,12.708-3.368,18.912c-2.303,5.926-0.579,12.338-2.338,18.391\n\tc-2.382,7.811,2.305,8.307-5.012,19.282c-6.847-40.391-8.922-83.266-8.576-88.38l-1.1-0.035\n\tc0.592,18.977-9.234,88.339-13.414,103.565c-5.207,9.333-13.934,16.065-22.986,47.651c-2.269,5.833-3.82,11.979-6.91,17.454\n\tc-1.553-12.047-2.27-90.053-2.373-90.463c-4.271,14.93-5.208,30.59-8.773,45.683c-1.114,3.704-11.333,42.122-14.109,55.741\n\tc-2.083-3.229-4.884-5.914-8.854-6.366c-0.162-2.801-0.324-5.602-0.532-8.391c-1.481,1.296-2.87,2.662-4.213,4.063\n\tc0-0.001-6.308-56.017-6.308-56.018c-3.129,13.356-2.236,42.188-0.636,49.386c-0.033-0.022-27.938-22.472-40.544-31.748\n\tc-0.289-27.905,0.451-55.845-0.359-83.727c-2.604,5.417-2.604,11.562-3.831,17.338c-3.912,19.931-7.014,40.104-13.287,59.468\n\tc-7.465-1.528-15.104-0.799-22.639-0.891c-1.146-12.894,0.775-25.972-2.06-38.715c-2.442,14.005-3.82,28.183-6.713,42.118\n\tc-0.752,0.023-2.28,0.046-3.032,0.07c-0.069-5.243-0.787-10.428-1.84-15.544c-2.049,6.007-1.979,12.361-1.898,18.623\n\tc-9.375,8.044-18.252,17.986-20.799,30.44c-1.4,5.845-3.438,11.563-3.785,17.616c-0.451-0.44-1.342-1.296-1.794-1.736\n\tc2.065-6.152-3.624-9.276-5.694-28.507c1.992-6.798,20.983-36.639,22.511-57.13c0.337-8.456,4.665-16.971,6.192-34.907\n\tc0,0-29.258,58.237-29.26,58.241c-0.972-1.192-1.933-2.384-2.87-3.542c-0.845,4.907-1.713,9.826-3.241,14.572\n\tc-1.875-13.264-5.312-26.238-8.032-39.34c-1.169-5.139,0.695-10.278,0.729-15.44c-1.273,0.22-2.511,0.44-3.704,0.671\n\tc-3.891-13.42-6.487-42.327-9.838-48.97c0.926,8.009,0.127,16.134,1.516,24.109c5.105,37.572,6.354,34.242-3.889,42.014\n\tc-1.095-5.542-20.312-177.65-20.312-177.65c-0.533,0-1.597,0.012-2.118,0.012c-0.323,15.352-10.575,164.925-10.66,166.088\n\tc-2.475-5.292-14.523-82.152-15.382-91.505c-1.888,15.791,0.114,34.698,0.602,138.403c0.185,7.025-1.736,13.9-1.505,20.926\n\tc-1.969,18.859,1.9,5.687-12.164,25.961c-0.22-5.451-0.012-11.042-2.06-16.204c-4.423,30.722,2.079,9.79-6.493,28.125\n\tc-1.424-0.556-2.859-1.065-4.155-1.736c-1.273-2.083-0.313-4.386,0.521-6.412c-0.81-0.833-1.597-1.667-2.315-2.488\n\tc1.204-0.22,2.466-0.428,3.75-0.648c-0.579-1.655-1.076-3.31-1.551-4.965c-0.625,1.389-1.227,2.766-1.806,4.155\n\tc-0.116-1.979-0.139-3.947-0.162-5.926c0.66,0.127,1.968,0.37,2.627,0.498c-2.9-9.993,2.883-74.499,1.921-85.88\n\tc-0.374,1.159-34.8,142.191-40.313,151.609c0.188-6.044,8.439-36.907,8.472-42.187c-0.046-3.947,1.261-7.72,2.188-11.505\n\tc-1.505-0.706-2.465-2.951-1.204-4.248c1.829,0.266,1.077,2.917,1.204,4.248c1.365-3.171,2.986-6.273,3.553-9.722\n\tc-0.81,1.285-1.563,2.581-2.257,3.901c-1.088-0.44-2.118-0.88-3.125-1.308c-0.266-4.444-0.879-8.889-2.164-13.171\n\tc-5.719,10.517-10.349,37.292-16.759,47.454c1.667-7.558-0.185-15.359,2.13-22.847c-0.51,0.636-1.516,1.898-2.014,2.535\n\tc-4.386-3.912-2.442-9.757-1.25-14.641c0.498,0.15,1.493,0.451,1.991,0.602c-0.741-1.736-1.875-3.542-0.972-5.451\n\tc2.72-8.021,2.581-16.586,4.317-24.826c-0.659,0.255-1.991,0.752-2.65,0.995c-1.281,5.227-12.653,38.938-19.26,46.169\n\tc-0.474-3.565,0.452-6.91,3.553-8.981c-0.116-3.634-0.266-7.28-0.683-10.891c-2.674,2.674-1.481,6.713-1.782,10.081l-1.076,0.012\n\tc0-76.032,4.259-218.322,4.259-218.322c-1.835,3.962-27.442,117.612-36.018,180.706c-30.893-44.304-54.204-69.819-54.26-74.421\n\tc5.903-27.62,32.666-116.678,33.206-117.836c1.875-15.185,9.491-29.352,8.831-44.942c-13.045,15.947-60.205,104.834-74.606,124.583\n\tc-7.477-5.984-10.856-15.486-18.252-21.516c2.975,10.15,11.088,17.627,15.208,27.164c-0.451,6.943-56.288,101.879-61.782,122.141\n\tc-4.028,6.759-5.451,15.278-11.725,20.509c-3.892-6.981-6.371-8.669-4.63-19.595c1.668-9.095,6.465-59.896,5.023-75.15\n\tc-2.558,6.343-2.523,13.287-3.542,19.954c-7.948,44.578-1.836,23.124-15.474,76.146c-4.653-0.891-9.282,0.474-13.912,0.15\n\tc-8.611-1.227-16.782,2.558-25.22,3.472c-4.746,0.428-8.415,3.773-12.523,5.775c-7.813,3.484-11.655,11.574-17.234,17.546\n\tc-5.07,5.37-3.68,13.657-8.692,19.086c-2.521-24.024-30.91-154.836-31.285-155.995c-2.184,30.206,6.834,157.68,1.505,172.512\n\tc-6.871-14.131,0.342-65.992-9.653-70.822c-0.405,4.653-0.393,9.352,0.417,13.958c1.204,7.674-0.255,15.498,1.181,23.148\n\tc1.481,7.743-0.787,15.509-2.813,22.928c-0.648,3.183-4.768,4.016-5.15,7.327c-0.995,4.525-1.979,9.259-5.382,12.674\n\tc0.07-12.512,4.352-24.583,4.479-37.095c-4.956,5.741-5.574,26.588-12.523,35.972c3.587-46.706,5.566-33.337,6.805-88.623\n\tc2.971-59.561,21.294-122.198,13.345-149.711c-8.505,36.834-21.148,84.6-32.708,114.444c-0.032-0.429-2.87-53.252-2.87-53.252\n\tc-2.283,7.779-5.696,57.95-8.681,70.648c-0.903-7.917-0.231-15.88,0.764-23.75c0.255-14.676-0.035-29.363,0.07-44.039\n\tc0.008-1.159,3.274-41.027-0.822-53.773c-2.662,47.923-1.03,18.399-1.458,48.079c-0.041,10.439-18.021,75.407-26.354,120.938\n\tc-0.775-13.889,0.347-27.882-1.909-41.678c-1.806,5.845-1.887,12.002-3.125,17.963c-12.5-2.604-25.394-2.766-37.789-5.787\n\tc0.382-1.875,0.752-3.75,1.123-5.614c25.591-1.068,30.497-3.095,33.935-5.88c-3.914,0.189-27.243,2.844-32.662,1.991\n\tc-5.512-3.199,4.953-52.309-0.845-65.116c-11.235,52.981-12.862,56.536-15.671,61.215c5.098-63.05-5.456-129.239-7.373-135.393\n\tc-0.48,0.835-15.959,103.796-15.845,107.095c0.243,9.792-4.259,18.796-5.22,28.414c-8.044,2.349-16.447,1.632-24.688,1.655\n\tc-0.251-8.019-7.448-71.926-7.118-78.669c0.162-4.919,0.185-9.988-2.037-14.514c-0.509,5.486,0.011,11.019-0.614,16.493\n\tc-0.764,5.59-1.782,11.157-2.257,16.782c-0.475-0.44-1.412-1.331-1.887-1.782c0.023-5.636-0.614-11.423-3.345-16.458\n\tc-0.729,8.738,0.394,17.569-1.146,26.25c-0.505,35.125-4.241,39.421-6.366,53.056c-8.866-0.556-17.639,0.579-26.25,2.569\n\tc-0.081-3.947-0.104-7.882-0.116-11.829c-0.521,0-1.551,0.012-2.072,0.012c-0.301,4.664-0.359,9.607-2.546,13.854\n\tc-2.697,2.431-6.088,3.935-9.016,6.053c-9.34,6.018-16.644,14.56-25.463,21.227c-0.324-5.428-0.081-10.868-0.509-16.296\n\tc-5.98,12.144,6.028,18.631-20.475,41.516c-6.656-8.735-7.71-6.251-9.769-26.701c-2.632-14.367,4.161-62.416,5.926-70.035\n\tc10.275-49.147,8.368-45.46,8.368-78.449c-0.081-8.333,3.125-16.967-0.162-25.058c-6.127,10.693-8.794,38.602-22.095,64.178\n\tc-1.505,2.963-4.549,5.266-4.491,8.842c-0.835,15.448-13.501,38.086-19.444,58.577c-1.667,6.586-5.208,12.396-9.317,17.72\n\tc-2.208-15.976-0.212-46.531-7.546-102.812c-3.11,7.393-7.556,74.676-10.197,85.66c-0.206-0.135-61.4-54.526-61.4-54.526\n\tc-6.157-4.734-10.926-11.227-14.352-18.102c-0.482-12.847-4.26-51.836-3.738-59.907l-0.984-0.012\n\tc-0.139,6.586-1.655,13.079-1.377,19.688c-0.174,9.711,0.752,19.502-0.857,29.143c-1.088,7.072,0.324,14.236-0.752,21.296\n\tc-2.234,13.83-1.687,45.47-1.979,50.197c-5.767,51.482-1.381,61.712-8.657,65.579c-1.146-12.431-3.171-24.907-7.095-36.771\n\tc0.217-18.44-8.997-18.09-1.701-68.275c0.729-7.755-0.428-15.613,0.995-23.322c1.366-12.662,4.19-25.232,4.063-38.021\n\tc-0.792-16.77,4.11-25.621,10.231-101.042c-3.293,10.795-40.027,161.692-45.636,174.722c-2.403-7.78-2.915-42.736-2.963-48.426\n\tc-0.995,2.303-1.979,4.618-3.137,6.829c-0.301-3.31-0.37-6.632-0.405-9.942l-1.076,0.035\n\tc0.472,38.296-12.921,111.043-14.757,115.185c-1.271-12.192,4.744-83.14,4.005-90.463c-4.259,7.28-2.326,16.134-4.063,24.074\n\tc-0.735,6.915-13.352,33.37-17.083,52.373c-1.123,5.914-2.72,11.725-4.595,17.431c-3.368-1.887-6.644-4.178-8.53-7.616\n\tc-1.007-1.157-1.412-3.252-3.241-3.183c-3.519,4.12-6.308,8.808-8.38,13.82c-6.238,15.014-8.847,10.929-10.787,51.806\n\tc-0.891,5.729-1.007,11.528-0.914,17.315c-1.655,0.567-3.287,1.157-4.884,1.736c-0.857-3.403-0.475-6.898-0.671-10.347\n\tc-2.269-8.449-0.961-17.257-1.725-25.868c5.603-20.354,13.562-31.864,18.646-51.493c-7.801,11.389-11.343,25.336-20.243,36.018\n\tc-1.178-11.945,2.645-46.569-11.84-65.023c0,0,0.406-5.269,2.268,80.475c-0.245,11.721,1.179,11.719-5.752,23.727\n\tc-2.558-10.961-4.41-22.06-6.065-33.183c-0.521,0.417-1.551,1.273-2.072,1.69c0.433,37.899,1.336,16.475,1.111,36.956\n\tc-3.125-1.25-6.227-2.5-9.306-3.796c0.695-0.636,1.424-1.273,2.176-1.898c-4.873-2.535-7.118-7.639-9.259-12.384\n\tc-0.37-1.887-0.162-3.831-0.243-5.718c-1.968,5.775-3.38,11.736-4.502,17.743c-9.12-0.532-18.148,0.718-27.211,1.285\n\tc-0.706-5.336-0.463-11.146-3.356-15.88c-0.556,4.745-0.104,9.525-0.556,14.282c-1.25,0.961-2.766,1.458-4.143,2.118\n\tc0.195-1.157,5.802-86.605,5.231-90.405c-3.928,7.791-19.878,88.792-23.229,91.875c-4.051,0.498-8.136,0.197-12.176,0.208\n\tc-0.568-5.744-3.619-40.228-9.282-48.137c-0.038,0.385,1.853,24.928,0.613,38.368c-12.127-26.605,18.256-128.33,19.908-150.741\n\tc-3.326,2.648-2.687,6.987-7.303,23.472c-1.921,6.144-31.777,63.592-35.139,69.016c-3.063-15.47-2.686-80.895-4.028-95.787\n\tc-3.314,7.524-10.785,48.639-16.088,62.072c-4.833-9.803-18.317-24.711-29.363-27.257c0.22,2.245,0.116,4.583,0.822,6.759\n\tc3.403,6.053,8.055,11.539,10.046,18.299c-0.59,4.699-2.708,9.144-2.986,13.947c-0.064,1.165-6.474,87.177-6.111,95.764\n\tl-0.984,0.046c-0.415-16.946-15.485-128.342-15.914-129.12c-1.239,15.59-3.495,31.111-4.236,46.736\n\tc-1.714,10.282,1.288,50.683-10.081,66.192c-4.12,5.636-5.266,12.928-10.023,18.148c1.377-7.894,2.905-15.891,2.002-23.947\n\tc-0.683-6.783,1.447-14.664-3.021-20.498c-0.926,2.639-1.644,5.336-2.303,8.044c-4.907-19.856-1.487-15.637-4.931-27.535\n\tc-1.065,14.12,0.833,28.38-1.146,42.442c-0.544,12.94-2.222,25.833-1.875,38.808c-3.765-3.618-1.506-14.644-4.919-23.333\n\tc-1.817,5.127-2.651,10.544-3.079,15.949c-8.569-14.075-16.091-13.506-22.859-17.639c-2.65-17.594-7.27-18.95-4.699-42.928\n\tc1.318-19.087,6.478-35.246,7.512-58.738c-10.126,13.625-11.1,33.924-12.35,50.093c-2.685-8.392-9.164-107.661-9.259-108.819\n\tc-4.629,11.039-14.937,112.262-29.491,127.419c-0.243-3.194,0.799-6.632-0.613-9.653c-24.282-52.36-20.642-104.747-26.053-125.903\n\tc-1.285,7.952,1.782,15.775,0.799,23.727c-1.019,7.905-1.528,15.868-2.708,23.75c-11.782-37.36-14.906-62.359-19.074-70.579\n\tc-0.468,7.323,12.248,68.619,17.292,85.046c2.449,8.144-1.203,26.91-2.893,35.22c-0.391-1.158-30.655-99.355-37.234-109.954\n\tc5.768,49.821,16.511,228.424,16.157,230.081c-3.507-1.956-7.917-3.009-10.127-6.62c-2.847-4.988-8.449-7.141-12.94-10.289\n\tc-5.776-4.618-11.204-9.676-16.157-15.162c-8.505-31.971,5.041-81.422,3.97-100.706c-3.196,6.073-1.502,5.277-10.914,38.09\n\tc-0.451-3.843-1.019-7.685-2.292-11.343c-3.277,10.656,0.112,37.663-16.643,70.498c-0.035-7.118,1.47-14.283-0.139-21.331\n\tc-1.908-7.317-2.808-64.229-6.366-71.273c-0.59,6.366-1.806,12.685-1.701,19.109c-0.023,7.778,0.486,15.625-0.856,23.333\n\tc-0.66,9.572-0.104,19.19-0.231,28.785c0.127,6.354-1.239,12.604-1.516,18.947c-28.624-43.574-16.473-12.517-18.264-53.692\n\tc-1.91-14.213-1.262-28.646-0.046-42.905c0.289-4.248-0.926-8.38-1.018-12.604c-0.255-7.928,0.313-15.868-0.255-23.773\n\tc0,0-22.973,96.867-26.053,106.343c0,0-13.672-75.075-13.947-76.273c-0.556,7.234-0.614,14.56,0.498,21.759\n\tc2.13,22.535-3.038,45.742-3.264,56.389c-0.521,0-1.563,0.012-2.095,0.012c-0.035-6.482-0.197-12.963-0.556-19.421\n\tc-4.904-25.182-5.043-65.7-8.484-78.414c-2.247,23.1,4.215-8.738-6.69,68.472c-14.583-17.111-10.047-41.005-20.903-86.748\n\tc-1.03-7.373-5.151-13.785-6.921-20.949c-1.458-7.893,0-15.903,0.648-23.785c-0.104-21.006-1.359-46.057-1.47-47.049\n\tc-2.836,4.282-2.812,9.595-3.252,14.525c-0.44,5.868-3.067,11.285-3.75,17.118c0,0,3.741,69.373-9.375,138.484\n\tc-9.321-56.531-10.35-22.259-0.729-156.655c-0.012-4.549,0.347-9.109,1.701-13.461c1.782-5.81,1.956-11.898,2.986-17.836\n\tc0.81-5.243,2.141-10.382,3.183-15.579c-6.319,6.157-5.486,16.099-11.169,22.627c-15.82,20.886-60.063,133.113-60.66,134.271\n\tc-18.141-32.247-23.811-32.601-27.269-52.35c-3.376-22.654-13.491-119.58-17.199-134.688c-2.216,22.529,5.848,47.515,1.435,57.72\n\tc-6.657-22.425-4.988-27.685-8.31-35.775c-0.537,7.617-0.588,56.067,0.185,63.599c0.382,4.734-2.037,9.294-1.204,14.051\n\tc0.798,5.949,0.764,11.968,1.134,17.951c-0.247,3.448-9.746,36.178-14.178,44.467c-0.544-6.968,0.428-14.005-0.671-20.914\n\tc-5.334-22.001,1.65-28.242,2.813-128.935c0.116-7.118-0.509-14.283,0.683-21.343c0,0-1.741-67.401,1.25-84.306\n\tc0.683-5.845,0.532-11.759,0.093-17.616c-0.457,1.158-32.702,138.556-42.072,159.549C1227.739,166.388,1205.151,0,1205.151,0\n\tc-0.102,15.06-2.662,50.129-12.222,101.551c-1.505-0.833-2.998-1.678-4.479-2.523c2.338,7.708,3.056,16.065-0.069,23.692\n\tc-0.787-3.183-1.493-6.4-2.975-9.329c-1.192,9.248,3.796,19.19-1.065,27.894c-0.471-4.804,0.095-34.235-3.31-46.227\n\tc-9.616,47.412-13.909,182.389-21.875,194.56c-1.494-14.192-8.392-49.266-7.581-58.322c-0.567-0.452-1.701-1.366-2.269-1.817\n\tc0.114,7.322-0.735,33.414,1.944,50.394c0.023,0.184,1.806,34.224,1.806,34.224c4.095,26.245,0.184,35.456-0.428,50.995\n\tc0.139,2.199-1.748,3.553-3.009,5.07c-6.099,6.192-10.15,14.155-16.806,19.826c-0.88-2.477-1.146-5.498-3.588-7.014\n\tc-22.581-16.129-2.721-50.246-1.968-109.826c-3,3.481-32.8,88.569-38.6,97.384c-3.75,2.755-8.75,1.308-13.056,1.597\n\tc-1.204-5.683-2.72-11.319-4.792-16.759c-0.347,5.567-0.208,11.157-0.22,16.736c-5.243-0.058-10.544,0.451-15.752-0.243\n\tc-8.374-5.583-38.65-129.481-48.901-142.732c-0.266,3.808-0.023,7.627,0.613,11.389c1.396,9.599-0.968,46.685-0.694,50.463\n\tc-0.009,1.159,2.886,67.753,0.417,72.546c-0.286-1.158-18.654-44.895-22.245-49.919c-1.678,13.948,12.111,44.46,14.549,65.486\n\tc-1.019,6.481-3.137,12.766-3.947,19.294c-2.396-4.549-3.09-9.873-6.25-14.039c1.344,19.969,7.688,17.434,0.486,32.222\n\tc-0.012-5.451-1.771-10.625-4.896-15.058c-0.88,3.102-1.516,6.273-2.292,9.398c-0.243-11.609-0.012-23.403-3.194-34.687\n\tc-0.37,2.697-0.347,5.463-0.938,8.125c-1.099,1.62-2.616,2.882-3.692,4.514c-1.782,10.914-2.049,22.06-1.794,33.102\n\tc-2.153,0.393-4.306,0.764-6.447,1.157c2.709-6.052,1.175-5.844,6.493-37.234c-0.694,0.069-2.095,0.22-2.789,0.301\n\tc-2.766,7.431-7.049,14.167-10.185,21.447c-2.778,5.44-4.028,11.956-8.796,16.134c0.093-3.206,0.613-6.354,1.146-9.502\n\tc-0.81-0.22-2.419-0.66-3.229-0.879c-2.141-15.162-9.942-28.681-13.206-43.542c-6.424-14.572-9.873-30.185-14.803-45.278\n\tc-2.164-5.81-0.799-12.06-1.435-18.055c-1.146-1.157-2.836-1.065-4.294-1.331c-0.343-1.745-11.764-50.08-12.662-51.748\n\tc-0.627,17.585,9.35,71.38,9.78,75.208c1.641,8.35-11.103,59.925-15.035,68.333c-0.706-3.079-0.602-7.106-4.329-8.102\n\tc0.729,4.618,2.014,9.155,2.604,13.808c-3.31-1.412-6.377-3.287-9.375-5.243c0.031-1.157-10.022-131.648-13.854-138.148\n\tc0.613,6.713,1.597,13.438,0.926,20.197c-1.119,10.853-17.366,108.464-19.78,116.725c-20.255,0.981-24.337,7.741-31.296,9.352\n\tc-4.201,0.521-8.333-0.833-12.489-1.238c-3.323-16.71-4.027-72.226-9.433-101.447c-0.509-3.021-1.262-6.065-0.891-9.132\n\tc4.19-7.13,11.192-12.5,14.236-20.347c-5.59,4.34-9.792,10.162-15.336,14.56c-3.044-9.699-2.234-19.861-2.708-29.838\n\tc-3.898,13.424-2.857,36.834-8.287,42.975c-13.656,16.412-38.16,35.209-56.389,53.067c-5.551-8.416-16.44-32.378-20.718-35.984\n\tc1.563,11.782,6.181,22.859,9.317,34.271c0.799,3.368,3.021,6.539,2.975,10.012c-3.183,4.225-7.222,7.87-12.002,10.197\n\tc-14.065-58.65-4.174-123.946-10.15-136.516c-3.483,28.556-19.232,99.849-23.657,108.727c0.162-3.542,1.238-7.025,0.972-10.579\n\tc-6.383-17.028-12.577-5.274-16.296-45.313c-0.287-2.459-6.121-31.105-7.708-35.498c-0.709,7.532,7.895,94.826,1.076,98.125\n\tc-2.569-2.326-4.699-5.081-7.014-7.627c0.509,3.438,1.053,6.875,1.319,10.347c-25.261,5.999-23.259,8.121-34.688,10.093\n\tc1.644-7.535,4.618-14.873,4.502-22.685c-1.863,3.993-4.063,7.836-6.84,11.273c-2.419-79.001,10.088-163.431,3.704-183.981\n\tc-3.65,69.889-9.814,94.5-14.363,117.037c-1.146-0.22-2.28-0.44-3.414-0.66c-1.065,13.979,5.555,5.369-11.701,86.447\n\tc-7.801,2.176-15.637,4.502-23.75,5.127c-0.822-7.072-3.588-13.669-5.22-20.544c-2.05-2.446-15.604-25.581-16.215-26.944\n\tc-14.308-30.348-21.485-30.545-35.764-37.685c2.153-15.926,4.745-31.782,6.655-47.743c-2.824,4.803-2.812,10.567-4.236,15.833\n\tc-2.234,10.718-7.419,20.44-11.134,30.66c-4.653,1.019-9.468,1.643-13.785,3.738c3.889-0.394,7.766-1.03,11.609-1.759\n\tc0.197,1.921,0.683,3.97-0.231,5.81c-2.72,6.586-4.919,13.403-7.963,19.85c-1.039,6.126-8.757,35.876-12.801,40.625\n\tc-2.633-25.862-7.928-41.541-6.25-51.609c3.102-4.005,7.801-6.493,10.845-10.602c-4.028,0.961-7.766,2.72-11.632,4.132\n\tc-1.597-9.502-2.187-19.132-3.102-28.715c-4.063,11.829-2.153,24.873-6.262,36.655c-2.975,2.998-6.863,4.884-10.382,7.153\n\tc-1.331-18.75-4.248-37.35-5.856-56.076c0,0-1.493-57.719-1.678-59.537c-2.187,11.528-3.079,23.276-4.942,34.873\n\tc-2.928-5.555-1.817-12.164-4.178-17.882c-0.611,4.001-11.186,120.948-19.977,134.768c-1.956,2.014-4.317,3.553-6.505,5.289\n\tc1.119-8.302,3.349-61.38,6.343-69.074c2.396-6.331,4.965-12.732,5.359-19.56c-2.107,2.535-3.866,5.335-5.914,7.917\n\tc0.613-5,1.528-10.011,0.961-15.069c-3.518,5.22-3.472,11.782-4.769,17.743c-4.45,19.407,4.341-0.555-20.127,60.903\n\tc-0.949-4.514-1.493-9.074-1.979-13.646c-3.14,9.221,0.795,30.21-13.958,48.68c-2.269-15.88-6.62-31.4-7.951-47.431\n\tc-7.779,17.21-1.758,6.873-1.956,60.336c-4.329,0.775-8.646,1.655-12.951,2.581c0.278-3.067,0.706-6.123,1.331-9.132\n\tc-0.532,0.208-1.62,0.602-2.164,0.81c1.597-6.435-2.662-12.188-3.426-18.403c-3.069-24.683,66.975-247.974,67.153-249.132\n\tc-5.451,9.942-8.426,20.984-13.391,31.146c-16.785,28.259-38.357,80.95-39.873,85.127c-4.086,10.718-5.683,22.188-9.931,32.847\n\tc-7.665,22.859-5.165,31.963-12.998,46.215c-0.22-6.123-1.308-12.13-2.315-18.148c-1.088-6.319,1.493-13.727-3.507-18.854\n\tc-3.626,51.221-9.232,57.855-12.569,68.114c-0.558-1.173-20.535-37.046-31.944-50.417c0.347,5.81,3.762,10.718,5.116,16.262\n\tc1.736,6.805,5.625,12.731,8.97,18.808c6.667,10.59,10.984,22.419,15.59,33.981c-0.047,11.99-1.414,27.808-6.748,38.553\n\tc-0.701-5.303-2.537-17.612-6.424-21.227c0.319,19.284,4.108,25.574,3.403,33.079c-0.649,6.909-8.857,29.871-9.711,37.268\n\tc-0.393-0.382-1.169-1.146-1.562-1.516c2.444-11.766-2.629-20.152-2.847-27.199c-0.521,0.104-1.562,0.313-2.083,0.417\n\tc-0.891-18.287,3.843-36.377,2.014-54.664c-3.206,17.917-6.458,35.949-12.187,53.264c-0.532-6.401-0.81-12.986,1.574-19.074\n\tc0.613-7.118-0.972-14.306-0.37-21.47c-1.117-64.381,3.83-50.248,1.701-85.648c-8.974,25.604-5.448,27.315-16.806,68.31\n\tc-0.59-12.049-0.868-24.41,2.28-36.146c-0.729,0.127-2.211,0.393-2.94,0.521c0.625-0.833,1.262-1.655,1.898-2.465\n\tc-0.741-4.086-1.296-8.357,0-12.384c-3.368-0.37,0.22-3.657,0,0c1.477-6.279-3.618-0.384,7.037-35.393\n\tc2.271-6.869,16.48-55.166,17.072-60.961c-2.454,4.491-3.912,9.421-6.319,13.924c-0.665,1.158-27.475,48.893-34.942,60.139\n\tc-1.712-31.568-24.345-143.701-30.475-157.546c-0.033,0.509,6.014,121.654,6.4,123.947c3.88,55.567,16.462,60.153-1.759,81.956\n\tc3.617-18.739-13.739-48.802-20.88-90.822c-0.949-4.097-0.764-8.657-3.357-12.199c0,0,3.393,76.858,5.625,139.641\n\tc0.776,9.155-4.572,17.118-9.143,24.56c-1.007-3.623-2.176-7.187-3.681-10.637c0.718,0.243,2.141,0.717,2.847,0.961\n\tc-1.389-6.863-6.968-11.597-8.773-18.252c-17.248-28.256-12.188-25.616-34.78-42.592c0.752-1.158,42.871-80.307,49.641-105.336\n\tc-2.755,2.06-4.907,4.78-6.574,7.778c-13.804,24.555-19.705,29.512-25.706,39.074c-4.178,6.562-10.185,11.863-13.449,19.016\n\tc-5.058,9.259-9.815,19.317-18.31,25.961c4.898-23.327-1.71-17.372,5.475-26.25c-5.397-10.862-0.396-24.974,0.37-45.289\n\tc0.227-1.681,1.716-37.432,1.713-37.5c0,0-26.833,85.164-33.183,101.713c-8.835-47.357-12.043-123.692-12.153-124.85\n\tc-2.558,5.197-2.743,11.088-3.322,16.736c-8.06,67.591-0.272,31.491-14.421,99.236c-4.734-7.639-4.12-18.044-10.671-24.676\n\tc0.514,29.075,16.688,19.783,1.887,68.843c-0.509,2.025-2.488,3.102-3.9,4.456c1.075-12.663-4.6-26.234-2.106-37.187\n\tc2.489-11.336-1.097-27.415-0.845-33.877c-0.521-0.428-1.539-1.285-2.06-1.713c-1.076,4.525-1.898,9.132-3.356,13.565\n\tc-0.904-10.608,1.02-13.99-1.852-37.268c-2.465,2.164-1.62,5.706-2.373,8.565c-0.509,3.553-3.715,6.03-4.016,9.664\n\tc-1.516,10.613-3.588,21.146-5.359,31.724c-3.808-13.692-5.278-28.009-9.583-41.609c-1.41,22.969,2.209,6.881-3.056,53.322\n\tc-4.005-8.981-5.22-18.935-9.387-27.87c-3.194,5.648-0.868,12.407-1.898,18.53c-1.667-5.648-1.91-11.644-4.039-17.164\n\tc-1.609-3.518-0.208-7.5-1.643-11.053c-6.453-16.023-4.451-34.506-8.993-41.32c2.326,11.875-2.083,23.53-2.35,35.382\n\tC2.477,271.088,1.4,275.232,0,279.225V729.78h6000V331.805C5997.801,339.78,5996.933,348.021,5995.336,356.123z M19.792,312.269\n\tC23.6,312.465,18.009,315.764,19.792,312.269L19.792,312.269z M20.66,310.289c-1.562-0.232-1.829-1.053-0.81-2.454\n\tC21.412,308.056,21.678,308.877,20.66,310.289z M168.854,419.607c-4.838,0.127-9.734-0.44-14.525,0.324\n\tc-4.676,2.106-6.933,7.257-11.296,9.919c-1.771-2.072-3.715-3.982-5.752-5.787c-0.278-2.627-0.961-5.185-1.042-7.824\n\tc-0.949-0.544-1.887-1.065-2.847-1.574c2.13-4.06,2.281,0.156,2.014-20.556c0.104-2.477-2.292-4.352-1.759-6.898\n\tc0,0-0.505-19.27,0.012-25.405c-2.514-7.19-0.025-3.023,6.991-20.208c9.197,8.898,13.34,20.046,26.69,49.525\n\tc2.951,6.806,3.333,14.306,4.977,21.458C171.516,415.069,170.093,417.315,168.854,419.607z M389.757,373.762\n\tc-4.903-5.837-1.268-16.256,5.914-45.023C396.26,334.604,393.667,368.195,389.757,373.762z M402.65,387.685\n\tc-0.972-1.088-2.616-2.037-1.863-3.715c1.134-4.491,0.498-9.143,1.169-13.657c1.493-2.072,3.229-3.958,4.965-5.822\n\tC405.926,372.28,405.44,380.278,402.65,387.685z M446.968,327.35c4.317-3.287,6.505-8.947,11.725-10.995\n\tc-1.088,3.125-2.662,6.065-4.491,8.831c-2.546,3.924-3.877,8.461-5.938,12.627C447.211,334.421,446.91,330.891,446.968,327.35z\n\t M459.468,376.806c-0.579,7.72-2.581,15.324-2.326,23.113c0.035,4.016,0.116,8.044-0.104,12.072\n\tc-5.143-4.166,0.509-12.596-4.074-35.486c-2.011-22.694-3.009-13.194,3.762-44.201c0.324-1.817,1.366-3.333,2.581-4.664\n\tC459.618,344.028,459.676,360.417,459.468,376.806z M489.699,458.102C493.495,458.299,487.917,461.597,489.699,458.102\n\tL489.699,458.102z M546.007,385.127c-1.829-2.917-3.495-6.215-6.956-7.465c0.613,3.588,2.419,6.759,3.727,10.116\n\tc-7.789-5.602-7.847-16.944-15.058-22.986c-0.637,4.722,3.495,7.986,4.248,12.419c1.1,5.15,2.512,10.255,3.623,15.393\n\tc-3.762,4.34-8.426,7.847-11.956,12.407c-18.005,25.918-32.006,68.365-32.685,69.526c-0.683-5.127-0.22-10.336,1.609-15.197\n\tc-2.361-3.669-0.162-7.975-1.609-11.91c-0.66,0.243-1.991,0.717-2.662,0.949c1.25-5.232,0.498-10.556-0.66-15.718\n\tc-0.81-0.59-1.62-1.169-2.419-1.748c-0.313-2.627-0.938-5.22-1.181-7.847c0.498-4.398,1.829-8.75,1.4-13.206\n\tc0,0,16.004-104.649,18.264-114.282c2.813,0.969,21.26,3.835,28.495,38.611C534.363,344.08,550.093,376.327,546.007,385.127z\n\t M579.699,414.78c0.046,1.898-2.049,2.257-3.345,2.963c0.266-1.25,0.556-2.488,0.88-3.704c-2.813-0.347-5.243-1.794-7.732-3.021\n\tc0.347-1.319,0.706-2.627,1.053-3.947c-0.926-2.049-1.563-4.201-1.748-6.435c-2.014-1.493-1.655-3.785-1.285-5.949\n\tc-0.903-1.088-1.458-2.373-1.968-3.657c5.822-3.113,11.505-6.528,17.755-8.762C583.507,393.194,581.238,403.993,579.699,414.78z\n\t M657.164,388.114c-1.159,0.105-31.013,4.74-42.083,3.704c-1.331-6.401,0.127-12.998-1.817-19.317\n\tc12.315-5.197,25.59-7.477,38.102-12.049C661.352,390.356,658.224,376.791,657.164,388.114z M731.076,432.94\n\tc-4.699-4.803-7.558-11.007-11.898-16.088c-2.083-7.384-1.91-15.208-3.796-22.662c3.623-5.579,8.333-10.393,11.806-16.1\n\tc0.405-0.023,1.227-0.093,1.632-0.127C731.754,383.281,732.201,385.594,731.076,432.94z M744.236,429.028\n\tc-2.859-4.271-4.826-9.225-4.907-14.41c-0.683,1.412-1.308,2.847-1.991,4.259c0.706-7.407-1.84-14.456-2.431-21.736\n\tc4.421,6.724,6.377,14.734,8.194,22.477C743.704,422.743,746.516,425.938,744.236,429.028z M776.921,353.854\n\tc-0.316,8.723-1.933,10.203-13.565,60.382c-1.431-2.238-8.793-18.25-10.312-22.836c-5.816,0.16-4.065-8.837-15.88-25.278\n\tc1.12-1.157,44.325-55.121,49.688-58.218C785.547,321.797,781.094,343.234,776.921,353.854z M1802.789,360.093\n\tc-1.285,5.741-1.377,11.84-3.97,17.222c-0.116-1.157-0.781-25.53-2.326-31.956c-1.632-8.333-1.516-16.84-1.331-25.278\n\tc-0.301-1.725,1.018-2.801,2.106-3.889c0.301,2.269,0.579,4.56,0.59,6.863c0.903,0.613,1.806,1.25,2.743,1.887\n\tc0.567,4.525,3.438,8.009,5.776,11.713C1808.357,344.734,1804.271,352.326,1802.789,360.093z M1874.525,452.454\n\tc-3.102-3.982-2.234-9.456-2.002-14.167c-0.463-2.662-2.778-5.475-5.671-5.417c0.012-2.442,0.035-4.873,0.081-7.303\n\tc3.438-0.937,6.979-1.528,10.579-1.412C1874.988,433.449,1877.465,443.241,1874.525,452.454z M1892.708,488.981\n\tc0.255-1.157,0.567-2.292,0.926-3.403c-0.66,0.266-1.991,0.81-2.65,1.076c2.021-9.112,4.529-45.051,3.68-64.41\n\tc1.215-0.533,2.454-1.065,3.715-1.609c2.518,14.323,7.726,73.785,9.19,78.796C1902.487,500.74,1901.826,506.047,1892.708,488.981z\n\t M1923.727,487.222c0.486,0.301,1.447,0.891,1.933,1.181c-0.614,2.928-2.014,5.648-2.326,8.657\n\tc-1.065-0.474-2.118-0.926-3.137-1.377c2.917-10.776,2.928-22.13,6.69-32.708c-5.439,2.344-5.611,11.368-12.5,21.875\n\tc-0.023-2.315,0.301-4.63,0.197-6.933c-1.342-2.535-3.727-4.583-4.12-7.535c-0.845-5.266-2.118-10.498-1.968-15.868\n\tc6.505-1.412,13.125-2.268,19.618-3.819C1927.548,453.451,1930.965,464.286,1923.727,487.222z M1907.662,452.141\n\tc-1.62-10.081-3.368-20.185-3.796-30.382c2.002,0.243,4.306-0.22,6.088,1.053C1941.193,442.799,1933.904,443.185,1907.662,452.141z\n\t M2189.479,389.225c-1.6,6.236,0.829,26.337-6.308,23.958c-0.127,1.91-0.324,3.819-0.486,5.741\n\tc-12.836-35.201-19.35-44.099-38.947-44.734c-6.088-1.586-11.724-4.502-17.581-6.736c0.093-5.532-0.498-11.157,0.671-16.609\n\tc0.556-2.697,0.498-5.463,0.382-8.183c-4.56,6.412-6.204,14.745-5.718,22.546c-0.567,0-1.701-0.012-2.268-0.012\n\tc-1.154-39.544-3.133-57.337-3.449-99.873c4.745,4.259,9.225,8.97,12.338,14.595c2.871,5.405,7.523,9.572,10.533,14.907\n\tc0,0.001,30.173,47.395,30.173,47.396c2.397,3.481,18.543,31.069,19.051,31.84C2190.856,378.519,2189.896,384.19,2189.479,389.225z\n\t M2271.933,404.468c-1.852,0.046-0.822-2.824,0.417-3.09C2274.213,401.389,2273.229,404.225,2271.933,404.468z M2296.308,416.123\n\tc-0.346,1.272-2.314,12.656-6.343,11.4c-2.742-7.423-8.993-7.845-7.384-20.567c1.149-6.951-2.685-20.56,2.083-25.613\n\tc7.755-10.336,17.106-19.641,27.847-26.863C2309.219,375.339,2297.871,408.459,2296.308,416.123z M2344.722,352.268\n\tc-6.019,3.646-9.93,9.769-15.845,13.461c-0.359-6.424-0.116-12.859-0.174-19.282c-0.579,0.417-1.724,1.262-2.292,1.69\n\tc1.076,6.053-0.567,12.164,0,18.264c0.44,3.287-1.053,6.285-3.322,8.553c-0.382-5.185-0.035-10.393-0.185-15.579\n\tc-0.058-3.762-1.678-7.407-1.042-11.18c2.824-3.044,7.176-3.796,10.764-5.683c4.224-2.141,9.028-1.678,13.623-1.574\n\tC2345.636,344.699,2344.884,348.449,2344.722,352.268z M2392.188,393.576c-0.081,7.581-2.014,15.139-1.435,22.72\n\tc-0.671-0.058-2.014-0.162-2.685-0.22c-1.366-9.178-5.683-18.079-4.838-27.523c2.199-5.972,5.718-11.354,9.028-16.759\n\tC2391.921,379.051,2392.731,386.308,2392.188,393.576z M2372.674,345.475c-0.023-1.493-0.011-2.974,0.035-4.456\n\tc7.384-1.748,14.942,0.602,22.465,0.012C2393.844,346.792,2380.825,345.436,2372.674,345.475z M2453.97,497.708\n\tc-0.415-16.328-10.902-66.479-11.864-82.06c4.063,5.417,14.789,38.349,15.243,39.641c2.593,7.627-0.069,15.567-0.173,23.31\n\tC2457.546,485.127,2455.498,491.447,2453.97,497.708z M2474.653,359.537c-1.235,5.392-4.523,61.098-9.144,68.704\n\tc-0.336-4.78,0.602-10.289-3.484-13.773c0.093,6.956-1.516,13.761-1.643,20.706c-4.383-1.855-8.713-15.156-16.412-20.926\n\tc-2.199-1.366-2.222-4.225-2.755-6.47c-0.671-11.852-2.454-23.611-3.218-35.463c0.371-3.137,0.868-6.285,0.579-9.433\n\tc-0.093-2.257-0.845-4.641,0.347-6.736c12.57-1.482,25.486,1.493,37.928-1.331c-0.011,1.898,0,3.796,0.046,5.706\n\tC2476.331,360.266,2475.22,359.78,2474.653,359.537z M2682.986,356.238C2686.771,356.412,2681.192,359.745,2682.986,356.238\n\tL2682.986,356.238z M2683.171,359.525C2686.632,357.72,2683.38,363.333,2683.171,359.525L2683.171,359.525z M2766.377,389.988\n\tc1.678,0.232,2.407,3.507,1.875,5C2766.377,394.78,2765.451,391.516,2766.377,389.988z M2767.535,399.039\n\tc1.574-0.37,2.199,0.243,1.875,1.863C2767.778,401.238,2767.153,400.613,2767.535,399.039z M2768.704,405.012\n\tc1.32-0.81,2.905,1.435,1.933,2.558C2769.248,408.345,2767.65,406.111,2768.704,405.012z M2771.528,413.715\n\tc-1.655,0.452-2.246-0.139-1.759-1.759C2771.331,411.516,2771.921,412.107,2771.528,413.715z M2775.278,420.197\n\tc-1.609-0.243-1.887-1.053-0.822-2.442C2775.984,417.986,2776.261,418.808,2775.278,420.197z M2808.993,406.146\n\tc0.174-3.218,1.007-6.401,0.625-9.641c1.481-1.331,2.986-2.662,4.502-4.005c-0.648-0.532-1.956-1.609-2.616-2.153\n\tc-0.139,1.123-0.417,3.368-0.555,4.502c-1.111-4.028-0.659-8.287-1.852-12.292c1.447-0.023,2.94-0.035,4.456-0.046\n\tc-1.042,2.257-1.956,4.56-2.616,6.956c2.28-1.516,4.826-2.535,7.65-2.454C2818.265,390.317,2809.781,404.988,2808.993,406.146z\n\t M2845.231,385.729c-4.907-1.377-10.023-0.532-15-1.053c-1.308-1.076-2.188-2.488-3.09-3.843c-3.495,1.053-7.002-0.556-10.486,0.116\n\tc-3.866,0.961-7.153-2.049-10.938-2.164c-0.058,14.225-5.301,27.813-6.146,41.968c-0.521,0-1.563,0-2.083,0.012\n\tc0.359-6.528-0.938-12.986-0.428-19.491c-0.521-2.234-0.058-5.579-2.697-6.435c-3.542,12.014,0.579,24.815-3.264,36.771\n\tc-2.269-2.049-3.195-4.861-3.414-7.824c-1.505,0.671-2.94,1.47-4.19,2.465c-0.521-1.343-1.03-2.697-1.447-4.028\n\tc-1.516,0.081-3.032,0.556-4.468,0.116c-1.644-6.308-4.93-12.014-6.331-18.414c2.766-1.076,0.463-4.56-0.521-6.285\n\tc-1.609-1.227,0.197-2.326,0.88-3.461c-2.303-3.715-2.326-8.218-1.748-12.419c2.159-3.007,17.102-7.606,27.928-4.005\n\tc-2.986-6.834-17.927-7.097-25.243-6.933c-1.215-2.477-3.6-4.792-2.743-7.766c4.594-25.653,23.576-93.333,23.576-93.333\n\tc6.708,7.006,18.678,37.711,34.873,61.204c6.921,11.921,12.835,24.398,18.785,36.829\n\tC2847.917,373.796,2846.748,379.884,2845.231,385.729z M2899.421,372.454C2903.195,372.65,2897.604,375.949,2899.421,372.454\n\tL2899.421,372.454z M2946.864,372.454C2950.648,372.65,2945.058,375.949,2946.864,372.454L2946.864,372.454z M3031.424,297.002\n\tc-0.012,6.192-1.632,12.257-1.366,18.472c0.058,3.333-0.903,6.562-1.898,9.699c-1.759-8.322-1.1-16.852-2.269-25.22\n\tc1.212-1.283,5.322-15.33,5.903-18.519C3035.961,285.926,3031.701,291.887,3031.424,297.002z M3034.711,301.539l1.088-0.012\n\tc0.011,3.472,0.023,7.002,0.845,10.405c-0.474,0.347-1.435,1.03-1.921,1.377C3034.676,309.387,3034.688,305.463,3034.711,301.539z\n\t M3036.864,320.706c-1.609-0.243-1.875-1.065-0.81-2.465C3037.581,318.484,3037.847,319.306,3036.864,320.706z M3106.713,383.102\n\tc-0.112-1.159-0.758-36.747-2.292-43.484c-0.347-7.604-2.315-15.012-2.65-22.592c3.218-0.776,6.308-3.16,9.78-2.164\n\tc3.889,0.451,7.94,0.718,11.331,2.998C3121.422,324.475,3109.495,377.14,3106.713,383.102z M3153.866,450.22\n\tc-2.511-4.537-3.09-9.768-3.287-14.849c0.451,0.208,1.366,0.613,1.817,0.822C3153.079,440.833,3154.155,445.486,3153.866,450.22z\n\t M3157.581,449.051c-0.347-5.197,0.29-10.509-1.273-15.555c1.366-0.046,2.778-0.093,4.236-0.139\n\tC3158.819,438.507,3161.181,444.537,3157.581,449.051z M3178.021,466.863c-3.449,0.116-6.806,0.706-10.104,1.516\n\tc4.507-4.694-2.549-9.091-0.324-18.368c-0.417-0.394-1.25-1.192-1.655-1.586c0.289-1.655,0.521-3.333,0.752-4.988\n\tc-0.775,1.007-1.435,2.06-1.968,3.171c0.764,4.85,0.937,9.757,0.81,14.664l-1.088-0.012c-0.07-3.252-0.104-6.528-0.764-9.734\n\tc-1.192-6.285,0.255-12.766-1.157-19.028c6.169-1.296,11.597-5.544,18.125-4.896C3181.051,440.443,3179.33,458.959,3178.021,466.863\n\tz M3181.516,418.241c-18.974,1.973-19.405,3.977-28.322,6.215c-0.903-1.342-1.736-2.697-2.57-4.039\n\tc-0.139,1.076-0.405,3.229-0.544,4.306c-3.526-3.355-2.34-20.884-4.074-26.655c0.417,0.185,1.262,0.556,1.69,0.741\n\tc-0.359-1.91-0.127-3.82,0.312-5.683c-1.065-0.602-2.083-1.192-3.067-1.771c-2.049-7.014-1.389-14.329-1.4-21.528\n\tc0.394-12.847-2.813-25.486-2.338-38.31c8.046,5.18,34.218,26.564,40.336,30.776C3182.226,375.95,3184.386,400.906,3181.516,418.241\n\tz M3197.511,395.799c-1.886-5.023-1.69-10.486-3.16-15.602c0.614,0.289,1.817,0.856,2.431,1.146\n\tc0.011-0.822,0.058-2.454,0.081-3.275c-0.718,0.22-2.165,0.66-2.882,0.868c0.579-1.227,1.203-2.442,1.886-3.646\n\tC3203.371,377.458,3199.237,375.105,3197.511,395.799z M3253.542,316.62c-4.217,40.235-9.062,35.483-12.164,52.465\n\tc-2.813-2.234-1.192-5.613-0.903-8.518c-0.822-5.671-2.002-11.759,0.44-17.211c2.164-4.78,2.489-10.127,4.734-14.884\n\tc1.667-4.468,4.236-8.6,5.208-13.31c0.88-4.549,2.35-9.063,4.931-12.951C3256.215,307.164,3253.912,311.748,3253.542,316.62z\n\t M3380.937,412.581c-0.289-8.252-0.312-16.539,0.07-24.78c2.604,7.106,2.558,14.861,4.873,22.072\n\tc1.31,8.081,4.484,3.542-3.842,21.782C3381.308,425.266,3383.31,418.727,3380.937,412.581z M3393.785,453.368\n\tc-2.095,7.87-3.09,16.262-7.072,23.472c-1.169-14.06,2.89-3.937,4.745-33.449C3393.009,446.424,3395.139,449.873,3393.785,453.368z\n\t M3459.954,431.262c1.586-0.463,2.176,0.127,1.759,1.759C3460.069,433.438,3459.479,432.859,3459.954,431.262z M3467.778,464.086\n\tc1.516,0.22,1.782,1.042,0.799,2.454C3466.968,466.296,3466.701,465.475,3467.778,464.086z M3657.396,414.965\n\tc-0.162,4.826,1.076,11.921-4.259,14.398c-0.171-5.562-16.586-106.319-16.586-106.319c4.602,6.33,19.816,65.167,21.586,73.854\n\tC3659.583,402.928,3656.597,408.866,3657.396,414.965z M3761.447,447.141c-2.859,4.097-4.861,8.669-6.516,13.38\n\tc-1.597-3.947-3.333-7.813-5.602-11.389c-1.667-1.944,1.806-2.963,1.597-4.792c-0.509-0.255-1.528-0.764-2.037-1.019\n\tc1.018-0.602,2.06-1.215,3.183-1.817c-0.37-1.053-0.695-2.106-0.949-3.148c0.961-0.59,1.979-1.169,3.056-1.736\n\tc-0.07-0.405-0.186-1.227-0.255-1.643c3.044-2.245,3.854-6.123,6.192-8.97C3760.093,433.09,3762.396,440.035,3761.447,447.141z\n\t M3769.641,438.021c-2.384-5.393-4.456-11.076-4.618-17.025c5.278-7.373,12.419-13.472,16.84-21.505\n\tc2.593,11.099,1.296,22.72,1.736,34.028C3778.924,435.012,3774.19,436.273,3769.641,438.021z M3790,432.72\n\tc-2.181-3.809-4.871-31.495-3.75-36.91c5.232-6.134,9.919-12.778,15.856-18.264C3800.763,403.691,3797.873,411.419,3790,432.72z\n\t M3814.757,391.111c1.829-9.618,1.042-19.398,1.25-29.12c5.011-2.87,9.178-7.222,14.93-8.727\n\tC3829.794,357.404,3818.085,388.413,3814.757,391.111z M3876.343,301.007c3.067,3.067,8.839,25.52,9.086,33.414\n\tC3883.719,331.928,3874.89,316.337,3876.343,301.007z M4023.276,323.727c-0.124-0.338-8.477-58.157-9.387-67.835\n\tc4.691,6.127,6.344,38.448,14.062,66.18C4026.331,322.604,4024.792,323.171,4023.276,323.727z M4162.13,261.123\n\tc2.118-8.194,0.845-17.13,4.329-24.942c2.143,40.397,3.117,34.227-5.567,45.984C4160.961,275.139,4160.208,267.986,4162.13,261.123z\n\t M4166.667,296.019c-1.667-0.59-3.298-1.192-4.861-1.771c1.516-5.567,3.102-11.169,5.683-16.354\n\tC4167.986,283.993,4169.688,290.255,4166.667,296.019z M4252.731,326.262c-3.032-12.199-0.984-24.896-1.597-37.326\n\tc5.371-3.993,12.731-3.275,18.831-5.822c2.002,4.815-0.116,9.884-0.498,14.803c-1.192,6.979-1.864,14.039-2.905,21.042\n\tc1.539,0.729,3.102,1.424,4.722,2.199C4261.263,322.305,4264.083,318.096,4252.731,326.262z M4287.94,322.419\n\tc-2.569-0.394-6.042,1.007-7.674-1.539c-0.046-13.09-1.563-26.146-3.808-39.028c6.157-1.782,12.314-3.738,18.657-4.896\n\tC4296.075,284.449,4288.598,314.875,4287.94,322.419z M4528.762,372.639c-1.794-0.683-3.252-1.817-3.484-3.785\n\tc-4.665-16.667-15.127-31.343-17.419-48.727c7.396-0.127,14.815-0.104,22.245-0.023\n\tC4530.995,330.553,4528.709,370.123,4528.762,372.639z M4704.861,450.845c-0.32,28.814,1.284,21.665-3.218,26.944\n\tc-3.553-4.329-3.657-10.393-7.28-14.676c0.66,5.891,2.975,11.458,3.715,17.35c-5.856,2.604-7.165,9.352-9.884,14.502\n\tc-8.773-1.69-18.449-3.299-26.644,1.285c5.081,2.477,10.452,4.352,15.405,7.141c0.081,1.134-0.359,2.002-1.308,2.616\n\tc-6.643,5.336-8.785,14.04-11.979,21.539c-2.06-3.75-1.736-8.044-1.655-12.141l-2.176,1.667c-0.139,2.002-0.277,4.016-0.382,6.03\n\tc0,0-17.234-166.063-17.234-166.065c3.652-0.224,53.559,9.174,63.773,11.898C4706.02,400.599,4706.476,387.082,4704.861,450.845z\n\t M4889.583,402.894c-1.227,5.255-0.509,10.694-0.811,16.03c-3.969-3.183-1.631-8.866-2.233-13.217\n\tc0.486-3.009-1.482-7.905,2.21-9.329C4890.532,398.125,4890.012,400.694,4889.583,402.894z M5094.78,439.259\n\tc-1.909,11.275-4.565,49.557-4.676,50.718c-1.354,3.137-3.333,5.972-5.301,8.727c-3.472-12.442-4.225-25.463-6.516-38.137\n\tc-0.59-1.169-1.227-2.257-1.921-3.275c1.592,8.379,2.377,48.756,2.674,51.181c1.018,4.688-1.215,10.116-5.602,12.257\n\tc-3.802-11.565-17.236-33.694-13.611-44.711c0.138-2.407,10.265-98.779,12.246-100.428c11.25,1.181,20.602,9.838,24.815,20.046\n\tc2.245,3.923,1.042,8.623,2.188,12.859C5101.024,416.538,5094.286,427.782,5094.78,439.259z M5191.25,382.303\n\tc-0.637-8.16-0.267-16.377-0.128-24.549c1.216,0.694,2.882,1.238,3.183,2.94c4.363,12.014,8.032,24.363,10.59,36.887\n\tc-1.365,5.081-5.764,9.19-10.058,12.106C5193.137,400.59,5193.704,391.262,5191.25,382.303z M5199.387,452.407\n\tc-3.506-37.013-6.482-31.16,6.331-47.049C5216.771,425.154,5211.725,438.311,5199.387,452.407z M5282.813,489.479\n\tc-0.335-1.159-5.268-24.512-5.023-28.727c3.727,4.931,5.533,11.088,7.801,16.805\n\tC5284.676,481.505,5285.648,486.239,5282.813,489.479z M5305.498,445.081c-0.51,11.505-1.262,23.287-5.926,33.993\n\tc-4.051-4.248-6.354-9.699-6.748-15.532c0.069-3.194-3.542-4.919-3.368-8.09c-0.197-1.736-0.336-3.461-0.44-5.185\n\tc-0.96,2.674-0.683,5.787-2.708,7.975c-5.741-10.451-11.817-20.729-17.894-30.972c2.458,25.002,7.144-6.735,4.514,61.748\n\tc-12.791-0.302-13.101,2.589-14.688-0.255c4.207-28.784,6.016-33.121,5.532-43.067c-1.516,2.674-2.442,5.694-4.467,8.021\n\tc1.979-8.72,7.171-38.474,17.418-48.241c9.64,2.674,23.471,19.957,30.023,24.896\n\tC5306.991,435.324,5305.417,440.127,5305.498,445.081z M5317.454,390.405c-0.717-1.586,0.671-2.569,1.655-3.623\n\tc2.731,7.269,2.79,15.313,6.157,22.384c2.424,4.963,8.936,23.318,9.352,30.532c-2.522-0.669-1.435-0.179-15.972-18.31\n\tC5317.338,411.134,5319.456,400.613,5317.454,390.405z M5334.063,479.34c-2.129,4.028-4.653,7.836-6.597,11.968\n\tc-7.871-3.967-8.978,1.55-9.178-21.944c0.081-8.275-0.22-16.563,0.173-24.838c5.058,2.974,8.496,7.928,12.871,11.782\n\tC5337.564,463.984,5335.739,456.018,5334.063,479.34z M5456.84,503.727c-2.396,3.877-3.53,8.611-6.933,11.771\n\tc-7.116,2.654-3.504-23.624-7.801-95.232c4.617,4.257,8.304,36.156,19.525,70.185\n\tC5462.986,495.521,5459.005,499.595,5456.84,503.727z M5817.338,446.204c-5.811-18.299-12.662-36.262-18.716-54.479\n\tc5.208-10.301,10.359-20.637,15.463-30.984c0.359,0,1.064,0.012,1.412,0.023c10.042,17.589,38.212,76.449,37.477,98.623\n\tC5836.883,450.916,5838.008,445.935,5817.338,446.204z M5854.826,485.023c-6.725,10.556-11.608,22.222-19.062,32.315\n\tc-1.25-5.729,2.511-11.829-0.88-17.107c-3.715-4.722-3.715-11.007-5.498-16.516c-0.579-3.056-2.314-6.157-1.608-9.271\n\tc13.582-16.401,24.233-4.81,27.512-2.558C5855.069,476.238,5855.96,480.81,5854.826,485.023z M5963.692,441.18\n\tc-0.451,0.208-1.354,0.637-1.793,0.845c0.127-12.859-0.371-26.482-6.957-37.917c-0.173,3.333-0.138,6.678-0.173,10.023\n\tc-1.192-0.509-2.303-1.007-3.333-1.516c1.679-4.468-0.069-9.19-1.678-13.38c-0.417-0.255-1.238-0.752-1.644-0.995\n\tc0.22,7.176-1.829,14.167-1.412,21.354c-0.316,6.706,2.722,31.236,1.91,34.225c-1.458,6.667-0.752,13.53,0.37,20.185\n\tc0.326,32.041-4.063,26.759-5.093,41.875c-1.146-0.451-2.222-0.88-3.217-1.308c0.845,1.134,1.771,2.257,2.778,3.403\n\tc-0.903,0-2.697,0.012-3.6,0.012c-1.042-9.144,2.165-18.079,0.892-27.199c-2.407,7.407-2.384,15.312-3.564,22.963\n\tc-24.149-7.968-14.128-30.742-17.535-52.014c-0.305-1.525-2.291-28.112-1.655-33.819c2.579-5.552,42.71-64.905,49.062-61.319\n\tc3.773,5.127,5.961,11.181,9.075,16.713c1.284,2.662,3.761,5.139,3.043,8.38C5977.171,400.838,5965.864,427.901,5963.692,441.18z\n\t M5979.908,495.324c-3.079-8.264-6.112-16.574-8.646-25.011c0.209-1.56,8.076-58.07,10.046-60.509\n\tC5985.421,460.372,5981.383,483.39,5979.908,495.324z"}))}function Tr({className:e}){return c.createElement("svg",{className:e,fill:"currentColor",viewBox:"0 0 30.327 5.0518"},c.createElement("defs",null,c.createElement("linearGradient",{id:"linearGradient862",x1:"7.5432",x2:"14.578",y1:"5.526",y2:"5.526",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#f98080",offset:"0"}),c.createElement("stop",{stopColor:"#6875f5",offset:"1"})),c.createElement("linearGradient",{id:"linearGradient971",x1:"7.7677",x2:"14.802",y1:"5.3857",y2:"5.3857",gradientTransform:"translate(1.0113e-4,1.6184e-4)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#6875f5",offset:"0"}),c.createElement("stop",{stopColor:"#f98080",offset:"1"}))),c.createElement("g",{transform:"translate(-56.423 -63.81)"},c.createElement("g",{strokeWidth:".26458"},c.createElement("g",{strokeWidth:".26458"},c.createElement("path",{d:"m61.235 68.093q-0.18344 0.16933-0.50094 0.34572t-0.72672 0.30339q-0.40922 0.11994-0.87489 0.11994-0.5715 0-1.0654-0.17639-0.49389-0.18344-0.86783-0.51506-0.36689-0.33161-0.5715-0.79728-0.20461-0.47272-0.20461-1.0513 0-0.54328 0.21167-1.0019 0.21872-0.45861 0.59972-0.79728t0.87489-0.52211q0.49389-0.1905 1.0442-0.1905 0.45156 0 0.86783 0.127 0.41628 0.11994 0.74083 0.31044 0.33161 0.1905 0.52917 0.39511l-0.47272 0.61383q-0.34572-0.30339-0.76906-0.49389-0.42333-0.19756-0.9525-0.19756-0.35983 0-0.6985 0.11994t-0.61383 0.35278q-0.26811 0.22578-0.43039 0.55033-0.15522 0.32456-0.15522 0.73378 0 0.59267 0.28222 0.99483 0.28222 0.39511 0.74083 0.59972 0.46567 0.19756 0.98778 0.19756 0.381 0 0.68439-0.09878 0.30339-0.10583 0.54328-0.254t0.43039-0.29633z"}),c.createElement("path",{d:"m70.164 63.853 1.9826 2.6317 1.9826-2.6317h0.73378v4.9389h-0.762v-2.0743q0-0.45861 0.01411-0.86783 0.02117-0.40922 0.0635-0.81844l-1.8062 2.3424h-0.46567l-1.8062-2.3354q0.04939 0.40217 0.0635 0.81139t0.01411 0.86783v2.0743h-0.762v-4.9389z"}),c.createElement("path",{d:"m77.106 63.853h3.8241v0.73378h-3.0621v1.3053h2.6741v0.73378h-2.6741v1.4323h3.0621v0.73378h-3.8241z"}),c.createElement("path",{d:"m84.203 68.792v-4.2051h-1.7357v-0.73378h4.2827v0.73378h-1.7851v4.2051z"})))),c.createElement("g",{transform:"rotate(32 15.881 -1.0183)",fill:"url(#linearGradient862)",fillRule:"evenodd"},c.createElement("g",{fill:"#f98080"},c.createElement("path",{d:"m11.03 3.2283a2.4814 2.526 7.3662e-7 0 0-0.30277 0.22149 1.9313 1.966 7.3662e-7 0 1 1.5991 1.936 1.9313 1.966 7.3662e-7 0 1-1.5988 1.9369 2.4814 2.526 7.3662e-7 0 0 1.5929 0.589 2.4814 2.526 7.3662e-7 0 0 2.4814-2.5255 2.4814 2.526 7.3662e-7 0 0-2.4815-2.526 2.4814 2.526 7.3662e-7 0 0-1.2903 0.36814zm-3.2345 2.2039c-0.18296 0.086815 0.49439 0.074836 3.0594 0.9212 0.46608 0.15383 0.88156-0.43345 0.88156-0.96766s-0.41546-1.1208-0.88154-0.96706l-2.9313 0.96698c-0.058262 0.019224-0.10199 0.034146-0.12813 0.046548z",fill:"url(#linearGradient971)"}))))}function Dr({className:e}){return c.createElement("svg",{className:e,version:"1.1",viewBox:"0 0 6.3938 6.3938",xmlns:"http://www.w3.org/2000/svg"},c.createElement("defs",null,c.createElement("linearGradient",{id:"linearGradient971",x1:"7.7677",x2:"14.802",y1:"5.3857",y2:"5.3857",gradientTransform:"rotate(32 322.69 255.38)",gradientUnits:"userSpaceOnUse"},c.createElement("stop",{stopColor:"#6875f5",offset:"0"}),c.createElement("stop",{stopColor:"#f98080",offset:"1"}))),c.createElement("g",{transform:"translate(-188.06 124.29)"},c.createElement("path",{d:"m192.01-123.61a2.4814 2.526 32 0 0-0.37414 0.0274 1.9313 1.966 32 0 1 0.33022 2.4892 1.9313 1.966 32 0 1-2.3823 0.7953 2.4814 2.526 32 0 0 1.0387 1.3436 2.4814 2.526 32 0 0 3.4427-0.82683 2.4814 2.526 32 0 0-0.76584-3.4572 2.4814 2.526 32 0 0-1.2893-0.37155zm-3.9109 0.15503c-0.20116-0.0233 0.37961 0.32545 2.1063 2.4024 0.31374 0.37744 0.9773 0.0996 1.2604-0.35346 0.28309-0.45304 0.24162-1.1707-0.23513-1.2873l-2.9983-0.73329c-0.0596-0.0146-0.10458-0.0251-0.13332-0.0284z",fill:"url(#linearGradient971)"})))}function qr({className:e}){return c.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 903.000000 1280.000000",preserveAspectRatio:"xMidYMid meet",className:e,fill:"currentColor"},c.createElement("g",{transform:"translate(0.000000,1280.000000) scale(0.100000,-0.100000)",stroke:"none"},c.createElement("path",{d:"M7305 12776 c-245 -94 -385 -226 -481 -452 l-28 -66 25 -19 24 -18\n-37 -38 c-29 -29 -57 -44 -120 -63 l-83 -26 -13 -78 c-7 -44 -11 -85 -8 -92 3\n-7 21 -16 41 -20 42 -8 42 -7 -19 -103 -25 -39 -46 -77 -46 -85 0 -7 9 -21 20\n-31 28 -25 26 -31 -18 -48 -31 -12 -41 -23 -50 -55 -16 -54 -16 -55 18 -76\nl30 -17 -45 -52 c-78 -89 -73 -122 30 -183 83 -48 201 -161 282 -271 64 -86\n71 -106 95 -258 l11 -70 -53 -120 c-129 -296 -244 -627 -410 -1185 l-53 -175\n7 -246 c6 -237 5 -256 -28 -565 -20 -175 -53 -490 -75 -699 l-40 -380 -7 -939\n-7 -939 45 7 45 7 6 -268 c4 -147 10 -514 13 -815 l7 -548 38 0 37 0 6 -62 c3\n-35 8 -288 11 -563 3 -275 10 -765 15 -1090 5 -324 15 -921 21 -1325 6 -404\n15 -739 19 -743 4 -5 417 -5 916 0 l909 8 7 100 c7 116 4 57 108 1880 44 770\n84 1474 90 1565 5 91 30 525 55 965 44 783 46 805 86 1045 22 135 45 250 52\n256 7 6 69 57 140 113 70 57 129 107 132 111 3 5 -48 133 -114 285 l-119 278\n24 35 c31 45 33 134 4 217 -25 73 -69 530 -110 1135 -15 224 -30 866 -30 1300\nl0 375 -35 132 c-75 284 -199 518 -389 733 -41 47 -111 142 -156 212 -44 70\n-98 140 -118 157 -20 16 -35 31 -32 33 3 2 39 33 80 69 173 153 341 457 327\n593 -3 28 2 98 10 156 34 233 -10 433 -142 640 -19 30 -35 67 -35 81 0 66\n-240 195 -472 253 -95 25 -316 67 -342 66 -6 -1 -38 -11 -71 -24z"}),c.createElement("path",{d:"M1274 11917 c-290 -315 -845 -976 -848 -1012 0 -8 373 -341 829 -741\n702 -615 915 -796 1382 -1169 414 -332 549 -445 540 -454 -16 -16 -26 -14 -59\n14 -117 99 -328 168 -553 181 -96 6 -103 5 -180 -26 -459 -183 -761 -476 -893\n-865 -57 -168 -90 -406 -77 -565 13 -169 88 -335 202 -446 57 -57 95 -109 186\n-260 62 -104 177 -291 255 -416 78 -125 145 -234 148 -242 4 -9 -5 -18 -29\n-25 -21 -7 -45 -28 -65 -56 l-32 -45 17 -149 c9 -82 13 -156 10 -164 -3 -9\n-22 -19 -42 -23 -19 -3 -37 -9 -39 -13 -2 -3 4 -91 14 -195 17 -170 21 -191\n42 -213 22 -24 24 -35 40 -339 l16 -314 -1070 -2170 c-589 -1194 -1069 -2173\n-1066 -2175 8 -8 518 41 528 51 5 5 90 176 188 379 817 1688 1585 3271 1589\n3275 3 3 3 -4 -1 -15 -6 -19 -58 -240 -496 -2075 -110 -459 -240 -1006 -290\n-1214 -49 -209 -87 -383 -83 -387 5 -4 103 8 218 27 116 18 215 34 222 34 7 0\n17 17 23 38 10 33 426 1720 520 2107 36 149 171 695 426 1725 l105 425 195 58\nc108 32 201 60 207 63 7 2 597 -853 1387 -2011 828 -1212 1381 -2014 1390\n-2014 19 1 223 102 224 111 1 4 -623 904 -1385 2000 -762 1096 -1414 2044\n-1449 2106 -35 61 -79 126 -96 143 -33 32 -33 32 -71 16 -38 -16 -40 -18 -28\n-48 5 -14 -1 -15 -52 -7 -31 5 -59 11 -62 14 -5 4 -40 466 -36 472 1 1 49 7\n108 14 l106 11 138 179 c76 98 139 189 141 201 1 12 -18 276 -43 586 l-45 565\n51 90 c32 58 62 98 82 111 41 26 74 76 94 144 22 74 22 290 -1 425 l-17 99 28\n31 c65 72 108 116 114 116 3 0 82 -60 175 -134 184 -148 176 -145 234 -80 l32\n37 146 -144 c81 -80 162 -158 180 -174 l33 -30 18 24 18 24 34 -56 c19 -31 39\n-57 45 -57 6 0 44 49 83 108 l72 109 -31 67 c-16 37 -30 71 -30 75 0 6 110 -2\n308 -22 42 -5 45 -3 222 139 199 160 184 136 158 239 -6 22 -10 55 -10 75 1\n57 -6 70 -38 70 -16 0 -31 3 -33 8 -3 4 -10 48 -16 98 -7 54 -21 115 -35 147\nl-25 55 -80 27 c-64 21 -80 31 -83 48 -4 27 -42 47 -90 47 -28 0 -42 -6 -57\n-26 -20 -25 -51 -28 -51 -5 0 6 27 42 61 81 58 68 60 72 44 90 -10 11 -93 86\n-186 167 l-170 148 56 3 55 3 99 -80 98 -81 68 0 67 0 -3 -64 c-4 -60 -2 -67\n26 -97 70 -74 184 -91 258 -40 107 75 194 203 251 374 l26 78 -20 39 c-23 46\n-51 64 -98 62 -74 -3 -101 -22 -169 -119 -35 -51 -67 -93 -70 -93 -3 0 -18 8\n-34 17 -25 15 -29 24 -29 59 0 39 -6 49 -74 121 -89 95 -119 148 -126 228 -3\n33 -9 59 -15 59 -5 -1 -35 -5 -65 -8 l-55 -6 -98 91 -98 92 2 56 c3 51 1 56\n-22 62 -13 4 -43 7 -65 8 -82 2 -101 10 -107 45 -4 25 -34 60 -131 155 -69 68\n-133 129 -143 136 -17 12 -36 -5 -193 -177 -96 -104 -176 -193 -178 -198 -2\n-4 62 -64 142 -134 113 -99 151 -126 173 -126 41 0 82 -46 74 -81 -6 -26 -17\n-17 -246 185 -1679 1482 -2789 2456 -2799 2456 -6 -1 -70 -65 -142 -143z\nm3436 -2663 c80 -66 89 -82 72 -126 -6 -15 -19 -7 -77 45 -39 34 -93 81 -119\n105 l-49 42 47 0 c43 0 53 -5 126 -66z"})))}var Br="_meteor-1_1bsnq_1",jr="_meteor-2_1bsnq_23",Hr="_meteor-3_1bsnq_45",Vr="_meteor-4_1bsnq_67",_r="_meteor-5_1bsnq_89",Gr="_meteor-6_1bsnq_111",Yr="_meteor-7_1bsnq_133";function Wr(){return c.createElement(c.Fragment,null,c.createElement("div",{className:Br}),c.createElement("div",{className:jr}),c.createElement("div",{className:Hr}),c.createElement("div",{className:Vr}),c.createElement("div",{className:_r}),c.createElement("div",{className:Gr}),c.createElement("div",{className:Yr}))}function Qr(){let e=window.navigator.userAgent,t=window.navigator.platform,n=null;return-1!==["Macintosh","MacIntel","MacPPC","Mac68K"].indexOf(t)?n="Mac OS":-1!==["iPhone","iPad","iPod"].indexOf(t)?n="iOS":-1!==["Win32","Win64","Windows","WinCE"].indexOf(t)?n="Windows":/Android/.test(e)?n="Android":/Linux/.test(t)&&(n="Linux"),n}function Jr({children:e,header:t,rightSidebar:n,leftSidebar:a}){return c.createElement("div",{className:"flex flex-col flex-grow"},t,c.createElement("div",{className:"flex h-full",style:{maxHeight:t?"calc(100% - 3rem)":"100%"}},a,c.createElement("div",{className:"flex flex-col flex-grow"},e),n))}let Kr=!1,Xr=()=>{Kr=!0};const Zr={status:"connecting"};const el=()=>{const{data:e,loading:n}=function(e){const n={...Nn,...e};return t(Er,n)}(),a=null==e?void 0:e.user;return[a,(n||"connected"!==Zr.status)&&!a]},tl="p-3 hover:bg-gray-700 transition rounded-full cursor-pointer";function nl(){const[e]=el(),t=Qr(),n=c.useMemo((()=>"Windows"===t?"https://github.com/joincomet/comet/releases/download/0.0.57/Comet-Setup-0.0.57.exe":"Mac OS"===t?"https://github.com/joincomet/comet/releases/download/0.0.57/Comet-0.0.57.dmg":"Linux"===t?"https://github.com/joincomet/comet/releases/download/0.0.57/Comet-0.0.57.AppImage":void 0),[t]);return c.createElement(Jr,null,c.createElement("div",{className:"relative flex-grow flex flex-col items-center"},c.createElement("div",{className:"fixed top-0 left-0 right-0 z-50 bg-gray-900 transition"},c.createElement("div",{className:"h-1 bg-gradient-to-r from-blue-500 to-red-500 w-full"}),c.createElement("div",{className:"px-24 h-16 flex items-center"},c.createElement(Tr,{className:"h-6 text-gray-200"}),c.createElement("div",{className:"ml-auto space-x-3 inline-flex items-center"},c.createElement(v,{content:"Comet Discord Server"},c.createElement("div",{className:`${tl}`},c.createElement(h,{size:20,className:"text-gray-200"}))),c.createElement(v,{content:"@joincometapp on Twitter"},c.createElement("div",{className:tl},c.createElement(f,{size:20,className:"text-gray-200"}))),c.createElement(v,{content:"Comet on GitHub"},c.createElement("div",{className:tl},c.createElement(E,{size:20,className:"text-gray-200"})))))),c.createElement("div",{style:{backgroundImage:"radial-gradient(ellipse at top , #151821 0%,  #232831 95%)"},className:"overflow-hidden py-64 w-full relative"},c.createElement("div",{className:"flex absolute bottom-0 left-0 right-0 z-10 text-gray-900"},c.createElement(zr,{className:"w-1/2"}),c.createElement(zr,{className:"w-1/2"})),c.createElement(qr,{className:"absolute bottom-0 right-32 text-gray-900 z-10 h-96"}),c.createElement(Wr,null),c.createElement("div",{className:"relative z-10 max-w-screen-lg xl:max-w-screen-xl mx-auto"},c.createElement("div",{className:"text-center flex flex-col items-center space-y-12"},c.createElement("h1",{className:"inline-flex items-center"},c.createElement("div",{className:"text-5xl text-white font-semibold tracking-tight"},"All-in-one chat and forums for communities.")),c.createElement("p",{className:"text-white text-xl max-w-screen-md"},"The age of fragmented communities is over. Say goodbye to Reddit and Discord, and run your entire community on Comet."),c.createElement("div",{className:"inline-flex items-center space-x-6"},c.createElement("a",{href:n,rel:"noreferrer noopener",target:"_blank",className:"bg-blue-500 select-none h-12 px-6 rounded-full inline-flex items-center text-lg text-white transition transform shadow-md hover:-translate-y-0.5 cursor-pointer"},"Download for ",t,c.createElement(b,{className:"w-6 h-6 ml-3"})),c.createElement(x,{to:e?"/me":"/login",className:"border border-gray-700 select-none h-12 px-6 rounded-full inline-flex items-center text-lg text-white transition transform shadow-md hover:-translate-y-0.5 cursor-pointer"},"Open in Browser")))))))}function al({children:e}){return c.createElement("div",{className:"h-full flex flex-grow items-center justify-center relative overflow-x-hidden overflow-y-hidden",style:{backgroundImage:"radial-gradient(ellipse at top , #151821 0%,  #232831 95%)"}},e,c.createElement(x,{to:"/"},c.createElement(Tr,{className:"absolute left-8 top-8 h-6"})),c.createElement("div",{className:"flex absolute bottom-0 left-0 right-0 z-10 text-gray-900"},c.createElement(zr,{className:"w-1/2"}),c.createElement(zr,{className:"w-1/2"})),c.createElement(qr,{className:"absolute bottom-0 right-32 text-gray-900 z-10 h-96"}),c.createElement(Wr,null))}function rl({children:e}){return c.createElement(y.div,{initial:{opacity:0,scale:.9,y:"-50%"},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:"-50%"},transition:{type:"spring",duration:.8},className:"card"},e)}function ll({type:e="submit",disabled:t=!1,loading:n=!1,children:a,onClick:r}){return c.createElement("button",{onClick:r,disabled:t||n,type:e,className:"disabled:opacity-50 disabled:cursor-not-allowed w-full rounded space-x-3 flex items-center justify-center h-10 text-sm font-medium bg-blue-600 cursor-pointer select-none hover:bg-blue-600 transition focus:outline-none"},a,n&&c.createElement(Or,{className:"ml-3 w-5 h-5"}))}function sl(){return c.createElement("div",{style:{zIndex:9999},className:"h-full fixed inset-x-0 bottom-0 top-0 electron:top-5.5 flex items-center justify-center dark:bg-gray-800"},c.createElement("div",{className:"space-y-8"},c.createElement(Tr,{className:"w-36"}),c.createElement("div",{className:"flex items-center justify-center"},c.createElement(Or,null))))}function cl(){const{t:e}=w(),[t,{loading:a}]=function(e){const t={...Nn,...e};return n(vr,t)}(),r=N(),{register:l,handleSubmit:s,watch:o}=k(),i=o("email"),m=o("password");C();const[d,u]=c.useState(!1);return c.createElement(c.Fragment,null,d&&c.createElement(sl,null),c.createElement($,null,c.createElement("title",null,e("auth.login"))),c.createElement(rl,null,c.createElement("form",{onSubmit:s((e=>{t({variables:{input:e}}).then((({data:{login:{accessToken:e,user:t}}})=>{localStorage.setItem("token",e),u(!0),r.cache.writeQuery({query:Er,data:t}),Xr()}))})),className:"w-full"},c.createElement("div",{className:"title mb-6"},e("auth.welcomeBack")),c.createElement("div",{className:"mb-4"},c.createElement("label",{htmlFor:"email",className:"label"},e("auth.email")),c.createElement("input",{className:"textbox px-3",id:"email",...l("email",{required:!0})})),c.createElement("div",{className:"mb-6"},c.createElement("label",{htmlFor:"password",className:"label"},e("auth.password")),c.createElement("input",{className:"textbox px-3",type:"password",id:"password",...l("password",{required:!0})})),c.createElement(ll,{loading:a,disabled:!i||!m},"Log In"),c.createElement("div",{className:"pt-3 text-mid text-sm"},e("auth.needAccount")," ",c.createElement(x,{to:"/register",className:"text-accent hover:underline"},e("auth.register"))))))}const ol=I("\n  text-xs\n  text-red-400\n  pt-1.5\n");function il(){const{t:e}=w(),t=N(),[a,{loading:r}]=function(e){const t={...Nn,...e};return n(dr,t)}(),{register:l,handleSubmit:s,watch:o,formState:{errors:i}}=k({mode:"onChange"}),m=o("name"),d=o("email"),u=o("password");C();const[p,g]=c.useState(!1);return c.createElement(c.Fragment,null,p&&c.createElement(sl,null),c.createElement($,null,c.createElement("title",null,e("auth.login"))),c.createElement(rl,null,c.createElement("form",{onSubmit:s((e=>{a({variables:{input:e}}).then((({data:{createAccount:{accessToken:e,user:n}}})=>{localStorage.setItem("token",e),g(!0),t.cache.writeQuery({query:Er,data:n}),Xr()}))})),className:"w-full"},c.createElement("div",{className:"title mb-6"},e("auth.createAccount")),c.createElement("div",{className:"mb-4"},c.createElement("label",{htmlFor:"name",className:"label"},e("auth.name")),c.createElement("input",{className:"textbox px-3",id:"name",...l("name",{required:!0,minLength:2,maxLength:32}),maxLength:32,minLength:2}),!!m&&i.name&&c.createElement("div",{className:ol},"Name must be 2-32 characters")),c.createElement("div",{className:"mb-4"},c.createElement("label",{htmlFor:"email",className:"label"},e("auth.email")),c.createElement("input",{className:"textbox px-3",id:"email",type:"email",...l("email",{required:!0,validate:e=>M(e)})}),!!d&&i.email&&c.createElement("div",{className:ol},"Invalid email")),c.createElement("div",{className:"mb-6"},c.createElement("label",{htmlFor:"password",className:"label"},e("auth.password")),c.createElement("input",{className:"textbox px-3",type:"password",id:"password",...l("password",{required:!0,minLength:6}),minLength:6}),!!u&&i.password&&c.createElement("div",{className:ol},"Password must be at least 6 characters")),c.createElement(ll,{loading:r,disabled:!u||!d||!m||(null==u?void 0:u.length)<6||!M(d||"")||(null==m?void 0:m.length)<2||(null==m?void 0:m.length)>32},"Continue"),c.createElement("div",{className:"pt-3 text-mid text-sm"},c.createElement(x,{to:"/login",className:"text-accent hover:underline"},e("auth.alreadyHaveAccount"))))))}function ml(){const[e]=el();return c.createElement(al,null,c.createElement("div",{className:"text-center space-y-3"},c.createElement("div",{className:"text-primary text-4xl font-bold"},"Oh no!"),c.createElement("div",{className:"text-primary text-xl font-medium"},"This page does not exist."),c.createElement(x,{to:e?"/me":"/",className:"block text-xl text-accent font-medium cursor-pointer hover:underline"},"Return to home page")))}var dl=c.forwardRef((({avatarUrl:e,children:t,loading:n="eager",className:a="",size:r=12,style:l={}},s)=>c.createElement("div",{ref:s,className:`relative flex-shrink-0 flex items-center justify-center bg-cover bg-center ${a}`,style:{width:r/4+"rem",height:r/4+"rem",backgroundImage:e?`url(${e})`:void 0,...l}},t)));const ul={gray:S.gray,red:S.red,yellow:S.amber,green:S.emerald,blue:S.blue,indigo:S.indigo,purple:S.violet,pink:S.pink},pl={transparent:"transparent",current:"currentColor",black:S.black,white:S.white,...ul},gl={Red:pl.red[500],Yellow:pl.yellow[500],Green:pl.green[500],Blue:pl.blue[500],Indigo:pl.indigo[500],Purple:pl.purple[500],Pink:pl.pink[500]};var vl=c.forwardRef((({user:e,loading:t="eager",size:n=12,showOnline:a=!1,className:r="",dotClassName:l=""},s)=>c.createElement(dl,{ref:s,avatarUrl:null==e?void 0:e.avatarUrl,loading:t,className:`${r} cursor-pointer rounded-full`,size:n,style:(null==e?void 0:e.avatarUrl)?{}:{backgroundColor:gl[null==e?void 0:e.color]}},a&&c.createElement("div",{className:`absolute bottom-0 right-0 rounded-full z-10 ${l} ${(null==e?void 0:e.isOnline)?"bg-green-500":"bg-gray-600"}`}),!(null==e?void 0:e.avatarUrl)&&c.createElement(F,{className:"text-primary w-2/3 h-2/3"}))));const hl=(e,t,n)=>I(`\n  ${e&&"h-11"}\n  ${t&&"h-9"}\n  ${!e&&!t&&"h-9"}\n  group\n  rounded\n  cursor-pointer\n  flex\n  items-center\n  text-base\n  font-medium\n  px-4\n  w-full\n  ${n?"dark:hover:bg-gray-725 dark:active:bg-gray-725":"dark:hover:bg-gray-775 dark:active:bg-gray-775"}\n  text-gray-600\n  dark:text-gray-400\n  select-none\n  focus:outline-none\n  relative\n  hover:text-gray-700\n  dark:hover:text-gray-300\n`),fl=e=>I(`\n  text-gray-800\n  dark:text-gray-200\n  ${e?"dark:bg-gray-700 dark:hover:bg-gray-700":"dark:bg-gray-750 dark:hover:bg-gray-750"}\n`);var El=c.forwardRef((({children:e,large:t=!1,small:n=!1,to:a,onClick:r,active:l=!1,exact:s=!1,light:o=!1},i)=>a?c.createElement(U,{ref:i,to:a,className:`${hl(t,n,o)} ${l?fl(o):""}`,activeClassName:fl(o),exact:s},e):c.createElement("button",{ref:i,onClick:r,className:`${hl(t,n,o)} ${l?fl(o):""}`},e)));const bl=e=>I(`\n  px-3\n  pt-4\n  pb-1\n  text-gray-500\n  dark:text-gray-500\n  uppercase\n  text-11\n  font-semibold\n  tracking-wide\n  flex\n  items-center\n  justify-between\n  select-none\n  ${e&&"hover:text-gray-600 dark:hover:text-gray-400"}\n`);function xl({children:e,plusLabel:t,onClick:n}){const a=t&&n;return c.createElement("div",{className:bl(a)},e,a&&c.createElement(v,{content:t},c.createElement("div",{onClick:n},c.createElement(P,{className:"w-5 h-5 text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 cursor-pointer"}))))}function yl(){const{t:e}=w(),[t]=el();return c.createElement(c.Fragment,null,c.createElement($,null,c.createElement("title",null,e("settings.title"))),c.createElement(Jr,null,c.createElement("div",{className:"h-full flex relative"},c.createElement(x,{to:"/me",className:"absolute top-4 left-4 rounded-full cursor-pointer transition dark:hover:bg-gray-700 p-3"},c.createElement(R,{className:"w-6 h-6 text-tertiary"})),c.createElement("div",{className:"min-w-48 w-1/3 dark:bg-gray-800 flex justify-end px-4 py-12"},c.createElement("div",{className:"w-48"},c.createElement(xl,null,"User Settings"),c.createElement(El,{to:"/settings"},"My Account"))),c.createElement("div",{className:"w-2/3 px-10 py-16 dark:bg-gray-750"},c.createElement("div",{className:"max-w-screen-sm"},c.createElement("div",{className:"font-semibold text-primary uppercase mb-6"},"My Account"),c.createElement("div",{className:"rounded-lg dark:bg-gray-800 p-4"},c.createElement("div",{className:"flex items-center"},c.createElement(vl,{user:t,size:20}),c.createElement("div",{className:"flex items-end ml-6"},c.createElement("div",{className:"font-semibold text-xl text-primary"},t.name),c.createElement("div",{className:"text-base text-tertiary",style:{marginBottom:"1px"}},"#",t.tag)))))))))}var wl=c.forwardRef((({server:e,loading:t="eager",size:n=12,className:a="",style:r={}},l)=>{const s=e.initials,o=c.useMemo((()=>{const e=s;return e.length<=2?"18px":3===e.length?"16px":4===e.length?"14px":5===e.length?"12px":e.length>=6?"10px":void 0}),[s]);return e?c.createElement(dl,{ref:l,avatarUrl:e.avatarUrl,loading:t,className:`${a} cursor-pointer`,size:n,style:r},!e.avatarUrl&&c.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 48 48",className:"absolute top-0 left-0",overflow:"visible"},c.createElement("defs",null,c.createElement("g",null,c.createElement("path",{d:"M48 24C48 37.2548 37.2548 48 24 48C10.7452 48 0 37.2548 0 24C0 10.7452 10.7452 0 24 0C37.2548 0 48 10.7452 48 24Z"})),c.createElement("g",null,c.createElement("rect",{x:"28",y:"-4",width:"24",height:"24",rx:"12",ry:"12",transform:"translate(20 -20)"})),c.createElement("g",null,c.createElement("rect",{x:"28",y:"28",width:"24",height:"24",rx:"12",ry:"12",transform:"translate(20 20)"}))),c.createElement("foreignObject",{x:"0",y:"0",width:"48",height:"48"},c.createElement("div",{className:"flex items-center justify-center h-full",tabIndex:"-1","aria-label":e.name,style:{fontSize:o}},c.createElement("div",{className:"flex items-center justify-center whitespace-nowrap font-medium text-tertiary","aria-hidden":"true"},s))))):null}));function Nl({isOpen:e,close:t,children:n,closeOnOverlayClick:a=!1}){return c.createElement(A,{show:e,as:c.Fragment},c.createElement(O,{open:e,onClose:t,static:!0},c.createElement("div",{className:"fixed z-10 inset-0"},c.createElement("div",{className:"flex items-end justify-center min-h-screen text-center sm:block p-0"},c.createElement(A.Child,{enter:"ease-out duration-150",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-150",leaveFrom:"opacity-100",leaveTo:"opacity-0"},c.createElement(O.Overlay,{className:"fixed inset-0 transition-opacity"},c.createElement("div",{className:"absolute inset-0 bg-gray-500 dark:bg-black opacity-75"}))),c.createElement(A.Child,{enter:"ease-out transform duration-150",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in transform duration-150",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},c.createElement("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​"),c.createElement("div",{onClick:()=>{a&&t()},className:"overflow-y-auto scrollbar dark:scrollbar-thumb-gray-800 dark:scrollbar-track-transparent inline-block h-screen transform transition-all align-middle w-full"},c.createElement("div",{className:"flex min-h-full w-full items-center justify-center"},n)))))))}const kl=e=>new Promise(((t,n)=>{const a=new FileReader;a.onload=e=>t(e.target.result),a.onerror=e=>n(e),a.readAsDataURL(e)})),Cl=e=>I(`\n  w-12\n  h-12\n  object-cover\n  inline-flex\n  items-center\n  justify-center\n  hover:rounded-2xl\n  ${e?"rounded-2xl":"rounded-3xl"}\n  transform\n  transition-all\n  relative\n  group\n  cursor-pointer\n`),$l=(e,t)=>I(`\n  absolute\n  left-0\n  w-1\n  dark:bg-white\n  rounded-r-2xl\n  top-1/2\n  -translate-y-1/2\n  transform\n  transition\n  duration-250\n  group-hover:-translate-x-3\n  ${e?"-translate-x-3 h-10":t?"-translate-x-3 h-2.5 group-hover:h-5":"-translate-x-4 h-5"}\n`);var Il=c.forwardRef((({name:e,children:t,to:n,onClick:a,className:r="dark:bg-gray-800 bg-gray-200",active:l=!1,unread:s=!1},o)=>c.createElement(v,{content:e,placement:"right",ref:o,offset:[0,22]},n?c.createElement(U,{to:n,className:`${Cl(l)} ${r}`},c.createElement("div",{className:$l(l,s)}),t):c.createElement("div",{onClick:a,className:`${Cl(l)} ${r}`},c.createElement("div",{className:$l(l,s)}),t))));function Ml({checked:e,onChange:t,children:n,green:a=!1}){return c.createElement(L.Group,{as:"div",className:"flex items-center space-x-3"},n&&c.createElement(L.Label,{className:"uppercase text-11 font-semibold tracking-widest text-tertiary select-none"},n),c.createElement(L,{as:"button",checked:e,onChange:t,className:(e?""+(a?"bg-green-600":"bg-blue-600"):"dark:bg-gray-500")+" relative inline-flex flex-shrink-0 h-6 transition-colors duration-200 ease-in-out border-2 border-transparent rounded-full cursor-pointer w-10 focus:outline-none focus:shadow-outline"},(({checked:e})=>c.createElement("span",{className:(e?"translate-x-4":"translate-x-0.5")+" bg-gray-100 inline-block relative translate-y-1px w-4.5 h-4.5 transition duration-200 ease-in-out transform rounded-full"},c.createElement(z,{className:`absolute inset-1/2 transform -translate-y-1/2 -translate-x-1/2 w-4 h-4 transition-opacity duration-200 ${e?"opacity-100":"opacity-0"} ${a?"text-green-600":"text-blue-600"}`}),c.createElement(R,{className:`absolute inset-1/2 transform -translate-y-1/2 -translate-x-1/2 w-4 h-4 transition-opacity duration-200 ${e?"opacity-0":"opacity-100"} text-gray-500`})))))}var Sl=O.Title;function Fl(){const[e,{loading:t}]=function(e){const t={...Nn,...e};return n(rr,t)}({update(e,{data:{createServer:t}}){const n=e.readQuery({query:Er});e.writeQuery({query:Er,data:{user:{...n.user,servers:[t,...n.user.servers]}}})}}),[a,r]=c.useState(!1),[l,s]=c.useState(!0),{handleSubmit:o,register:i,watch:m,reset:d}=k(),u=m("avatarFile"),p=m("name"),[g,v]=c.useState(null);c.useEffect((()=>{a&&(d(),v(null),s(!0))}),[a]),c.useEffect((()=>{u&&u[0]&&kl(u[0]).then((e=>v(e)))}),[u]);const{push:h}=C(),{t:f}=w();return c.createElement(c.Fragment,null,c.createElement(Il,{name:f("server.create.title"),onClick:()=>r(!0),className:"dark:bg-gray-800 bg-gray-200 hover:bg-purple-600 dark:hover:bg-purple-600"},c.createElement(Ar,{className:"w-5 h-5 text-purple-500 group-hover:text-white transition"})),c.createElement(Nl,{isOpen:a,close:()=>r(!1),closeOnOverlayClick:!0},c.createElement("div",{className:"rounded-lg dark:bg-gray-750 max-w-md w-full p-4",onClick:e=>e.stopPropagation()},c.createElement(Sl,{className:"title mb-4"},f("server.create.title")),c.createElement("form",{onSubmit:o((({name:t,avatarFile:n})=>{e({variables:{input:{name:t,avatarFile:n?n[0]:null}}}).then((({data:{createServer:e}})=>{r(!1),h(`/server/${e.id}`)}))})),className:"flex flex-col items-center"},c.createElement("input",{type:"file",...i("avatarFile"),className:"hidden",id:"avatarFile",accept:"image/png,image/jpeg,image/webp,image/gif"}),g?c.createElement("label",{htmlFor:"avatarFile",className:"transition rounded-full h-24 w-24 block mb-4 cursor-pointer select-none group relative"},c.createElement(D,{className:"absolute w-6 h-6 text-white inset-1/2 transform -translate-x-1/2 -translate-y-1/2 transition opacity-0 group-hover:opacity-100"}),c.createElement("img",{src:g,className:"w-full h-full object-cover rounded-full transition group-hover:opacity-25",alt:""})):c.createElement("label",{htmlFor:"avatarFile",className:"transition dark:hover:bg-gray-700 rounded-full h-24 w-24 border-2 text-tertiary border-dashed border-gray-600 dark:border-gray-400 flex flex-col items-center justify-center mb-4 cursor-pointer select-none"},c.createElement(T,{className:"w-6 h-6"}),c.createElement("div",{className:"text-sm pt-1"},f("server.create.upload"))),c.createElement("div",{className:"mb-4 w-full"},c.createElement("label",{className:"label text-left",htmlFor:"name"},f("server.create.name")),c.createElement("input",{...i("name",{required:!0,maxLength:100}),maxLength:100,className:"textbox px-3",id:"name"})),c.createElement("div",{className:"pb-4 w-full"},c.createElement(ll,{loading:t,disabled:!p||p.length<2},f("continue"))),c.createElement(Ml,{checked:l,onChange:()=>s(!l)},"Public Planet")))))}const Ul="Post",Pl="Server",Rl=q(((e,t)=>({friendsPage:"Online",setFriendsPage:t=>e({friendsPage:t}),inboxPage:"Unread",setInboxPage:t=>e({inboxPage:t}),postsSort:"Hot",setPostsSort:t=>e({postsSort:t}),postsTime:"Day",setPostsTime:t=>e({postsTime:t}),commentsSort:"Top",setCommentsSort:t=>e({commentsSort:t}),liveMode:!1,setLiveMode:t=>e({liveMode:t}),showFolders:!0,setShowFolders:t=>e({showFolders:t}),showUsers:!0,setShowUsers:t=>e({showUsers:t}),serverPages:{},setServerPage:(n,a)=>e({serverPages:{...t().serverPages,[n]:a}}),homePage:null,setHomePage:t=>e({homePage:t}),replyingCommentId:null,setReplyingCommentId:t=>e({replyingCommentId:t}),canGoBack:!1,setCanGoBack:t=>e({canGoBack:t}),exploreSort:"Top",setExploreSort:t=>e({exploreSort:t}),exploreCategory:null,setExploreCategory:t=>e({exploreCategory:t}),dialogUserId:null,setDialogUserId:t=>e({dialogUserId:t,userDialogOpen:!!t}),userDialogOpen:!1,setUserDialogOpen:t=>e({userDialogOpen:t}),folderSort:"Added",setFolderSort:t=>e({folderSort:t}),updateAvailable:!1,setUpdateAvailable:t=>e({updateAvailable:t})}))),Al=0,Ol=2,Ll={disable:!1,holdToDisplay:1e3,posX:0,posY:0,mouseButton:Ol,disableIfShiftIsPressed:!1,collect(){}};function zl(e,t){return t=>{const n=Object.assign({},Ll,t);c.useRef(!1),c.useRef(),c.useRef();const a=t=>{t.ctrlKey||(t.preventDefault(),t.stopPropagation(),e(((e,t)=>["X","Y"].map((n=>(e[`client${n}`]||e.touches&&e.touches[0][`page${n}`])-t[`pos${n}`])))(t,n),{...n.collect(),href:t.target.href}))};return[{onContextMenu:e=>{e.button===n.mouseButton&&a(e)},onClick:e=>{e.button===n.mouseButton&&a(e)}}]}}const Tl=27,Dl=13,ql=38,Bl=40,jl={position:"fixed",opacity:0,pointerEvents:"none"},Hl=e=>e.focus(),Vl=({rtl:e,handleElementSelect:t=Hl}={})=>{const n=c.useRef(),a=c.useRef([]),[r,l]=c.useState(jl),[s,o]=c.useState(-1),[i,m]=c.useState(!1),[d,u]=c.useState([0,0]),[p,g]=c.useState(),v=c.useCallback((()=>m(!1)),[m]);c.useCallback((()=>{i&&m(!1)}),[i,m]);const h=c.useCallback(((e,t)=>{m(!0),u(e),g(t)}),[m,g]);c.useEffect((()=>{const e=e=>{n.current.contains(e.target)||(o(-1),v())},r=e=>{switch(e.keyCode){case Tl:e.preventDefault(),v();break;case ql:e.preventDefault(),s>0&&(o((e=>e-1)),t(a.current[s-1]));break;case Bl:e.preventDefault(),s+1<a.current.length&&(o((e=>e+1)),t(a.current[s+1]));break;case Dl:-1!==s&&a.current[s].click(),v()}};return i&&(document.addEventListener("mousedown",e),document.addEventListener("touchstart",e),document.addEventListener("scroll",v),document.addEventListener("contextmenu",v),document.addEventListener("keydown",r)),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("touchstart",e),document.removeEventListener("scroll",v),document.removeEventListener("contextmenu",v),document.removeEventListener("keydown",r)}}),[n,v,s,o,a,t,i]),c.useLayoutEffect((()=>{if(i){const t=n.current.getBoundingClientRect(),{top:a,left:r}=e?((e,[t,n])=>{const a={top:n,left:t},{innerWidth:r,innerHeight:l}=window;return a.left=t-e.width,n+e.height>l&&(a.top-=e.height),a.left<0&&(a.left+=e.width),a.top<0&&(a.top=e.height<l?(l-e.height)/2:0),a.left+e.width>r&&(a.left=e.width<r?(r-e.width)/2:0),a})(t,d):((e,[t,n])=>{const a={top:n,left:t},{innerWidth:r,innerHeight:l}=window;return n+e.height>l&&(a.top-=e.height),t+e.width>r&&(a.left-=e.width),a.top<0&&(a.top=e.height<l?(l-e.height)/2:0),a.left<0&&(a.left=e.width<r?(r-e.width)/2:0),a})(t,d);l((e=>({...e,top:`${a}px`,left:`${r}px`,opacity:1,pointerEvents:"auto"})))}else l(jl)}),[n,i,d]);return[{style:r,ref:n,role:"menu",tabIndex:-1},{ref:e=>a.current=null===e?[]:[...a.current,e],role:"menuitem",tabIndex:-1},zl(h),{data:p,isVisible:i,setVisible:m,coords:d,setCoords:u}]},_l=e=>I(`\n  active:text-white\n  dark:active:text-white\n  dark:hover:text-white\n  dark:focus:text-white\n  hover:text-white\n  flex\n  select-none\n  cursor-pointer\n  w-full\n  px-2\n  h-8\n  flex\n  items-center\n  text-13\n  rounded-sm\n  font-medium\n  focus:outline-none\n  group\n  relative\n  ${e?"text-red-500 active:bg-red-600 hover:bg-red-500 focus:bg-red-500":"text-gray-600 dark:text-gray-400 active:bg-green-700 focus:bg-green-600 hover:bg-green-600"} \n`);function Gl({item:{bindMenuItem:e,hideMenu:t},onClick:n,red:a,checked:r=null,label:l,children:s}){return c.createElement("div",{...e,className:_l(a),onClick:e=>{t(),n&&n(e)}},l,null!==r&&c.createElement("input",{type:"checkbox",className:"ml-auto h-4 w-4 border-none rounded dark:checked:bg-green-600 dark:bg-gray-750 focus:outline-none cursor-pointer",checked:r,readOnly:!0}),s&&c.createElement(c.Fragment,null,c.createElement("div",{className:"ml-auto"},c.createElement(B,{className:"w-5 h-5 -mr-0.5"})),c.createElement("div",{className:"absolute left-full -top-2 -ml-2 hidden group-hover:block"},c.createElement("div",{className:"pl-2"},c.createElement("div",{className:"p-2 ml-3 dark:bg-gray-900 rounded w-48 shadow-lg"},s)))))}const Yl="User",Wl="Post",Ql="Comment",Jl="Message",Kl="Server",Xl="Folder",Zl="Channel",es=e=>{const[t]=el();return c.useMemo((()=>{var n;return(null!=(n=null==t?void 0:t.servers)?n:[]).find((t=>t.id===e))}),[e,null==t?void 0:t.servers])},ts=({serverId:e,permissions:t})=>{const n=es(e);return c.useMemo((()=>n?t.map((e=>n.permissions.includes(e))):t.map((e=>!1))),[t,n])},ns=e=>{const{t:t}=w(),[a]=function(e){const t={...Nn,...e};return n(Da,t)}({optimisticResponse:{votePost:{...e,isVoted:!0,voteCount:e.voteCount+1}}}),[r]=function(e){const t={...Nn,...e};return n(qa,t)}({optimisticResponse:{unvotePost:{...e,isVoted:!1,voteCount:e.voteCount-1}}}),[l]=ts({serverId:null==e?void 0:e.server.id,permissions:[Wn.VotePost]});return c.useCallback((()=>{const n={postId:e.id};l?e.isVoted?r({variables:{input:n}}):a({variables:{input:n}}):j.error(t("post.context.votePermission"))}),[e,l,a,r,t])},as=e=>{const[t]=function(e){const t={...Nn,...e};return n(Ba,t)}(),[a]=function(e){const t={...Nn,...e};return n(ja,t)}();return c.useCallback((()=>{const n={postId:e.id};e.isPinned?a({variables:{input:n}}):t({variables:{input:n}})}),[e,t,a])};function rs({children:e}){return c.createElement("div",{className:"space-y-0.5"},e)}const ls=()=>{var e;const[t]=el();return null!=(e=null==t?void 0:t.folders)?e:[]};function ss({post:e,ContextMenuItem:t}){var a,r,l,s,o;const{pathname:i}=H(),m=V(i,{path:"/me/folder/:folderId"}),d=V(i,{path:"/server/:serverId/folder/:folderId"}),u=(null==(a=null==m?void 0:m.params)?void 0:a.folderId)||(null==(r=null==d?void 0:d.params)?void 0:r.folderId),{t:p}=w(),[g]=ts({serverId:null==e?void 0:e.server.id,permissions:[Wn.ManagePosts]}),v=_()[1],[h]=function(e){const t={...Nn,...e};return n(Ta,t)}(),f=ns(e),E=as(e),[b]=el(),x=(null==(l=null==e?void 0:e.author)?void 0:l.id)===b.id,y=x||g,N=ls(),k=null!=(o=null==(s=b.servers.find((t=>t.id===e.server.id)))?void 0:s.folders)?o:[],C=b.relatedUsers.filter((e=>"Friends"===e.relationshipStatus)),[$]=$a(),[I]=function(e){const t={...Nn,...e};return n(Ia,t)}();return e?c.createElement(c.Fragment,null,c.createElement(rs,null,c.createElement(t,{onClick:()=>f(),label:e.isVoted?p("post.context.unvote"):p("post.context.vote")}),N.length>0&&c.createElement(t,{label:p("post.context.addToUserFolder")},N.map((n=>c.createElement(t,{key:n.id,label:n.name,onClick:()=>$({variables:{input:{folderId:n.id,postId:e.id}}}).then((e=>{e.error||j.success(p("folder.added",{name:n.name}))}))})))),k.length>0&&c.createElement(t,{label:p("post.context.addToServerFolder")},k.map((n=>c.createElement(t,{key:n.id,label:n.name,onClick:()=>$({variables:{input:{folderId:n.id,postId:e.id}}}).then((e=>{e.error||j.success(p("folder.added",{name:n.name}))}))})))),C.length>0&&c.createElement(t,{label:p("post.context.sendToFriend")},C.map((e=>c.createElement(t,{key:e.id,label:e.name})))),x&&c.createElement(t,{label:p("post.context.edit")}),g&&c.createElement(t,{onClick:()=>E(),label:e.isPinned?p("post.context.unpin"):p("post.context.pin")}),c.createElement(t,{onClick:()=>{v(`${e.relativeUrl}`)},label:p("post.context.copyLink")}),u&&c.createElement(t,{label:p("post.context.removeFromFolder"),red:!0,onClick:()=>I({variables:{input:{folderId:u,postId:e.id}}})}),y&&c.createElement(t,{red:!0,onClick:()=>{h({variables:{input:{postId:e.id}}}),j.success(p("post.context.deleted"))},label:p("post.context.delete")}))):null}function cs({user:e,server:t,isDm:a,ContextMenuItem:r}){const{t:l}=w(),[s]=el(),[o,i,m]=ts({serverId:null==t?void 0:t.id,permissions:[Wn.ManageUsers,Wn.ChangeNickname,Wn.ManageNicknames]}),[d]=er(),[u]=Xa(),[p]=function(e){const t={...Nn,...e};return n(ir,t)}(),[g]=function(e){const t={...Nn,...e};return n(mr,t)}(),[v]=Va(),[h]=Ja(),f=Rl((e=>e.setDialogUserId)),{push:E}=C();return e?c.createElement(c.Fragment,null,c.createElement(rs,null,c.createElement(r,{label:l("user.context.viewProfile"),onClick:()=>{f(e.id)}}),c.createElement(r,{onClick:()=>E(`/me/dm/${e.id}`),label:l("user.context.sendMessage")}),a&&c.createElement(c.Fragment,null,!!e.unreadCount&&c.createElement(r,{label:l("user.context.markRead"),onClick:()=>{u({variables:{input:{userId:e.id}}})}}),c.createElement(r,{label:l("user.context.closeDm"),onClick:()=>{d({variables:{input:{userId:e.id}}})}})),e.id!==s.id?c.createElement(c.Fragment,null,e.relationshipStatus===Vn.Friends?c.createElement(r,{label:l("user.context.removeFriend"),red:!0,onClick:()=>h({variables:{input:{userId:e.id}},optimisticResponse:{removeFriend:{...e,relationshipStatus:Vn.None}}})}):c.createElement(r,{label:l("user.context.addFriend"),onClick:()=>v({variables:{input:{userId:e.id}}})})):c.createElement(c.Fragment,null),!!t&&(m||o)&&c.createElement(c.Fragment,null,m&&c.createElement(r,{label:l("user.context.changeNickname")}),o&&c.createElement(c.Fragment,null,c.createElement(r,{label:l("user.context.kickUser",{user:e}),red:!0,onClick:()=>{g({variables:{input:{serverId:t.id,userId:e.id}}}),j.success(l("user.context.kickedUser",{user:e}))}}),c.createElement(r,{label:l("user.context.banUser",{user:e}),red:!0,onClick:()=>{const n=window.prompt(l("user.context.banPrompt"));null!==n&&(p({variables:{input:{serverId:t.id,userId:e.id,reason:n}}}),j.success(l("user.context.bannedUser",{user:e})))}}))))):null}const os=e=>{const[t]=el();return c.useMemo((()=>{var n,a;return(null!=(a=null==(n=null==t?void 0:t.servers)?void 0:n.flatMap((e=>e.channels)))?a:[]).find((t=>t.id===e))}),[e,null==t?void 0:t.servers])};function is({message:e,ContextMenuItem:t}){var a,r,l,s;const{pathname:o}=H(),i=V(o,{path:"/me/group/:groupId"}),m=V(o,{path:"/me/dm/:userId"}),d=V(o,{path:"/server/:serverId/channel/:channelId"}),u=null==(a=null==i?void 0:i.params)?void 0:a.groupId,p=null==(r=null==m?void 0:m.params)?void 0:r.userId;null==(l=null==d?void 0:d.params)||l.serverId;const g=null==(s=null==d?void 0:d.params)?void 0:s.channelId,[v]=(({channelId:e,permissions:t})=>{const n=os(e);return c.useMemo((()=>n?t.map((e=>n.permissions.includes(e))):t.map((e=>!1))),[n,t])})({channelId:g,permissions:[kn.ManageMessages]}),h=_()[1];!function(e){const t={...Nn,...e};n(Ua,t)}(),Ra(),Oa();const f=(e=>{const[t]=Ra(),[n]=Oa();return c.useCallback((()=>{const a={messageId:e.id};e.isPinned?n({variables:{input:a}}):t({variables:{input:a}})}),[e,t,n])})(e),{t:E}=w(),[b]=el(),x=e.author.id===b.id,y=v||x,N=v||u||p;return c.createElement(c.Fragment,null,c.createElement(rs,null,x&&c.createElement(t,{label:E("message.context.edit")}),N&&c.createElement(t,{label:e.isPinned?E("message.context.unpin"):E("message.context.pin"),onClick:()=>f()}),c.createElement(t,{onClick:()=>{h(`${e.relativeUrl}`)},label:E("message.context.copyLink")}),y&&c.createElement(t,{label:E("message.context.delete"),red:!0,onClick:()=>j.error(E("message.context.deleted"))})))}const ms=e=>{const{t:t}=w(),{serverId:a}=G(),[r]=function(e){const t={...Nn,...e};return n(va,t)}({optimisticResponse:{voteComment:{...e,isVoted:!0,voteCount:e.voteCount+1}}}),[l]=function(e){const t={...Nn,...e};return n(ha,t)}({optimisticResponse:{unvoteComment:{...e,isVoted:!1,voteCount:e.voteCount-1}}}),[s]=ts({serverId:a,permissions:[Wn.VoteComment]});return c.useCallback((()=>{const n={commentId:e.id};s?e.isVoted?l({variables:{input:n}}):r({variables:{input:n}}):j.error(t("comment.context.votePermission"))}),[e,s,r,l,t])},ds=e=>{const[t]=function(e){const t={...Nn,...e};return n(fa,t)}(),[a]=function(e){const t={...Nn,...e};return n(Ea,t)}();return c.useCallback((()=>{const n={commentId:e.id};e.isPinned?a({variables:{input:n}}):t({variables:{input:n}})}),[e,t,a])};function us({comment:e,ContextMenuItem:t}){var a;const{t:r}=w(),[l]=el(),{pathname:s}=H(),o=V(s,{path:"/server/:serverId"}),i=null==(a=null==o?void 0:o.params)?void 0:a.serverId,m=Rl((e=>e.setReplyingCommentId)),[d,u,p]=ts({serverId:i,permissions:[Wn.ManageComments,Wn.VoteComment,Wn.CreateComment]}),g=_()[1];!function(e){const t={...Nn,...e};n(ga,t)}();const v=ms(e),h=ds(e),f=e.author.id===l.id,E=d||f;return c.createElement(c.Fragment,null,c.createElement(rs,null,u&&c.createElement(t,{label:e.isVoted?r("comment.context.unvote"):r("comment.context.vote"),onClick:()=>v()}),f&&c.createElement(t,{label:r("comment.context.edit")}),d&&c.createElement(t,{label:e.isPinned?r("comment.context.unpin"):r("comment.context.pin"),onClick:()=>h()}),p&&c.createElement(t,{onClick:()=>m(null==e?void 0:e.id),label:r("comment.context.reply")}),c.createElement(t,{onClick:()=>{g(`${e.id}`)},label:r("comment.context.copyLink")}),E&&c.createElement(t,{label:r("comment.context.delete"),red:!0,onClick:()=>j.error(r("comment.context.deleted"))})))}function ps({server:e,ContextMenuItem:t}){const{t:a}=w(),[r]=el(),l=N(),[s]=function(e){const t={...Nn,...e};return n(or,t)}(),{push:o}=C(),{pathname:i}=H();return c.createElement(c.Fragment,null,c.createElement(rs,null,c.createElement(t,{label:a("server.context.markRead")}),c.createElement(t,{label:a("server.context.mute")}),c.createElement(t,{label:a("server.context.invite")}),e.owner.id!==r.id&&c.createElement(t,{label:a("server.context.leave"),red:!0,onClick:()=>{i.startsWith(`/server/${e.id}`)&&o("/me"),s({variables:{input:{serverId:e.id}}});const t=l.cache.readQuery({query:Er});l.cache.writeQuery({query:Er,data:{user:{...t.user,servers:t.user.servers.filter((t=>t.id!==e.id))}}});const n=l.cache.readFragment({fragment:Zn,id:`Server:${e.id}`});l.cache.writeFragment({fragment:Zn,id:`Server:${e.id}`,data:{...n,isJoined:!1}})}})))}function gs({channel:e,ContextMenuItem:t}){var a,r;const{t:l}=w(),{push:s}=C(),{pathname:o}=H(),i=V(o,{path:"/server/:serverId"}),m=V(o,{path:"/server/:serverId/channel/:channelId"}),d=null==(a=null==i?void 0:i.params)?void 0:a.serverId,u=null==(r=null==m?void 0:m.params)?void 0:r.channelId,[p]=ts({serverId:d,permissions:[Wn.ManageChannels]}),g=N(),[v]=function(e){const t={...Nn,...e};return n(da,t)}();return c.createElement(c.Fragment,null,c.createElement(rs,null,c.createElement(t,{label:l("channel.context.markRead")}),c.createElement(t,{label:l("channel.context.mute")}),c.createElement(t,{label:l("channel.context.edit")}),p&&c.createElement(t,{label:l("channel.context.delete"),red:!0,onClick:()=>{o===`/server/${d}/channel/${u}`&&s(`/server/${d}`),v({variables:{input:{channelId:e.id}}});const t=g.cache,n=t.readQuery({query:Er}),a=JSON.parse(JSON.stringify(n)),r=a.user.servers.find((e=>e.id===d));r.channels=r.channels.filter((t=>t.id!==e.id)),t.writeQuery({query:Er,data:a})}})))}function vs({folder:e,ContextMenuItem:t}){var a;const{t:r}=w(),[l]=el(),s=ls().filter((e=>e.owner.id!==l.id)).map((e=>e.id)).includes(e.id),o="Read Later"!==e.name&&"Favorites"!==e.name;c.useState(!1);const[i]=ya(),[m]=function(e){const t={...Nn,...e};return n(Na,t)}(),[d]=function(e){const t={...Nn,...e};return n(ka,t)}(),[u]=function(e){const t={...Nn,...e};return n(wa,t)}(),{push:p}=C(),{pathname:g}=H(),v=V(g,{path:"/server/:serverId"}),h=null==(a=null==v?void 0:v.params)?void 0:a.serverId;return c.createElement(c.Fragment,null,c.createElement(rs,null,c.createElement(t,{label:r("folder.context.copyLink")}),e.owner.id!==l.id&&c.createElement(c.Fragment,null,s?c.createElement(t,{label:r("folder.context.unfollow"),onClick:()=>d({variables:{input:{folderId:e.id}}})}):c.createElement(t,{label:r("folder.context.follow"),onClick:()=>m({variables:{input:{folderId:e.id}}})})),o&&c.createElement(c.Fragment,null,c.createElement(t,{label:r("folder.context.edit")}),!h&&c.createElement(t,{label:r("folder.context.collaborative"),checked:e.isCollaborative,onClick:()=>i({variables:{input:{folderId:e.id,isCollaborative:!e.isCollaborative}}})}),c.createElement(t,{label:r("folder.context.changeVisibility")},c.createElement(t,{label:r("folder.context.visibility.public"),checked:e.visibility===Fn.Public,onClick:()=>i({variables:{input:{folderId:e.id,visibility:Fn.Public}}})}),c.createElement(t,{label:r("folder.context.visibility.friends"),checked:e.visibility===Fn.Friends,onClick:()=>i({variables:{input:{folderId:e.id,visibility:Fn.Friends}}})}),c.createElement(t,{label:r("folder.context.visibility.unlisted"),checked:e.visibility===Fn.Unlisted,onClick:()=>i({variables:{input:{folderId:e.id,visibility:Fn.Unlisted}}})}),c.createElement(t,{label:r("folder.context.visibility.private"),checked:e.visibility===Fn.Private,onClick:()=>i({variables:{input:{folderId:e.id,visibility:Fn.Private}}})})),c.createElement(t,{label:r("folder.context.delete"),red:!0,onClick:()=>{u({variables:{input:{folderId:e.id}}}),g.startsWith("/me/folder")?p("/me"):g.startsWith(`/server/${h}/folder`)&&p(`/server/${h}`)}}))))}function hs(){return c.createElement("div",{className:"border-t dark:border-gray-800 mt-2 pb-2"})}const fs=I("\n  p-2\n  w-48\n  dark:bg-gray-900\n  rounded\n  shadow-lg\n  outline-none\n");function Es({bindMenu:{style:e,ref:t,role:n,tabIndex:a},data:r,bindMenuItem:l,hideMenu:s}){const o=(i={bindMenuItem:l,hideMenu:s},c.useCallback((({onClick:e,red:t,label:n,checked:a,children:r})=>c.createElement(Gl,{item:i,onClick:e,red:t,label:n,checked:a},r)),[i]));var i;const m=_()[1],d=(null==r?void 0:r.href)?new URL(r.href):null,u=d&&d.origin===window.location.origin,p="Mac OS"===Qr();return c.createElement("div",{style:{...e,zIndex:999999},ref:t,role:n,tabIndex:a,className:fs,onMouseDown:e=>{e.stopPropagation(),e.preventDefault()}},!!window.getSelection().toString()&&c.createElement(c.Fragment,null,c.createElement(o,{label:c.createElement("div",{className:"flex items-center w-full"},"Copy",c.createElement("div",{className:"ml-auto"},p?"⌘+C":"Ctrl+C")),onClick:()=>document.execCommand("copy")}),c.createElement(hs,null)),(null==r?void 0:r.type)===Wl&&c.createElement(ss,{post:null==r?void 0:r.post,ContextMenuItem:o}),(null==r?void 0:r.type)===Yl&&c.createElement(cs,{user:null==r?void 0:r.user,server:null==r?void 0:r.server,isDm:null==r?void 0:r.isDm,ContextMenuItem:o}),(null==r?void 0:r.type)===Jl&&c.createElement(is,{message:null==r?void 0:r.message,ContextMenuItem:o}),(null==r?void 0:r.type)===Ql&&c.createElement(us,{comment:null==r?void 0:r.comment,ContextMenuItem:o}),(null==r?void 0:r.type)===Kl&&c.createElement(ps,{server:null==r?void 0:r.server,ContextMenuItem:o}),(null==r?void 0:r.type)===Zl&&c.createElement(gs,{channel:null==r?void 0:r.channel,ContextMenuItem:o}),(null==r?void 0:r.type)===Xl&&c.createElement(vs,{folder:null==r?void 0:r.folder,ContextMenuItem:o}),!!(null==r?void 0:r.href)&&!u&&c.createElement(c.Fragment,null,c.createElement(hs,null),c.createElement(rs,null,c.createElement(o,{label:"Copy Link",onClick:()=>m(r.href)}),c.createElement(o,{label:"Open Link",onClick:()=>window.open(r.href,"_blank")}))))}const bs=c.createContext({useContextTrigger:e=>[{}]});function xs({children:e}){const[t,n,a,{data:r,coords:l,setVisible:s}]=Vl();return c.createElement(c.Fragment,null,c.createElement(bs.Provider,{value:{useContextTrigger:a}},e,c.createElement(Es,{bindMenu:t,data:r,bindMenuItem:n,hideMenu:()=>s(!1)})))}function ys({data:e,leftClick:t=!1,children:n,className:a}){const[r]=((e,t=!1)=>{const{useContextTrigger:n}=c.useContext(bs);return n({collect:()=>e,mouseButton:t?Al:Ol})})(e,t);return c.createElement("div",{className:a,...r},n)}const ws=()=>{var e;const[t]=el();return null!=(e=null==t?void 0:t.servers)?e:[]};function Ns(){const e=ws(),{pathname:t}=H(),{t:n}=w(),a=Rl((e=>e.homePage)),r=t.startsWith("/me"),l=t.startsWith("/explore"),s="Mac OS"===Qr()&&window.electron;return c.createElement(c.Fragment,null,c.createElement("div",{className:"flex flex-col items-center min-w-[4.5rem] w-18 bg-white dark:bg-gray-900 overflow-y-auto scrollbar-none"},s&&c.createElement("div",{className:"h-5"}),c.createElement("div",{className:"h-full flex flex-col items-center w-full divide-y dark:divide-gray-800 divide-gray-200"},c.createElement("div",{className:"space-y-2 flex flex-col items-center py-2"},c.createElement(Il,{name:n("home"),to:"/me"+(a?`/${a}`:""),active:r,className:""+(r?"bg-blue-600":"dark:bg-gray-800 bg-gray-200 hover:bg-blue-600 dark:hover:bg-blue-600")},c.createElement(Y,{className:"w-5 h-5 group-hover:text-white transition "+(r?"text-white":"text-blue-500")})),c.createElement(Il,{name:n("explore.title"),to:"/explore",active:l,className:l?"bg-green-600":"dark:bg-gray-800 bg-gray-200 hover:bg-green-600 dark:hover:bg-green-600"},c.createElement(W,{className:"w-5 h-5 group-hover:text-white transition "+(l?"text-white":"text-green-500")})),c.createElement(Fl,null)),!!e&&e.length>0&&c.createElement("div",{className:"space-y-2 flex flex-col items-center py-2"},e.map((e=>c.createElement(ks,{server:e,key:e.id})))))))}function ks({server:e}){var t;const[{opacity:n},a]=Q({type:Pl,item:e,collect:e=>({opacity:e.isDragging()?.6:1})}),{pathname:r}=H(),l=V(r,{path:"/server/:serverId"}),s=null==(t=null==l?void 0:l.params)?void 0:t.serverId,o=Rl((e=>e.serverPages)),i=!!e.channels.filter((e=>e.permissions.includes(kn.ViewChannel))).find((e=>e.isUnread)),m=s===e.id;return c.createElement(ys,{className:"h-12",data:{type:Kl,server:e}},c.createElement(Il,{to:`/server/${e.id}${o[e.id]?`/${o[e.id]}`:""}`,name:e.name,ref:a,active:m,unread:i},c.createElement(wl,{server:e,size:12,style:{opacity:n},className:"bg-gray-200 h-12 w-12 dark:bg-gray-800 group-hover:rounded-2xl transition-all "+(m?"rounded-2xl":"rounded-3xl")})))}function Cs({children:e,right:t=!1,show:n=!0}){return c.createElement("div",{className:`${n?"block":"hidden"} w-60 min-w-[15rem] bg-gray-200 dark:bg-gray-800 ${t?"":"rounded-tl-lg"}`},c.createElement("div",{className:"relative h-full w-full scrollbar-dark"},e))}function $s({name:e,icon:t}){const[n,a]=Rl((e=>[e.postsSort,e.setPostsSort])),{serverId:r}=G(),{pathname:l}=H(),{push:s}=C(),o=n===e&&("/me/feed"===l||l===`/server/${r}/posts`),i=t;return c.createElement(El,{onClick:()=>{a(e),s(r?`/server/${r}/posts`:"/me/feed")},active:o},c.createElement(i,{className:"w-5 h-5 mr-3 text-tertiary"}),e)}function Is(){const{t:e}=w();return c.createElement("div",{className:"space-y-0.5"},c.createElement($s,{name:e("post.feed.sort.hot"),icon:J}),c.createElement($s,{name:e("post.feed.sort.new"),icon:K}),c.createElement($s,{name:e("post.feed.sort.top"),icon:X}))}function Ms({count:e}){return c.createElement("div",{className:"rounded-full bg-red-400 w-4 h-4 inline-flex items-center justify-center text-xs font-medium text-center text-primary"},e)}function Ss(){const{t:e}=w(),t=(()=>{var e,t,n;const[a]=el(),r=null!=(e=null==a?void 0:a.groups)?e:[],l=null!=(n=null==(t=null==a?void 0:a.relatedUsers)?void 0:t.filter((e=>e.showChat)))?n:[];return r.concat(l).sort(((e,t)=>e.lastMessageAt.getTime()-t.lastMessageAt.getTime()))})();return c.createElement(c.Fragment,null,c.createElement(Cs,null,c.createElement("div",{className:"h-12 border-b dark:border-gray-850 shadow flex items-center px-5 text-base font-medium"},c.createElement(Tr,{className:"h-4"})),c.createElement("div",{className:"px-1.5 pt-3"},c.createElement("div",{className:"space-y-0.5"},c.createElement(El,{to:"/me/friends"},c.createElement(Z,{className:"mr-3 h-5 w-5"}),e("user.friends.title")),c.createElement(El,{to:"/me/inbox"},c.createElement(ee,{className:"mr-3 h-5 w-5"}),e("inbox.title")),c.createElement(El,{onClick:()=>j.error(e("infinity.comingSoon"))},c.createElement(te,{className:"mr-3 h-5 w-5"}),e("infinity.title"))),c.createElement(xl,null,e("post.feed.title")),c.createElement(Is,null),c.createElement(xl,{plusLabel:"Create DM"},e("dm.title")),c.createElement("div",{className:"space-y-0.5"},!!t&&t.map((e=>{if("Group"===e.__typename)return c.createElement("div",null,"Group");if("User"===e.__typename){const t=e;return c.createElement(Fs,{user:t,key:`user-${t.id}`})}}))))))}function Fs({user:e}){w();const[t]=er(),{push:n}=C(),{pathname:a}=H(),[r]=Fa(),[{isOver:l,canDrop:s},o]=ne({accept:Ul,drop:(t,a)=>{n(`/me/dm/${e.id}`),r({variables:{input:{userId:e.id,text:`${location.origin}${t.relativeUrl}`}}})},collect:e=>({isOver:e.isOver(),canDrop:e.canDrop()})});return c.createElement("div",null,c.createElement(ys,{data:{type:Yl,user:e,isDm:!0}},c.createElement(El,{ref:o,large:!0,to:`/me/dm/${e.id}`,key:`user-${e.id}`},c.createElement(vl,{size:9,showOnline:!0,user:e,dotClassName:"ring-3 w-2.5 h-2.5 dark:ring-gray-800"}),c.createElement("span",{className:"ml-3"},e.name),c.createElement("div",{className:"ml-auto"}),c.createElement("div",{className:"pr-2"},!!e.unreadCount&&c.createElement(Ms,{count:e.unreadCount})),c.createElement(R,{onClick:r=>{r.stopPropagation(),r.preventDefault(),t({variables:{input:{userId:e.id}}}),a===`/me/dm/${e.id}`&&n("/me/friends")},className:"group-hover:visible invisible w-5 h-5 cursor-pointer text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}))))}function Us({folder:e,serverId:t}){const[n]=$a(),[a]=ts({serverId:t,permissions:[Wn.AddPostToFolder]}),[{isOver:r,canDrop:l},s]=ne({accept:Ul,drop:async(r,l)=>{!t||a?n({variables:{input:{folderId:e.id,postId:r.id}}}).then((t=>{t.error||j.success(i("folder.added",{name:e.name}))})):j.error(i("folder.noPermission"))},collect:e=>({isOver:e.isOver(),canDrop:e.canDrop()})}),o=r&&l,{t:i}=w(),m=(e=>{const{t:t}=w();return c.useMemo((()=>"Favorites"===e.name?t("folder.favorites"):"Read Later"===e.name?t("folder.readLater"):e.name),[t,e.name])})(e),d=c.useMemo((()=>e.avatarUrl?c.createElement(c.Fragment,null,c.createElement("div",{className:"rounded-full h-7 w-7 mr-3 bg-center bg-contain",style:{backgroundImage:`url(${e.avatarUrl})`}}),c.createElement("span",{className:"truncate"},m)):t||"Favorites"!==e.name?t||"Read Later"!==e.name?c.createElement(c.Fragment,null,c.createElement(le,{className:"w-5 h-5 ml-1 mr-4"}),c.createElement("span",{className:"truncate"},e.name)):c.createElement(c.Fragment,null,c.createElement(re,{className:"w-5 h-5 ml-1 mr-4 text-blue-500"}),c.createElement("span",{className:"truncate"},m)):c.createElement(c.Fragment,null,c.createElement(ae,{className:"w-5 h-5 ml-1 mr-4 text-yellow-500"}),c.createElement("span",{className:"truncate"},m))),[t,e,m]);return c.createElement("div",null,c.createElement(ys,{data:{type:Xl,folder:e}},c.createElement(El,{active:o,to:`${t||e.server?`/server/${null!=t?t:e.server.id}`:"/me"}/folder/${e.id}`,ref:s},d)))}function Ps({serverId:e}){const{t:t}=w(),[a]=ts({serverId:e,permissions:[Wn.ManagePosts]}),[r,l]=c.useState(!1),{handleSubmit:s,register:o,reset:i,watch:m}=k(),d=m("name");c.useEffect((()=>{r&&i()}),[r,i]);const[u,{loading:p}]=function(e){const t={...Nn,...e};return n(ba,t)}(),g=es(e),v=e?t("folder.server.title",{name:null==g?void 0:g.name}):t("folder.user.title"),h=t(e?"folder.server.create":"folder.user.create");return e&&!a?c.createElement(xl,null,v):c.createElement(c.Fragment,null,c.createElement(xl,{onClick:()=>l(!0),plusLabel:h},v),c.createElement(Nl,{isOpen:r,close:()=>l(!1),closeOnOverlayClick:!0},c.createElement("div",{className:"rounded-lg dark:bg-gray-750 p-4 max-w-md w-full",onClick:e=>e.stopPropagation()},c.createElement(Sl,{className:"title mb-4"},h),c.createElement("form",{onSubmit:s((({name:t})=>{u({variables:{input:{name:t,serverId:e}}}).then((({data:{createFolder:e}})=>{l(!1)}))}))},c.createElement("div",{className:"mb-4 w-full"},c.createElement("label",{className:"label",htmlFor:"name"},t("folder.name")),c.createElement("input",{...o("name",{required:!0,maxLength:300}),maxLength:300,className:"textbox px-3",id:"name"})),c.createElement(ll,{loading:p,disabled:"Read Later"===d||"Favorites"===d},t("continue"))))))}function Rs(){w();const e=Rl((e=>e.showFolders)),t=ls();return c.createElement(Cs,{right:!0,show:e},c.createElement("div",{className:"px-1.5"},c.createElement(Ps,null),c.createElement("div",{className:"space-y-0.5"},!!t&&t.map((e=>c.createElement(Us,{key:e.id,folder:e}))))))}function As(){return c.createElement("div",{className:"group relative w-full"},c.createElement("input",{onFocus:e=>{e.target.blur(),j.error("Search is coming soon!")},className:"w-full block h-7 min-w-0 rounded-md dark:bg-gray-850 placeholder-tertiary text-sm focus:outline-none focus:ring-1 ring-blue-600 transition"}),c.createElement(se,{className:"w-4 h-4 text-mid absolute top-1/2 transform -translate-y-1/2 left-3"}))}function Os({children:e,className:t,icon:n,title:a,showDivider:r=!1}){return c.createElement("header",{id:"header",className:"h-12 min-h-[3rem] items-center bg-white dark:bg-gray-750 border-b dark:border-gray-800 shadow flex"},c.createElement("div",{className:"flex items-center font-semibold text-base text-primary pl-4 pr-4 "+(r?"border-r dark:border-gray-700 mr-4":"")},c.createElement("div",{className:"text-tertiary mr-3"},n),a),c.createElement("div",{className:"flex-grow flex items-center min-w-0 pr-4"},e),c.createElement("div",{className:"flex w-60 min-w-[15rem] pr-4"},c.createElement(As,null)))}function Ls({currentPage:e,setCurrentPage:t,page:n,green:a=!1,children:r}){return c.createElement("button",{onClick:()=>t(n),className:"text-base font-medium rounded px-1.5 py-0.5 cursor-pointer select-none flex flex-shrink-0 items-center focus:outline-none "+(n===e?a?"text-green-600 bg-green-900":"text-secondary dark:bg-gray-700":a?"text-secondary bg-green-600":"text-tertiary")},r||n)}function zs(){const[e,t]=Rl((e=>[e.showFolders,e.setShowFolders])),{t:n}=w();return c.createElement(v,{content:n(e?"folder.hide":"folder.show")},c.createElement("div",{className:"highlightable",onClick:()=>t(!e)},c.createElement(le,{className:"w-5 h-5"})))}function Ts({refreshPosts:e}){const[t,n,a]=Rl((e=>[e.postsSort,e.showFolders,e.liveMode])),{t:r}=w();let l;switch(t){case"Hot":l=c.createElement(J,{className:"w-5 h-5"});break;case"New":l=c.createElement(K,{className:"w-5 h-5"});break;case"Top":l=c.createElement(X,{className:"w-5 h-5"})}return c.createElement(Os,{isRightSidebar:n,title:t,icon:l,showDivider:"Hot"!==t},"Top"===t&&c.createElement("div",{className:"flex items-center space-x-4"},c.createElement(Ds,{time:"Hour"}),c.createElement(Ds,{time:"Day"}),c.createElement(Ds,{time:"Week"}),c.createElement(Ds,{time:"Month"}),c.createElement(Ds,{time:"Year"}),c.createElement(Ds,{time:"All"})),"New"===t&&c.createElement(v,{content:r("post.feed.liveMode.description"),placement:"right"},c.createElement("div",null,c.createElement(Ml,{checked:a,onChange:()=>j.error(r("post.feed.liveMode.comingSoon"))},r("post.feed.liveMode.title")))),c.createElement("div",{className:"ml-auto space-x-5 flex items-center"},c.createElement(v,{content:r("post.feed.refresh")},c.createElement("div",{className:"highlightable",onClick:e},c.createElement(ce,{className:"w-5 h-5"}))),c.createElement(zs,null)))}function Ds({time:e}){const{t:t}=w(),[n,a]=Rl((e=>[e.postsTime,e.setPostsTime]));return c.createElement(Ls,{page:e,setCurrentPage:a,currentPage:n},t(`post.feed.time.${e.toLowerCase()}`))}const qs=({serverId:e,folderId:n})=>{var a;const[r,l,s]=Rl((e=>[e.postsSort,e.postsTime,e.folderSort])),[o,i]=c.useState(0),m={sort:n?s:r,time:"Top"!==r||n?null:l,serverId:e,folderId:n},{data:d,loading:u,fetchMore:p}=function(e){const n={...Nn,...e};return t(kr,n)}({variables:m,fetchPolicy:"network-only",nextFetchPolicy:"cache-first"}),g=null==d?void 0:d.posts.hasMore,v=null!=(a=null==d?void 0:d.posts.posts)?a:[];return[v,u,()=>{g&&0!==v.length&&(p({variables:{...m,offset:20*(o+1)},updateQuery:(e,{fetchMoreResult:t})=>({posts:{hasMore:t.posts.hasMore,posts:[...e.posts.posts,...t.posts.posts]}})}),i(o+1))},g]},Bs=I("\n  absolute\n  cursor-pointer\n  select-none\n  top-32\n  -mt-4\n  hover:shadow-md\n  z-10\n  right-3\n  transition\n  flex\n  items-center\n  px-4\n  h-8\n  rounded-md\n  text-13\n  font-semibold\n  bg-gray-200\n  border-2\n  border-gray-800\n  text-gray-900\n  transform\n  hover:scale-105\n  focus:outline-none\n");function js({server:e,shadow:t=!1,className:a=""}){var r,l;const{t:s}=w(),[o,{loading:i}]=function(e){const t={...Nn,...e};return n(cr,t)}({update(e,{data:{joinServer:t}}){const n=e.readQuery({query:Er});e.writeQuery({query:Er,data:{user:{...n.user,servers:[t,...n.user.servers]}}})}}),{push:m}=C();return c.createElement("div",{className:`${a} relative relative flex flex-col w-full rounded-lg group dark:bg-gray-800 dark:hover:bg-gray-850 duration-200 transform transition hover:shadow-xl ${t?"shadow-lg":""}`},c.createElement("button",{type:"button",className:Bs,onClick:()=>{e.isJoined?m(`/server/${e.id}`):o({variables:{input:{serverId:e.id}}})}},e.isJoined?"View":"Join",i&&c.createElement(Or,{className:"w-4 h-4 text-gray-900 ml-2"})),c.createElement("div",{className:"h-32 rounded-t-lg w-full bg-cover bg-center bg-no-repeat relative bg-gradient-to-br from-red-400 to-indigo-600",style:(null==e?void 0:e.bannerUrl)?{backgroundImage:`url(${null==e?void 0:e.bannerUrl})`}:void 0},c.createElement(wl,{size:10,server:e,className:"dark:bg-gray-750 rounded-xl ring-4 dark:ring-gray-800 transition dark:group-hover:ring-gray-850 group-hover:shadow-md -bottom-3 left-4 absolute"})),c.createElement("div",{className:"flex flex-col flex-grow px-4 pt-7 pb-4 h-40"},c.createElement("div",{className:"text-base font-medium text-secondary"},null==e?void 0:e.name),c.createElement("div",{className:"text-13 text-tertiary line-clamp-3 pt-1"},(null==e?void 0:e.description)||"No description"),c.createElement("div",{className:"flex space-x-6 mt-auto text-xs"},c.createElement("div",{className:"inline-flex items-center"},c.createElement("div",{className:"w-1.5 h-1.5 bg-green-600 rounded-full"}),c.createElement("div",{className:"ml-1.5 text-green-600"},s("server.onlineCount",{count:null!=(r=null==e?void 0:e.onlineCount)?r:0}))),c.createElement("div",{className:"inline-flex items-center"},c.createElement("div",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full"}),c.createElement("div",{className:"ml-1.5 text-tertiary"},s("server.memberCount",{count:null!=(l=null==e?void 0:e.userCount)?l:0}))))))}function Hs({children:e,render:t,className:n,placement:a="right"}){const[r,l]=c.useState(!1),s=oe(8);const o={name:"hideOnPopperBlur",defaultValue:!0,fn:e=>({onCreate(){e.popper.addEventListener("focusout",(t=>{e.props.hideOnPopperBlur&&t.relatedTarget&&!e.popper.contains(t.relatedTarget)&&e.hide()}))}})};return c.createElement(c.Fragment,null,c.createElement(ie,{render:e=>c.createElement(y.div,{style:{x:s},...e,className:`hidden lg:block ${n}`},t((()=>l(!1)))),placement:a,interactive:!0,onMount:function(){l(!0),s.set(8),me(s,0,{ease:[.4,0,.2,1],duration:.15})},visible:r,onHide:()=>l(!1),onClickOutside:()=>l(!1),plugins:[o],zIndex:9999,appendTo:document.body},c.createElement("span",{className:"leading-none",onClick:()=>l(!0)},e)))}function Vs({server:e,children:t}){return c.createElement(Hs,{className:"w-96",render:t=>c.createElement(js,{server:e,shadow:!0,className:"rounded-b-none lg:rounded-b-lg"})},t)}function _s({user:e,nickname:t,roles:n,children:a,placement:r="right"}){const l=Rl((e=>e.setDialogUserId));return c.createElement(c.Fragment,null,c.createElement(Hs,{className:"w-64",placement:r,render:a=>c.createElement("div",{className:"w-full relative rounded-md shadow-lg duration-200 transform transition z-50 w-64"},c.createElement("div",{className:"p-3 flex flex-col items-center dark:bg-gray-850 rounded-t-md"},c.createElement("div",{className:"group relative"},c.createElement(vl,{user:e,size:20,showOnline:!0,className:"dark:bg-gray-700 cursor-pointer select-none",dotClassName:"ring-5 w-4 h-4 dark:ring-gray-850"}),c.createElement("div",{onClick:()=>{a(),l(e.id)},className:"cursor-pointer bg-black bg-opacity-50 transition rounded-full absolute whitespace-nowrap inset-0 flex items-center justify-center text-9 uppercase tracking-widest font-semibold opacity-0 group-hover:opacity-100"},"View Profile")),c.createElement("div",{className:"mt-3 text-base"},c.createElement("span",{className:"font-semibold text-primary"},t||e.name),!t&&c.createElement("span",{className:"text-tertiary"},"#",e.tag)),t&&c.createElement("div",{className:"text-13 text-tertiary font-semibold"},e.name)),c.createElement("div",{className:"p-4 dark:bg-gray-800 rounded-b-md"},n&&c.createElement("div",null,c.createElement("div",{className:"text-11 font-semibold uppercase tracking-widest text-secondary pb-2"},"Roles"),c.createElement("div",{className:"flex space-x-1"},n.map((e=>c.createElement("div",{key:e.id,style:{color:e.color,borderColor:e.color},className:"text-xs font-medium px-2 h-5.5 rounded-full border inline-flex items-center "+(e.color?"":"dark:border-gray-700 text-secondary")},e.name))),c.createElement("div",{className:"text-xs font-medium h-5.5 w-5.5 rounded-full border inline-flex items-center justify-center dark:border-gray-700 text-secondary"},c.createElement(P,{className:"w-5 h-5"}))))))},a))}function Gs(e){return de(e).calendar()}function Ys(e){return de(e).format("h:mm A")}de.extend(ue),de.extend(pe);const Ws=/^https?:\/\/twitter\.com\/(?:#!\/)?(?:\w+)\/status(?:es)?\/(\d+)/,Qs=/^https?:\/\/banned\.video\/watch\?id=((?:\w){24})/,Js=/^https?:\/\/open\.(?:spotify\.com\/)(?:embed\/)?(track|playlist|album)\/((?:\w){22})/,Ks=/^https?:\/\/gfycat\.com\/(\w+)/,Xs=/^https?:\/\/www\.bitchute\.com\/video\/(\w+)/,Zs=e=>ge.canPlay(e),ec=e=>Ws.test(e),tc=e=>Qs.test(e),nc=e=>Js.test(e),ac=e=>Ks.test(e),rc=e=>Xs.test(e),lc=e=>e&&(Zs(e)||ec(e)||tc(e)||nc(e)||ac(e))||rc(e),sc=I("aspect-h-9 aspect-w-16 relative"),cc=I("w-full h-full");function oc({url:e}){if(Zs(e))return c.createElement("div",{className:sc},c.createElement(ge,{url:e,className:"absolute top-0 left-0",width:"100%",height:"100%",config:{youtube:{playerVars:{controls:1}}}}));if(ec(e)){const t=e.match(Ws)[1];return c.createElement(ve,{tweetId:t,options:{theme:"dark",align:"center",dnt:!0}})}if(tc(e)){const t=e.match(Qs)[1];return c.createElement("div",{className:sc},c.createElement("iframe",{src:`https://api.banned.video/embed/${t}?autoplay=false&amp;muted=false`,frameBorder:"0",allowFullScreen:!0,className:cc}))}if(nc(e)){const t=e.match(Js),n=t[1],a=t[2];return c.createElement("div",{className:sc},c.createElement("iframe",{src:`https://open.spotify.com/embed/${n}/${a}`,frameBorder:"0",allowTransparency:"true",allow:"encrypted-media",className:cc}))}if(ac(e)){const t=e.match(Ks)[1];return c.createElement("div",{className:sc},c.createElement("iframe",{src:`https://gfycat.com/ifr/${t}`,frameBorder:"0",scrolling:"no",allowFullScreen:!0,className:cc}))}if(rc(e)){const t=e.match(Xs)[1];return c.createElement("div",{className:sc},c.createElement("iframe",{src:`https://www.bitchute.com/embed/${t}/`,frameBorder:"0",allowFullScreen:!0,className:cc}))}return null}function ic({linkUrl:e,metadata:t,dark:n=!1}){var a,r;const l=c.useMemo((()=>{if(!e)return"domain.com";let t=new URL(e).hostname;return t.startsWith("www.")&&(t=t.substring(4)),t}),[e]);return e&&lc(e)?c.createElement(oc,{url:e}):c.createElement("a",{href:e,rel:"noopener nofollow noreferrer",target:"_blank",className:"rounded-md flex transition "+(n?"dark:bg-gray-775 border dark:border-gray-825":"dark:bg-gray-750 dark:hover:bg-gray-725")},c.createElement("div",{className:"rounded-l-md dark:bg-gray-750 flex flex-shrink-0 items-center justify-center h-24 w-24 bg-contain bg-center",style:(null==t?void 0:t.image)?{backgroundImage:`url(${null==t?void 0:t.image})`}:{}},!(null==t?void 0:t.image)&&c.createElement(he,{className:"w-1/2 h-1/2 text-mid"})),c.createElement("div",{className:"flex-grow rounded-r-md pl-4 pr-4 max-h-24 flex flex-col py-1.5"},c.createElement("div",{className:"text-base text-primary line-clamp-1"},null!=(a=null==t?void 0:t.title)?a:"No title"),c.createElement("div",{className:"text-13 text-secondary pt-0.5 line-clamp-2",dangerouslySetInnerHTML:{__html:null!=(r=null==t?void 0:t.description)?r:"No description"}}),c.createElement("div",{className:"mt-auto text-11 text-tertiary flex items-center"},(!t||(null==t?void 0:t.logo))&&c.createElement("div",{className:"h-4 w-4 mr-2 dark:bg-gray-725 bg-contain bg-center",style:(null==t?void 0:t.logo)?{backgroundImage:`url(${null==t?void 0:t.logo})`}:{}}),l)))}var mc=c.memo((function({post:e,isPostPage:t=!1,showServerName:n=!1,className:a="",index:r}){var l,s,o,i,m;const d=ns(e),[{opacity:u},p]=Q({type:Ul,item:e,collect:e=>({opacity:e.isDragging()?.4:1})}),g=c.useMemo((()=>{var t,n;return e.text||!(e.text||e.linkUrl||e.images&&0!==e.images.length)?"Text":e.linkUrl?e.domain:1===(null==(t=e.images)?void 0:t.length)?"Image":(null==(n=e.images)?void 0:n.length)>1?"Image Album":void 0}),[e.domain,null==(l=e.images)?void 0:l.length,e.linkUrl,e.text]),[v,h]=c.useState(0);return c.createElement(ys,{data:{type:Wl,post:e}},c.createElement("div",{ref:p,style:{opacity:u},className:`${a} cursor-pointer relative group transition hover:shadow dark:bg-gray-800 pt-3 px-3 pb-3 rounded flex`},!t&&c.createElement("div",{className:"w-26 h-18 rounded dark:bg-gray-700 mr-3 flex items-center justify-center bg-center bg-cover bg-no-repeat",style:e.thumbnailUrl?{backgroundImage:`url(${e.thumbnailUrl})`}:{}},!!e.text&&c.createElement(fe,{className:"w-8 h-8 text-tertiary"}),!e.thumbnailUrl&&!e.text&&c.createElement(he,{className:"w-8 h-8 text-tertiary"})),c.createElement("div",{className:"pr-3 py-0.5 flex-grow flex flex-col"},c.createElement(x,{to:e.relativeUrl,className:"text-secondary font-medium"},e.title,c.createElement("span",{className:"text-xs text-mid"},"  ",g)),t&&g&&c.createElement("div",{className:"border-b dark:border-gray-750 mt-0.5 pb-2"},!!e.text&&c.createElement("div",{dangerouslySetInnerHTML:{__html:e.text},className:"prose prose-sm dark:prose-dark max-w-none pt-0.5"}),!!e.linkUrl&&c.createElement(c.Fragment,null,e.linkMetadata?c.createElement("div",{className:"max-w-screen-md w-full mt-2"},c.createElement(ic,{linkUrl:e.linkUrl,metadata:e.linkMetadata})):c.createElement("a",{href:e.linkUrl,target:"_blank",rel:"noopener nofollow noreferrer",className:"text-sm text-blue-400 hover:underline cursor-pointer pt-0.5"},e.linkUrl)),(null==(s=e.images)?void 0:s.length)>=1&&c.createElement("div",{className:"max-w-screen-md w-full mt-2"},c.createElement("div",{className:"flex relative"},c.createElement("div",{className:"aspect-h-9 aspect-w-16 relative flex w-full dark:bg-gray-775"},e.images.map(((e,t)=>c.createElement("img",{key:t,alt:"",src:e.url,className:"w-full h-full object-contain select-none "+(t===v?"block":"hidden")})))),e.images.length>1&&c.createElement(c.Fragment,null,v>0&&c.createElement("div",{onClick:()=>h(v-1),className:"absolute left-3 top-1/2 transform -translate-y-1/2 rounded-full shadow flex items-center justify-center w-10 h-10 dark:bg-white"},c.createElement(Ee,{className:"w-5 h-5 dark:text-black"})),v<e.images.length-1&&c.createElement("div",{onClick:()=>h(v+1),className:"absolute right-3 top-1/2 transform -translate-y-1/2 rounded-full shadow flex items-center justify-center w-10 h-10 dark:bg-white"},c.createElement(B,{className:"w-5 h-5 dark:text-black"})))),c.createElement("div",{className:"h-12 dark:bg-gray-750 flex items-center px-5 text-13 select-none"},e.images[v].caption&&c.createElement("div",{className:"text-primary truncate pr-3",title:e.images[v].caption},e.images[v].caption),e.images[v].linkUrl&&c.createElement("a",{href:e.images[v].linkUrl,target:"_blank",rel:"noopener nofollow noreferrer",className:"ml-auto text-blue-400 hover:underline cursor-pointer"},e.images[v].linkUrl)))),c.createElement("div",{className:"flex items-center pt-2 mt-auto"},c.createElement(ys,{data:{type:Yl,user:null==(o=e.author)?void 0:o.user}},c.createElement(_s,{user:e.author},c.createElement(vl,{user:e.author.user,size:5}))),c.createElement(ys,{data:{type:Yl,user:null==(i=e.author)?void 0:i.user}},c.createElement(_s,{user:e.author},c.createElement("div",{className:"ml-2 hover:underline cursor-pointer text-tertiary text-xs font-medium leading-none",style:{color:null==(m=e.author)?void 0:m.color}},e.author.name))),n&&c.createElement("div",{className:"ml-1 flex items-center",onClick:e=>{e.stopPropagation(),e.preventDefault()}},c.createElement(be,{className:"w-4.5 h-4.5 text-mid mr-1"}),c.createElement(x,{to:`/server/${e.server.id}`,className:"flex items-center"},c.createElement(wl,{server:e.server,size:5,className:"dark:bg-gray-750 rounded-full"}),c.createElement("span",{className:"ml-2 text-xs font-medium text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"},e.server.name)),c.createElement("div",{className:"text-xs text-mid font-medium"},"  ·  ",(f=e.createdAt,de(f).twitter()))),c.createElement("div",{className:"ml-auto text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 flex items-center cursor-pointer"},c.createElement(xe,{className:"w-5 h-5"}),c.createElement("div",{className:"ml-2 text-xs font-medium"},e.commentCount)),c.createElement("div",{onClick:e=>{e.preventDefault(),d()},className:(e.isVoted?"text-red-400":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300")+" flex items-center cursor-pointer ml-6"},c.createElement(ye,{className:"w-4 h-4"}),c.createElement("div",{className:"ml-2 text-xs font-medium"},e.voteCount)),c.createElement(ys,{data:{type:Wl,post:e},leftClick:!0},c.createElement("div",{className:"ml-4 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 flex items-center cursor-pointer"},c.createElement(we,{className:"text-disabled w-4 h-4"})))))));var f}));function dc({folderId:e,serverId:t,showServerName:n,header:a}){const r=c.useRef(null),[l,s,o,i]=qs({folderId:e,serverId:t}),m=c.useCallback(((e,t)=>{const a=e[t];return a?c.createElement("div",{className:"px-4 pb-1.5"},c.createElement(mc,{post:a,showServerName:n,index:t})):c.createElement("div",{style:{height:"1px"}})}),[n]);return c.createElement(c.Fragment,null,c.createElement(Ne,{className:"scrollbar-custom dark:bg-gray-750",components:{Header:a?()=>a:null,Footer:()=>i?c.createElement("div",{className:"flex items-center justify-center h-20"},c.createElement(Or,null)):c.createElement("div",{className:"flex items-center justify-center h-20 text-primary"},"No posts :(")},endReached:()=>{!s&&i&&o()},itemContent:e=>m(l,e),overscan:100,ref:r,style:{overflowX:"hidden"},totalCount:(null==l?void 0:l.length)||0}))}const uc=e=>{const t=Rl((e=>e.setHomePage));c.useEffect((()=>t(e)))},pc=ke.create({name:"spoiler",inclusive:!1,defaultOptions:{HTMLAttributes:{"data-spoiler":""}},addAttributes:()=>({"data-spoiler":{default:""}}),parseHTML:()=>[{tag:"span[data-spoiler]"}],renderHTML({HTMLAttributes:e}){return["span",Ce(this.options.HTMLAttributes,e),0]},addCommands:()=>({setSpoiler:e=>({commands:t})=>t.setMark("spoiler",e),toggleSpoiler:e=>({commands:t})=>t.toggleMark("spoiler",e),unsetSpoiler:()=>({commands:e})=>e.unsetMark("spoiler")})});function gc({text:e,setText:t}){var n;const a=$e({extensions:[...Ie({heading:{levels:[2,3]}}),Me,Se,pc],content:e,editorProps:{attributes:{class:"prose prose-sm dark:prose-dark focus:outline-none max-w-none min-h-[7.5rem] p-4"}}}),r=null!=(n=null==a?void 0:a.getHTML())?n:"";return c.useEffect((()=>{t("<p></p>"===r?"":r)}),[a,r,t]),c.createElement("div",{className:"dark:bg-gray-750 rounded"},c.createElement(bc,{editor:a}),c.createElement(Fe,{editor:a}))}const vc=e=>I(`\n  p-1\n  rounded\n  dark:hover:bg-gray-600\n  cursor-pointer\n  ${e?"dark:bg-gray-600 dark:text-gray-300":"text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}\n`);function hc({label:e,icon:t,small:n,onClick:a,active:r}){const l=t;return c.createElement(v,{content:e},c.createElement("div",{className:"h-9 flex items-center",onClick:a},c.createElement("div",{className:vc(r)},c.createElement(l,{className:""+(n?"w-4 h-4 mt-0.5":"w-5 h-5")}))))}const fc=I("\n  flex\n  items-center\n  px-2\n  h-full\n  space-x-0.5\n");function Ec({children:e}){return c.createElement("div",{className:fc},e)}function bc({editor:e}){return e?c.createElement("div",{className:"min-h-[2.25rem] border-b dark:border-gray-700 flex flex-wrap items-center divide-x dark:divide-gray-700"},c.createElement(Ec,null,c.createElement(hc,{label:"Bold (Ctrl+B)",icon:Ue,onClick:()=>e.chain().focus().toggleBold().run(),active:e.isActive("bold")}),c.createElement(hc,{label:"Italic (Ctrl+U)",icon:Pe,onClick:()=>e.chain().focus().toggleItalic().run(),active:e.isActive("italic")}),c.createElement(hc,{label:"Underline (Ctrl+I)",icon:Re,onClick:()=>e.chain().focus().toggleUnderline().run(),active:e.isActive("underline")}),c.createElement(hc,{label:"Strikethrough",icon:Ae,onClick:()=>e.chain().focus().toggleStrike().run(),active:e.isActive("strike")})),c.createElement(Ec,null,c.createElement(hc,{label:"Spoiler",icon:Oe,onClick:()=>e.chain().focus().toggleSpoiler().run(),active:e.isActive("spoiler")}),c.createElement(hc,{label:"Inline Code",icon:Le,onClick:()=>e.chain().focus().toggleCode().run(),active:e.isActive("code")})),c.createElement(Ec,null,c.createElement(hc,{label:"Link",icon:ze,onClick:()=>{const t=window.prompt("URL");e.chain().focus().setLink({href:t}).run()},active:e.isActive("link")}),e.isActive("link")&&c.createElement(hc,{label:"Remove Link",icon:Te,onClick:()=>{e.chain().focus().unsetLink().run()}}),c.createElement(hc,{label:"Divider",icon:De,onClick:()=>e.chain().focus().setHorizontalRule().run()})),c.createElement(Ec,null,c.createElement(hc,{label:"Bulleted List",icon:qe,onClick:()=>e.chain().focus().toggleBulletList().run(),active:e.isActive("bulletList")}),c.createElement(hc,{label:"Numbered List",icon:Be,onClick:()=>e.chain().focus().toggleOrderedList().run(),active:e.isActive("orderedList")})),c.createElement(Ec,null,c.createElement(hc,{label:"Large Heading (Ctrl+[)",icon:je,onClick:()=>e.chain().focus().toggleHeading({level:2}).run(),active:e.isActive("heading",{level:2})}),c.createElement(hc,{label:"Small Heading (Ctrl+])",icon:je,small:!0,onClick:()=>e.chain().focus().toggleHeading({level:3}).run(),active:e.isActive("heading",{level:3})})),c.createElement(Ec,null,c.createElement(hc,{label:"Block Quote",icon:He,onClick:()=>e.chain().focus().toggleBlockquote().run(),active:e.isActive("blockquote")}),c.createElement(hc,{label:"Code Block",icon:Ve,onClick:()=>e.chain().focus().toggleCodeBlock().run(),active:e.isActive("codeBlock")})),c.createElement(Ec,null,c.createElement(hc,{label:"Emoji",icon:_e}))):null}const xc=I("\n  relative\n  w-full\n  h-12\n  flex\n  items-center\n  pl-5\n  pr-10\n  text-left\n  bg-white\n  dark:bg-gray-800\n  dark:hover:bg-gray-775\n  cursor-pointer\n  focus:outline-none\n  text-sm\n  rounded-none\n  rounded-tl-xl\n"),yc=I("\n  scrollbar-dark\n  absolute\n  w-full\n  py-1\n  mt-1\n  overflow-auto\n  text-sm\n  text-primary\n  bg-white\n  dark:bg-gray-775\n  rounded-md\n  shadow-lg\n  max-h-60\n  focus:outline-none\n  space-y-0.5\n");function wc({servers:e=[],server:t,setServer:n}){return c.createElement("div",{className:"col-span-1 z-10"},c.createElement(Ge,{value:t,onChange:n},(({open:n})=>c.createElement(c.Fragment,null,c.createElement("div",{className:"relative"},c.createElement(Ge.Button,{className:xc},t?c.createElement(c.Fragment,null,c.createElement(wl,{server:t,className:"dark:bg-gray-750 rounded-full",size:7}),c.createElement("span",{className:"block truncate pl-2"},t.name)):c.createElement("span",{className:"block truncate text-red-400"},"Select a planet"),c.createElement("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none"},c.createElement(Ye,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"}))),c.createElement(A,{show:n,as:c.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0"},c.createElement(Ge.Options,{static:!0,className:yc},e.map((e=>c.createElement(Ge.Option,{key:e.id,className:({active:e})=>(e=>I(`\n  ${e?"dark:bg-gray-750":""}\n  cursor-pointer\n  select-none\n  relative\n  focus:outline-none\n`))(e),value:e},(({selected:t})=>c.createElement("div",{className:"flex items-center h-10 pl-5 pr-4 "+(t?"dark:bg-gray-750":"")},c.createElement(wl,{server:e,size:7,className:"dark:bg-gray-725 rounded-full"}),c.createElement("span",{className:(t?"font-semibold":"font-normal")+" block truncate pl-2"},e.name)))))))))))))}const Nc=(e,t)=>{const n=c.useRef(e);c.useEffect((()=>{n.current=e}),null!=t?t:[e]);return c.useCallback(((...e)=>{var t;null==(t=n.current)||t.call(n,...e)}),[])};var kc=c.forwardRef((({onChange:e,onInput:t,onBlur:n,onKeyPress:a,onKeyDown:r,onPaste:l,...s},o)=>{const i=Nc(e),m=Nc(t),d=Nc(n),u=Nc(a),p=Nc(r),g=Nc(l);return c.createElement(We,{...s,ref:o,onChange:i,onInput:m,onBlur:d,onKeyPress:u,onKeyDown:p,onPaste:g})}));const Cc=I("\n  block\n  text-11\n  pb-1.5\n  font-semibold\n  tracking-widest\n  uppercase\n  text-tertiary\n"),$c=I("\n  text-base\n  text-primary\n  disabled:opacity-50\n  bg-green-600\n  rounded\n  px-5\n  h-9\n  flex\n  items-center\n  disabled:cursor-not-allowed\n  focus:outline-none\n  select-none\n"),Ic=I("\n  text-base\n  text-tertiary\n  focus:outline-none\n  px-2\n  h-9\n  flex\n  items-center\n  select-none\n"),Mc=e=>I(`\n  px-5\n  h-12\n  border-b-2\n  dark:hover:bg-gray-775\n  ${e?"dark:border-gray-100 text-primary dark:bg-gray-775":"border-transparent text-tertiary"}\n  flex\n  items-center\n  justify-center\n  select-none\n  cursor-pointer\n  text-sm\n  last:rounded-tr-xl\n`),Sc=I("\n  px-4\n  h-10\n  placeholder-tertiary\n  dark:bg-gray-750\n  rounded\n  text-sm\n  text-primary\n  w-full\n  focus:outline-none\n"),Fc="Text",Uc="Link",Pc="Image";function Rc({open:e,setOpen:a}){var r,l,s,o,i,m,d,u,p;const[g,v]=c.useState(""),[h,{loading:f}]=function(e){const t={...Nn,...e};return n(za,t)}(),{t:E}=w(),{push:b}=C(),{serverId:x}=G(),y=ws().filter((e=>e.permissions.includes(Wn.CreatePost))),[N,$]=c.useState(x?null==y?void 0:y.find((e=>e.id===x)):null),[I,M]=c.useState(Fc),{register:S,handleSubmit:F,reset:U,formState:A,watch:O,setValue:L,trigger:z}=k({mode:"onChange"}),T=O("linkUrl"),[D,q]=c.useState("");Qe((()=>{q(T)}),500,[T]);const B=O("title"),{data:j,loading:H}=function(e){const n={...Nn,...e};return t(yr,n)}({variables:{linkUrl:D},skip:!D||!Je(D)}),V=null==j?void 0:j.getLinkMeta,[_,Y]=c.useState([]);function W(e){return new Promise((function(t,n){let a=new FileReader;a.onload=function(){t(a.result)},a.onerror=function(){n(a)},a.readAsDataURL(e)}))}const[Q,J]=c.useState(0),K=()=>{a(!1),setTimeout((()=>{J(0),Y([]),M(Fc),U()}),300)};return c.createElement(Nl,{isOpen:e,close:K},c.createElement("form",{onSubmit:F((({title:e,linkUrl:t})=>{h({variables:{input:{title:e,text:g&&I===Fc?g:null,linkUrl:t&&I===Uc?t:null,serverId:N.id,images:_&&_.length>0&&I===Pc?_.map((({file:e,caption:t,linkUrl:n})=>({file:e,caption:t,linkUrl:n}))):null}}}).then((({data:e})=>{const t=null==e?void 0:e.createPost;t&&(a(!1),U(),b(t.relativeUrl))}))})),className:"max-w-screen-md w-full dark:bg-gray-800 text-left rounded-xl"},c.createElement("div",{className:"grid grid-cols-4"},c.createElement(wc,{servers:y,server:N,setServer:$}),c.createElement("div",{className:Mc(I===Fc),onClick:()=>{M(Fc),L("linkUrl",""),Y([])}},c.createElement(fe,{className:"mr-2 w-5 h-5"}),"Text"),c.createElement("div",{className:Mc(I===Uc),onClick:()=>{M(Uc),v(""),Y([])}},c.createElement(Ke,{className:"mr-2 w-5 h-5"}),"Link"),c.createElement("div",{className:Mc(I===Pc),onClick:()=>{M(Pc),L("linkUrl",""),z("linkUrl"),v("")}},c.createElement(Xe,{className:"mr-2 w-5 h-5"}),"Images")),c.createElement("div",{className:"p-5"},c.createElement("div",{className:"relative"},c.createElement("label",{htmlFor:"title",className:Cc},"Title",(null==B?void 0:B.length)>0&&` (${null==B?void 0:B.length}/300)`),c.createElement("input",{maxLength:300,className:Sc,...S("title",{required:!0}),id:"title"})),I===Fc&&c.createElement("div",{className:"pt-5"},c.createElement(gc,{text:g,setText:v})),I===Uc&&c.createElement(c.Fragment,null,c.createElement("div",{className:"pb-5 pt-1.5"},(null==V?void 0:V.title)&&B!==(null==V?void 0:V.title)&&c.createElement("span",{className:"text-xs text-blue-500 hover:underline cursor-pointer line-clamp-1",onClick:()=>{L("title",null==V?void 0:V.title),z("title")}},null==V?void 0:V.title)),c.createElement("label",{htmlFor:"linkUrl",className:"block text-11 pb-1.5 font-semibold tracking-widest uppercase text-tertiary"},"Link URL"),c.createElement("div",{className:"relative h-10"},c.createElement(Ke,{className:"top-1/2 left-2.5 transform -translate-y-1/2 absolute w-5 h-5 text-mid"}),c.createElement("input",{maxLength:2e3,className:"px-10 h-10 dark:bg-gray-750 rounded text-sm text-primary w-full focus:outline-none",...S("linkUrl",{validate:e=>!e||Je(e)}),id:"linkUrl"}),H&&c.createElement("div",{className:"top-1/2 right-2.5 transform -translate-y-1/2 absolute"},c.createElement(Or,null))),T&&!Je(T)&&c.createElement("div",{className:"text-13 text-red-400 pt-1"},"Must be a valid URL"),D&&Je(D)&&(V||lc(D))&&c.createElement("div",{className:"mt-5"},c.createElement(ic,{linkUrl:D,metadata:V}))),I===Pc&&c.createElement("div",{className:"mt-5"},_&&_.length>0?c.createElement("div",null,c.createElement("div",{className:"flex"},c.createElement("div",{className:"flex scrollbar-custom items-center space-x-3 overflow-x-auto border dark:border-gray-700 rounded-md h-31 px-3 max-w-full w-full"},_.map(((e,t)=>c.createElement("div",{key:t,onClick:()=>J(t),className:"cursor-pointer group relative rounded border "+(Q===t?"dark:border-gray-500":"dark:border-transparent")},c.createElement("div",{className:"max-w-25 max-h-25 min-w-[6.25rem] min-h-[6.25rem] transform "+(Q===t?"scale-85":"")},c.createElement("div",{className:"absolute top-1 right-1 rounded-full bg-black p-0.5 hidden group-hover:block z-10",onClick:()=>{Q>=t&&Q>0&&setImmediate((()=>J(Q-1)));const e=_.slice();e.splice(t,1),Y(e)}},c.createElement(R,{className:"w-4.5 h-4.5 text-white"})),c.createElement("div",{className:"absolute inset-0 bg-black rounded bg-opacity-0 group-hover:bg-opacity-50"}),c.createElement("div",{style:{backgroundImage:`url(${e.data})`},className:"max-w-25 max-h-25 min-w-[6.25rem] min-h-[6.25rem] bg-cover bg-center select-none rounded"}))))),c.createElement("div",{className:"w-25 h-25 rounded relative flex items-center justify-center border dark:border-gray-700 border-dashed cursor-pointer transition dark:hover:bg-gray-775"},c.createElement("input",{type:"file",id:"file",accept:"image/png,image/jpeg,image/webp,image/gif",hidden:!0,multiple:!0,onChange:e=>{const t=e.target.files;if(t&&t.length>0){Y([..._,...Array.from(t).map((e=>({file:e,caption:"",linkUrl:""})))]);let e=[];for(let n=0;n<t.length;n++)e.push(W(t[n]));Promise.all(e).then((e=>{Y([..._,...e.map(((e,n)=>({file:t[n],caption:"",linkUrl:"",data:e})))])}))}}}),c.createElement("label",{htmlFor:"file",className:"absolute inset-0 block cursor-pointer"}),c.createElement(P,{className:"w-1/2 h-1/2 text-tertiary"})))),_&&(null==_?void 0:_.length)>0&&c.createElement("div",{className:"mt-5 flex space-x-5"},c.createElement("div",{className:"w-81 h-81 bg-contain bg-center bg-no-repeat dark:bg-gray-775 flex-shrink-0",style:{backgroundImage:`url(${null==(r=_[Q])?void 0:r.data})`}}),c.createElement("div",{className:"space-y-5 max-w-full flex-grow"},c.createElement("div",null,c.createElement("label",{htmlFor:"caption",className:Cc},"Caption",(null==(s=null==(l=_[Q])?void 0:l.caption)?void 0:s.length)>0&&` (${null==(i=null==(o=_[Q])?void 0:o.caption)?void 0:i.length}/180)`),c.createElement(kc,{id:"caption",className:"px-4 py-2.5 min-h-[2.5rem] dark:bg-gray-750 rounded text-sm text-primary focus:outline-none break-word",html:(null==(m=_[Q])?void 0:m.caption)||"",onChange:e=>{var t,n;if((null==(n=null==(t=_[Q])?void 0:t.caption)?void 0:n.length)>=180)return;const a=_.slice();let r=e.target.value;r.length>180&&(r=r.substring(0,181)),a[Q].caption=r,Y(a)}})),c.createElement("div",null,c.createElement("label",{htmlFor:"link",className:Cc},"Link"),c.createElement("input",{id:"link",className:Sc,value:(null==(d=_[Q])?void 0:d.linkUrl)||"",onChange:e=>{const t=_.slice();t[Q].linkUrl=e.target.value,Y(t)}}),(null==(u=_[Q])?void 0:u.linkUrl)&&!Je(null==(p=_[Q])?void 0:p.linkUrl)&&c.createElement("div",{className:"text-13 text-red-400 pt-1"},"Must be a valid URL"))))):c.createElement("div",{className:"relative"},c.createElement("input",{type:"file",id:"files",accept:"image/png,image/jpeg,image/webp,image/gif",hidden:!0,multiple:!0,onChange:e=>{const t=e.target.files;if(t&&t.length>0){Y(Array.from(t).map((e=>({file:e,caption:"",linkUrl:""}))));let e=[];for(let n=0;n<t.length;n++)e.push(W(t[n]));Promise.all(e).then((e=>Y(e.map(((e,n)=>({file:t[n],caption:"",linkUrl:"",data:e}))))))}}}),c.createElement("label",{htmlFor:"files",className:"select-none cursor-pointer flex items-center justify-center text-base text-tertiary h-30 border border-dashed dark:border-gray-700 rounded-md transition dark:hover:bg-gray-775"},"Drag 'n' drop some images here, or click to select images"))),c.createElement("div",{className:"flex items-center pt-5"},c.createElement("div",{className:"ml-auto flex items-center space-x-3"},c.createElement("button",{type:"button",className:Ic,onClick:()=>K()},E("post.create.cancel")),c.createElement("button",{type:"submit",className:$c,disabled:!A.isValid||!N||f},E("post.create.submit"),f&&c.createElement(Or,{className:"w-5 h-5 text-primary ml-3"})))))))}function Ac(){const{t:e}=w(),[t,n]=c.useState(!1),[a]=el();return c.createElement(c.Fragment,null,c.createElement(Rc,{open:t,setOpen:n}),c.createElement("div",{className:"p-4"},c.createElement("div",{onClick:()=>n(!0),className:"dark:bg-gray-700 h-13 flex items-center rounded transition dark:hover:bg-gray-650 cursor-pointer"},c.createElement("div",{className:"px-3 border-r dark:border-gray-650 h-7"},c.createElement(vl,{user:a,size:7})),c.createElement("div",{className:"text-sm text-secondary px-3"},e("post.createPost")))))}function Oc(){const{t:e}=w(),t=Rl((e=>e.showFolders)),n=c.useRef(null);return uc("feed"),c.useEffect((()=>{"default"===Notification.permission&&Notification.requestPermission().then((function(e){if("granted"===e){new Notification("Notifications enabled!",{silent:!0,icon:"/icons/icon.png"});const e=new Audio("/notification.mp3");e.volume=.5,e.play()}}))})),c.createElement(c.Fragment,null,c.createElement($,null,c.createElement("title",null,e("post.feed.title"))),c.createElement(Jr,{header:c.createElement(Ts,{refreshPosts:()=>{n&&n.current&&n.current.refresh()}}),rightSidebar:c.createElement(Rs,{show:t})},c.createElement(dc,{showServerName:!0,header:c.createElement(Ac,null)})))}function Lc({friend:e,children:t}){const{t:n}=w(),{push:a}=C();return c.createElement("div",{className:"group px-2 dark:hover:bg-gray-725 rounded-lg"},c.createElement("div",{onClick:()=>a(`/me/dm/${e.id}`),className:"relative h-16 py-2 flex items-center cursor-pointer group border-t dark:border-gray-700"},c.createElement("div",{className:"flex"},c.createElement(vl,{user:e,size:9,showOnline:!0,dotClassName:"w-2.5 h-2.5 ring-3 dark:ring-gray-750"}),c.createElement("div",null,c.createElement("div",{className:"text-base text-secondary font-medium ml-3"},e.name,c.createElement("span",{className:"hidden group-hover:inline-block text-13 text-tertiary font-medium"},"#",e.tag)),c.createElement("div",{className:"text-13 text-tertiary font-medium ml-3 leading-5"},e.isOnline?n("user.online"):n("user.offline")))),c.createElement("div",{className:"ml-auto flex items-center space-x-3"},t)))}const zc=I("\n  rounded-full\n  dark:bg-gray-800\n  dark:group-hover:bg-gray-900\n  h-9 w-9\n  flex\n  items-center\n  justify-center\n  text-tertiary\n");function Tc({children:e,label:t,onClick:n}){const{t:a}=w();return c.createElement(v,{content:a(t)},c.createElement("div",{onClick:n,className:zc},e))}function Dc({friend:e}){const{t:t}=w();return c.createElement(Lc,{friend:e},c.createElement(Tc,{label:"friends.sendMessage"},c.createElement(xe,{className:"w-5 h-5"})),c.createElement(v,{content:t("more")},c.createElement("button",{onClick:e=>{e.stopPropagation(),e.preventDefault()},className:zc},c.createElement(we,{className:"w-5 h-5"}))))}function qc({pendingCount:e=0}){return c.createElement(Os,{icon:c.createElement(Z,{className:"h-5 w-5"}),title:"Friends",showDivider:!0},c.createElement("div",{className:"flex items-center space-x-4"},c.createElement(Bc,{page:"Online"}),c.createElement(Bc,{page:"All"}),c.createElement(Bc,{page:"Pending",pendingCount:e}),c.createElement(Bc,{page:"Blocked"}),c.createElement(Bc,{page:"Add Friend",green:!0})))}function Bc({page:e,green:t=!1,pendingCount:n=0}){const[a,r]=Rl((e=>[e.friendsPage,e.setFriendsPage]));return c.createElement(Ls,{page:e,green:t,currentPage:a,setCurrentPage:r},e,!!n&&c.createElement("div",{className:"ml-2"},c.createElement(Ms,{count:n})))}function jc({user:e}){return c.createElement(Lc,{friend:e},e.relationshipStatus===Vn.FriendRequestOutgoing?c.createElement(Tc,{label:"friends.revokeRequest"},c.createElement(R,{className:"w-5 h-5"})):c.createElement(c.Fragment,null,c.createElement(Tc,{label:"friends.acceptRequest"},c.createElement(z,{className:"w-5 h-5"})),c.createElement(Tc,{label:"friends.rejectRequest"},c.createElement(R,{className:"w-5 h-5"}))))}function Hc({children:e}){return c.createElement("div",{className:"max-h-full h-full dark:bg-gray-750 px-6 py-4 scrollbar-custom"},e)}const Vc=I("\n  px-2\n  pb-2\n  text-11\n  text-tertiary\n  uppercase\n  tracking-wide\n  font-semibold\n  select-none\n");function _c(){const{friends:e,outgoingFriendRequests:t,incomingFriendRequests:n,blocking:a}=(()=>{var e,t,n,a,r;const[l]=el();return{friends:null!=(e=null==l?void 0:l.relatedUsers.filter((e=>e.relationshipStatus===Vn.Friends)))?e:[],blocking:null!=(t=null==l?void 0:l.relatedUsers.filter((e=>e.relationshipStatus===Vn.Blocking)))?t:[],blockedBy:null!=(n=null==l?void 0:l.relatedUsers.filter((e=>e.relationshipStatus===Vn.Blocked)))?n:[],outgoingFriendRequests:null!=(a=null==l?void 0:l.relatedUsers.filter((e=>e.relationshipStatus===Vn.FriendRequestOutgoing)))?a:[],incomingFriendRequests:null!=(r=null==l?void 0:l.relatedUsers.filter((e=>e.relationshipStatus===Vn.FriendRequestIncoming)))?r:[]}})(),r=e.filter((e=>e.isOnline)),l=t.concat(n),s=Rl((e=>e.friendsPage)),[o,i]=c.useState("");return uc("friends"),c.createElement(Jr,{header:c.createElement(qc,{pendingCount:n.length})},c.createElement(Hc,null,"Online"===s&&c.createElement(c.Fragment,null,c.createElement("div",{className:Vc},"Online - ",r.length),r.map((e=>c.createElement(Dc,{friend:e,key:e.id})))),"All"===s&&c.createElement(c.Fragment,null,c.createElement("div",{className:Vc},"All Friends - ",e.length),e.map((e=>c.createElement(Dc,{friend:e,key:e.id})))),"Pending"===s&&c.createElement(c.Fragment,null,c.createElement("div",{className:Vc},"Pending Requests - ",l.length),l.map((e=>c.createElement(jc,{user:e,key:`${e.relationshipStatus===Vn.FriendRequestOutgoing?"outgoing":"incoming"}-${e.id}`})))),"Blocked"===s&&c.createElement(c.Fragment,null,c.createElement("div",{className:Vc},"Blocked Users - ",a.length)),"Add Friend"===s&&c.createElement("div",null,c.createElement("div",{className:"font-bold uppercase text-base text-primary"},"Add Friend"),c.createElement("div",{className:"text-secondary text-sm mt-3 mb-4"},"You can add a friend with their Comet Tag. It's cAsE sEnSitIvE!"),c.createElement("div",{className:"relative"},c.createElement("input",{value:o,onChange:e=>i(e.target.value),placeholder:"Enter a Username#0000",className:"w-full h-14 rounded-xl px-4 dark:bg-gray-775 border dark:border-gray-850 placeholder-gray-400 dark:placeholder-gray-600 block focus:outline-none text-base text-secondary"}),c.createElement("button",{className:"absolute right-4 text-13 text-primary font-medium bg-blue-500 rounded h-8 px-4 top-1/2 transform -translate-y-1/2 disabled:opacity-50",disabled:!o},"Send Friend Request")))))}function Gc(){return c.createElement(Os,{icon:c.createElement(ee,{className:"h-5 w-5"}),title:"Inbox",showDivider:!0},c.createElement("div",{className:"flex items-center space-x-4"},c.createElement(Yc,{page:"Unread"}),c.createElement(Yc,{page:"All"})))}function Yc({page:e}){const[t,n]=Rl((e=>[e.inboxPage,e.setInboxPage]));return c.createElement(Ls,{page:e,currentPage:t,setCurrentPage:n})}const Wc="px-2 pb-2 text-11 text-tertiary uppercase tracking-widest font-semibold";function Qc(){const e=Rl((e=>e.inboxPage));return uc("inbox"),c.createElement(Jr,{header:c.createElement(Gc,null)},c.createElement(Hc,null,"Unread"===e&&c.createElement(c.Fragment,null,c.createElement("div",{className:Wc},"Unread - ",0)),"All"===e&&c.createElement(c.Fragment,null,c.createElement("div",{className:Wc},"All - ",0))))}function Jc({folder:e}){const{t:t}=w(),n=c.useMemo((()=>!e||e.avatarUrl?null:"Favorites"===e.name?c.createElement(ae,{className:"w-1/2 h-1/2 text-yellow-500"}):"Read Later"===e.name?c.createElement(re,{className:"w-1/2 h-1/2 text-blue-500"}):c.createElement(le,{className:"w-1/2 h-1/2 text-gray-500"})),[e,t]),a="Favorites"!==(null==e?void 0:e.name)&&"Read Later"!==(null==e?void 0:e.name),[r]=ya(),[l,s]=c.useState(null);return c.useEffect((()=>{if(!l)return null;r({variables:{input:{avatarFile:l,folderId:e.id}}})}),[l,r]),e?c.createElement("div",{className:"p-4"},c.createElement(ys,{data:{type:Xl,folder:e}},c.createElement("div",{className:"dark:bg-gray-800 p-4 flex rounded"},c.createElement("div",{className:"w-32 h-32 dark:bg-gray-750 flex items-center justify-center group relative bg-center bg-contain",style:e.avatarUrl?{backgroundImage:`url(${e.avatarUrl})`}:{}},n,a&&c.createElement(c.Fragment,null,c.createElement("input",{hidden:!0,name:"avatarFile",id:"avatarFile",type:"file",accept:"image/png,image/jpeg,image/webp,image/gif",onChange:e=>s(e.target.files[0])}),c.createElement("label",{htmlFor:"avatarFile",className:"absolute inset-0 items-center justify-center hidden bg-black bg-opacity-50 hidden group-hover:flex cursor-pointer"},c.createElement(D,{className:"w-1/2 h-1/2 text-primary"})))),c.createElement("div",{className:"ml-6 flex flex-col py-0.5"},c.createElement("div",{className:"text-tertiary text-13 pb-1"},e.owner?t("folder.userFolder"):t("folder.serverFolder"),e.isCollaborative&&c.createElement(c.Fragment,null," · ",t("folder.collaborative"))),c.createElement("div",{className:"text-4xl font-bold text-primary"},e.name),e.description&&c.createElement("div",{className:"text-tertiary text-sm pt-2"},e.description),c.createElement("div",{className:"text-tertiary text-13 pt-3 mt-auto flex items-center"},e.owner?c.createElement(c.Fragment,null,t("folder.createdBy")," ",c.createElement(ys,{data:{type:Yl,user:e.owner}},c.createElement("div",{className:"flex items-center"},c.createElement(_s,{user:e.owner},c.createElement(vl,{user:e.owner,size:5})),c.createElement(_s,{user:e.owner},c.createElement("span",{className:"ml-1.5 text-primary cursor-pointer hover:underline font-medium"},e.owner.name))))):c.createElement("div",{className:"flex items-center"},c.createElement(Vs,{server:e.server},c.createElement(wl,{size:5,server:e.server})),c.createElement(Vs,{server:e.server},c.createElement("span",{className:"ml-1.5 text-primary cursor-pointer hover:underline font-medium"},e.server.name)))," ·"," ",t("folder.postCount",{count:e.postCount}),c.createElement(ys,{leftClick:!0,data:{type:Xl,folder:e}},c.createElement(Ze,{className:"highlightable w-5 h-5 ml-2.5"}))))))):null}function Kc({folder:e}){return c.createElement(Os,{showDivider:!0,title:null==e?void 0:e.name,icon:c.createElement(le,{className:"w-5 h-5"})},c.createElement("div",{className:"flex items-center space-x-4"},c.createElement(Xc,{page:"Added"},"Recently Added"),c.createElement(Xc,{page:"Top"},"Top"),c.createElement(Xc,{page:"New"},"New")),c.createElement("div",{className:"ml-auto"},c.createElement(zs,null)))}function Xc({page:e,children:t}){const[n,a]=Rl((e=>[e.folderSort,e.setFolderSort]));return c.createElement(Ls,{page:e,currentPage:n,setCurrentPage:a},t)}function Zc(){const{folderId:e}=G(),t=Rl((e=>e.showFolders)),{data:n}=xr({variables:{id:e}}),a=null==n?void 0:n.folder;return uc(`folder/${e}`),c.createElement(Jr,{rightSidebar:c.createElement(Rs,{show:t}),header:c.createElement(Kc,{folder:a})},c.createElement(dc,{showServerName:!0,folderId:e,header:c.createElement(Jc,{folder:a})}))}function eo({user:e,color:t,nickname:n,roles:a=[]}){return c.createElement(ys,{data:{type:Yl,user:e}},c.createElement(_s,{user:e,nickname:n,roles:a,placement:"left"},c.createElement(El,{small:!0},c.createElement(vl,{user:e,size:6,showOnline:!0,dotClassName:"w-2 h-2 ring-2 dark:ring-gray-800"}),c.createElement("div",{className:"ml-3 font-medium text-tertiary"},n||e.name))))}var to=c.forwardRef((({users:e},t)=>{const n=Rl((e=>e.showUsers));return c.createElement(Cs,{right:!0,ref:t,show:n},c.createElement("div",{className:"px-1.5"},c.createElement(xl,null,"IN THIS GROUP"),e.map((e=>c.createElement(eo,{key:e.id,user:e})))))}));const no=["application/vnd.rar","application/x-tar","application/zip","application/x-7z-compressed","application/java-archive","application/x-bzip","application/x-bzip2","application/gzip","application/x-freearc"],ao=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/x-abiword","application/rtf","application/vnd.oasis.opendocument.text"],ro=["application/xhtml+xml","application/xml","text/xml","application/json","application/ld+json","text/css","application/x-csh","text/html","text/javascript","application/x-httpd-php","application/x-sh","application/vnd.mozilla.xul+xml"],lo=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.oasis.opendocument.spreadsheet"],so=["application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.oasis.opendocument.presentation"],co=e=>c.useMemo((()=>e?e.startsWith("audio")?et:e.startsWith("image")?tt:e.startsWith("video")?nt:"text/csv"===e?at:"application/pdf"===e?rt:ao.includes(e)?lt:lo.includes(e)?st:so.includes(e)?ct:no.includes(e)?ot:ro.includes(e)?it:mt:null),[e]);function oo({message:e}){const[t,n]=c.useState(!1);return e.image?c.createElement("div",{className:"pt-1"},c.createElement("img",{onClick:()=>n(!0),src:e.image.smallUrl,alt:"",className:"rounded cursor-pointer",width:e.image.smallWidth,height:e.image.smallHeight}),c.createElement(Nl,{closeOnOverlayClick:!0,close:()=>n(!1),isOpen:t},c.createElement("div",{className:"mx-auto"},c.createElement("div",{className:"text-left"},c.createElement("img",{onClick:e=>e.stopPropagation(),src:e.image.popupUrl,alt:"",width:e.image.popupWidth,height:e.image.popupHeight}),c.createElement("div",{className:"pt-1"},c.createElement("a",{href:e.image.originalUrl,className:"hover:underline cursor-pointer text-mid font-semibold text-13 focus:outline-none",target:"_blank",rel:"noreferrer noopener",onClick:e=>e.stopPropagation()},"Open original")))))):null}var io=c.memo((function({index:e,message:t,prevMessage:n}){var a,r,l,s,o,i,m,d;const[u]=el(),p=t.isEveryoneMentioned||t.mentionedUsers.map((e=>e.id)).includes(u.id),g=co(null==(a=null==t?void 0:t.file)?void 0:a.mime),v=c.useCallback((e=>{var t,n;const a=null==(n=null==(t=e.target)?void 0:t.dataset)?void 0:n.mention;a&&a.substring(2,a.length-1)}),[t]),h=0===e||n&&(!n.text||n.author.id!==t.author.id);return"Join"===t.type?c.createElement(ys,{className:(null==n?void 0:n.text)?"pt-4":"",data:{type:Jl,message:t}},c.createElement("div",{className:"flex dark:hover:bg-gray-775 py-1 px-4"},c.createElement("div",{className:"w-10 flex justify-center"},c.createElement(dt,{className:"w-5 h-5 text-green-500"})),c.createElement("div",{className:"pl-4 text-base text-tertiary"},c.createElement(ys,{className:"inline-block",data:{type:Yl,user:t.author}},c.createElement(_s,{user:t.author,roles:null==(r=t.serverUser)?void 0:r.roles,nickname:null==(l=t.serverUser)?void 0:l.nickname},c.createElement("span",{className:"text-white cursor-pointer hover:underline"},t.author.name)))," ","has joined the ",t.serverUser?"planet":"group",c.createElement("span",{className:"pl-2 text-11 whitespace-nowrap text-mid cursor-default leading-5 select-none"},Ys(t.createdAt))))):c.createElement("div",{className:""+(h?"pt-4":"")},c.createElement(ys,{data:{type:Jl,message:t}},c.createElement("div",{className:"flex py-1 px-4 dark:hover:bg-gray-775 group relative"},p&&c.createElement("div",{className:"bg-gray-500 group-hover:bg-opacity-30 bg-opacity-10 absolute inset-0 pointer-events-none border-l-2 border-gray-500"}),h?c.createElement(ys,{data:{type:Yl,user:t.author}},c.createElement(_s,{user:t.author,roles:null==(s=t.serverUser)?void 0:s.roles,nickname:null==(o=t.serverUser)?void 0:o.nickname},c.createElement(vl,{user:t.author,size:10,className:"dark:bg-gray-700 cursor-pointer"}))):c.createElement("div",{className:"w-10 text-11 whitespace-nowrap text-mid group-hover:opacity-100 opacity-0 cursor-default select-none leading-6.5"},Ys(t.createdAt)),c.createElement("div",{className:"pl-4 w-full"},h&&c.createElement("div",{className:"flex items-end pb-0.5"},c.createElement(ys,{data:{type:Yl,user:t.author}},c.createElement(_s,{user:t.author,roles:null==(i=t.serverUser)?void 0:i.roles,nickname:null==(m=t.serverUser)?void 0:m.nickname},c.createElement("div",{className:"text-base font-medium cursor-pointer hover:underline leading-none"},t.author.name))),c.createElement("div",{className:"text-11 text-mid pl-2 leading-none cursor-default select-none"},Gs(t.createdAt))),!!t.text&&c.createElement("div",{onClick:v,className:"prose prose-sm dark:prose-dark focus:outline-none max-w-none",dangerouslySetInnerHTML:{__html:t.text}}),!!(null==(d=t.linkMetadatas)?void 0:d.length)&&c.createElement(c.Fragment,null,t.linkMetadatas.map(((e,t)=>c.createElement("div",{key:t,className:"py-1.5 max-w-screen-sm w-full"},c.createElement(ic,{dark:!0,metadata:e,linkUrl:e.url}))))),c.createElement(oo,{message:t}),!!t.file&&c.createElement("div",{className:"pt-1 max-w-screen-sm w-full"},c.createElement("div",{className:"flex border dark:border-gray-850 dark:bg-gray-800 p-3 rounded w-full items-center"},c.createElement(g,{className:"w-8 h-8 dark:text-white"}),c.createElement("div",{className:"pl-3"},c.createElement("a",{href:t.file.url,target:"_blank",rel:"noreferrer noopener",className:"block text-base text-accent hover:underline cursor-pointer truncate"},t.file.filename),c.createElement("div",{className:"text-mid text-xs"},function(e,t=2){if(0===e)return"0 Bytes";const n=t<0?0:t,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]}(t.file.size))),c.createElement("a",{className:"block ml-auto",href:t.file.url,target:"_blank",rel:"noreferrer noopener"},c.createElement(ut,{className:"h-6 w-6 highlightable"}))))))))}));const mo=({channelId:e,groupId:n,userId:a})=>{var r;const l={channelId:e,groupId:n,userId:a},{data:s,fetchMore:c,loading:o}=function(e){const n={...Nn,...e};return t(wr,n)}({variables:{...l,cursor:null},fetchPolicy:"network-only",nextFetchPolicy:"cache-first"}),i=null==s?void 0:s.messages.hasMore,m=null!=(r=null==s?void 0:s.messages.messages)?r:[];return[m,o,()=>{i&&0!==m.length&&c({variables:{...l,cursor:m[0].id},updateQuery:(e,{fetchMoreResult:t})=>({messages:{hasMore:t.messages.hasMore,messages:[...t.messages.messages,...e.messages.messages]}})})},i]},uo=e=>I(`\n  ${e?"scale-100":"scale-0"}\n  transform\n  transition\n  bg-gradient-to-br\n  from-red-400\n  to-indigo-600\n  rounded-xl\n  p-3\n  max-w-sm\n  w-full\n  relative\n`);function po({placeholder:e,setFiles:t}){const[n,a]=(()=>{const[e,t]=c.useState(null),[n,a]=c.useState(!1),r=c.useRef(0),l=c.useCallback((e=>{e.preventDefault(),e.stopPropagation()}),[]),s=c.useCallback((e=>{e.preventDefault(),e.stopPropagation(),r.current++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&a(!0)}),[]),o=c.useCallback((e=>{e.preventDefault(),e.stopPropagation(),r.current--,r.current>0||a(!1)}),[]),i=c.useCallback((e=>{e.preventDefault(),e.stopPropagation(),a(!1),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(r.current=0,t(e.dataTransfer.files),e.dataTransfer.clearData())}),[]);return c.useEffect((()=>(window.addEventListener("dragenter",s),window.addEventListener("dragleave",o),window.addEventListener("dragover",l),window.addEventListener("drop",i),function(){window.removeEventListener("dragenter",s),window.removeEventListener("dragleave",o),window.removeEventListener("dragover",l),window.removeEventListener("drop",i)}))),[e,n]})();return c.useEffect((()=>t(n)),[n,t]),c.createElement(c.Fragment,null,c.createElement("div",{className:(r=a,I(`\n  fixed\n  inset-0\n  transition-all\n  bg-black\n  ${r?"visible bg-opacity-75":"invisible bg-opacity-0"}\n  flex\n  items-center\n  justify-center\n`)),style:{zIndex:999999}},c.createElement("div",{className:uo(a)},c.createElement("div",{className:"flex absolute left-1/2 transform top-0 -translate-x-1/2 -translate-y-1/2 transition delay-75 "+(a?"scale-100":"scale-0")},c.createElement("div",{className:"relative transform translate-x-6 translate-y-3 -rotate-12"},c.createElement("div",{className:"absolute left-5 top-9 w-14 h-14 bg-red-400",style:{zIndex:-1}}),c.createElement(it,{className:"w-24 h-24"})),c.createElement("div",{className:"relative"},c.createElement("div",{className:"absolute left-5 top-9 w-14 h-14 bg-red-400",style:{zIndex:-1}}),c.createElement(nt,{className:"w-24 h-24 "})),c.createElement("div",{className:"relative transform -translate-x-6 translate-y-3 rotate-12"},c.createElement("div",{className:"absolute left-5 top-8 w-14 h-14 bg-red-400",style:{zIndex:-1}}),c.createElement(tt,{className:"w-24 h-24"}))),c.createElement("div",{className:"rounded-xl border-dashed border-white border-2 px-4 pb-4 pt-16 text-center"},c.createElement("div",{className:"text-xl font-bold text-primary"},"Upload to ",c.createElement("span",{className:"text-white"},e))))));var r}const go=I("\n  text-sm\n  text-primary\n  h-10\n  px-7\n  hover:underline\n  focus:outline-none\n  select-none\n  disabled:opacity-50\n  disabled:no-underline\n  disabled:cursor-not-allowed\n"),vo=I("\n  text-sm\n  text-primary\n  transition\n  bg-blue-500\n  hover:bg-blue-600\n  flex\n  items-center\n  justify-center\n  rounded\n  px-7\n  h-10\n  focus:outline-none\n  select-none\n  disabled:opacity-50\n  disabled:cursor-not-allowed\n");function ho({createMessage:e,variables:t,file:n,setFileIndex:a,placeholder:r,multiple:l,cancelAll:s}){var o;const[i,m]=c.useState(""),d=(e=>{const[t,n]=c.useState(null);return c.useEffect((()=>{e&&(e.type.startsWith("image")?kl(e).then((e=>n(e))).catch((()=>n(null))):n(null))}),[e]),t})(n),[u,p]=c.useState(!1),g=c.useCallback((()=>{u||a((e=>e+1))}),[a,u]),v=c.useCallback((()=>{p(!0),e({variables:{input:{text:i||null,file:n,...t}}}).then((()=>{p(!1),g()}))}),[g,i,n,t,e]);c.useEffect((()=>m("")),[n]);const h=c.useCallback((e=>{"Enter"===e.key&&n&&v()}),[v,n]);c.useEffect((()=>(document.body.addEventListener("keydown",h),()=>{document.body.removeEventListener("keydown",h)})),[h]);const f=co(null==n?void 0:n.type);return c.createElement(Nl,{close:g,isOpen:!!n},c.createElement("div",{className:"text-left relative w-full rounded-xl dark:bg-gray-750 max-w-lg mx-auto"},c.createElement("div",{className:"absolute left-5 -top-20 flex w-46 h-40"},d&&c.createElement("img",{alt:"",src:d,className:"absolute max-w-full max-h-full bottom-0 left-0 rounded shadow-md object-cover"}),!d&&f&&c.createElement(f,{className:"h-full w-full text-white absolute bottom-0 left-0 transform -translate-x-8"})),c.createElement("div",{className:"px-5 pt-24 pb-5"},c.createElement(Sl,{className:"truncate text-left text-xl text-primary font-semibold select-none"},null!=(o=null==n?void 0:n.name)?o:""),c.createElement("div",{className:"text-tertiary text-13 pb-5 pt-0.5 select-none"},"Upload to"," ",c.createElement("span",{className:"font-medium text-secondary"},r)),c.createElement("label",{htmlFor:"comment",className:"block uppercase text-xs font-medium text-secondary pb-1.5"},"Add a Comment ",c.createElement("span",{className:"text-tertiary"},"(Optional)")),c.createElement("input",{className:"h-10 rounded-lg dark:bg-gray-700 w-full focus:outline-none px-4 text-secondary text-base",id:"comment",value:i,onChange:e=>{const t=e.target.value;m(t)}})),c.createElement("div",{className:"flex p-4 dark:bg-gray-775 rounded-b-xl"},c.createElement("div",{className:"ml-auto"}),l&&c.createElement("button",{className:go,onClick:()=>{s()},disabled:u},"Cancel All"),c.createElement("button",{className:go,onClick:g,disabled:u},"Cancel"),c.createElement("button",{className:vo,disabled:!n||u,onClick:v},"Upload",u&&c.createElement("div",{className:"ml-3"},c.createElement(Or,null))))))}const fo=({channel:e,group:t,user:r,serverUsers:l})=>{const{t:s}=w(),[o]=el(),[i,m]=c.useState(new Set),[d]=function(e){const t={...Nn,...e};return n(La,t)}(),u={userId:null==r?void 0:r.id,groupId:null==t?void 0:t.id,channelId:null==e?void 0:e.id};!function(e){const t={...Nn,...e};a(Fr,t)}({variables:u,skip:!e&&!t&&!r,onSubscriptionData({subscriptionData:{data:{typingUpdated:{typingUserId:e,isTyping:t}}}}){t?(m((t=>new Set(t.add(e)))),setTimeout((()=>m((t=>new Set([...t].filter((t=>t!==e)))))),3e3)):m((t=>new Set([...t].filter((t=>t!==e)))))}});return[()=>d({variables:{input:u}}),c.useMemo((()=>{const e=[...i].filter((e=>e!==o.id)).map((e=>{var t;return null==(t=l.find((t=>t.user.id===e)))?void 0:t.name})).filter((e=>!!e)).map((e=>`<span style="font-weight: 600" class="text-primary">\n          &nbsp;${e}&nbsp;\n        </span>`));return 0===e.length?null:1===e.length?s("message.typing.one",{name:e[0]}):2===e.length?s("message.typing.two",{name1:e[0],name2:e[1]}):3===e.length?s("message.typing.three",{name1:e[0],name2:e[1],name3:e[2]}):s("message.typing.several")}),[i,o,s])]},Eo=pt.create({name:"mention",defaultOptions:{HTMLAttributes:{},suggestion:{char:"@",command:({editor:e,range:t,props:n})=>{e.chain().focus().replaceRange(t,"mention",n).insertContent(" ").run()},allow:({editor:e,range:t})=>e.can().replaceRange(t,"mention")}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes:()=>({id:{default:null,parseHTML:e=>({id:e.getAttribute("data-mention")}),renderHTML:e=>e.id?{"data-mention":e.id}:{}},name:{default:null,parseHTML:e=>({name:e.getAttribute("data-mention")}),renderHTML:()=>({})}}),parseHTML:()=>[{tag:"span[data-mention]"}],renderHTML({node:e,HTMLAttributes:t}){return["span",Ce(this.options.HTMLAttributes,t),`@${e.attrs.name}`]},renderText:({node:e})=>`@${e.attrs.name}`,addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command((({tr:e,state:t})=>{let n=!1;const{selection:a}=t,{empty:r,anchor:l}=a;return!!r&&(t.doc.nodesBetween(l-1,l,((t,a)=>{if("mention"===t.type.name)return n=!0,e.insertText(this.options.suggestion.char||"",a,a+t.nodeSize),!1})),n)}))}},addProseMirrorPlugins(){return[gt({editor:this.editor,...this.options.suggestion})]}});class bo extends c.Component{constructor(e){super(e),this.state={selectedIndex:0}}componentDidUpdate(e){this.props.serverUsers!==e.serverUsers&&this.setState({selectedIndex:0})}onKeyDown({event:e}){return"ArrowUp"===e.key?(this.upHandler(),!0):"ArrowDown"===e.key?(this.downHandler(),!0):"Enter"===e.key&&(e.stopPropagation(),this.enterHandler(),!0)}upHandler(){this.setState({selectedIndex:(this.state.selectedIndex+this.props.serverUsers.length-1)%this.props.serverUsers.length})}downHandler(){this.setState({selectedIndex:(this.state.selectedIndex+1)%this.props.serverUsers.length})}enterHandler(){this.selectItem(this.state.selectedIndex)}selectItem(e){const t=this.props.serverUsers[e];t&&this.props.command("string"==typeof t?{id:`<${t}>`,name:t.substring(1)}:{id:`<@${t.user.id}>`,name:t.name})}render(){return c.createElement("div",{className:"relative w-full w-72 rounded dark:bg-gray-800 text-primary overflow-hidden text-sm shadow-md"},this.props.serverUsers.filter((e=>("string"==typeof e?e.substring(1):e.name).toLowerCase().startsWith(this.props.query.toLowerCase()))).slice(0,5).map(((e,t)=>c.createElement("button",{className:"block w-full text-left bg-transparent border-none px-2 py-2 dark:hover:bg-gray-775 focus:outline-none "+(t===this.state.selectedIndex?"dark:bg-gray-775":""),key:"string"==typeof e?e:e.user.id,onClick:()=>this.selectItem(t)},"string"==typeof e?e:e.name))))}}const xo=["doc","text","dropCursor","gapcursor","paragraph","history","code","codeBlock","hardBreak"];function yo({channel:e,group:t,user:n,users:a,serverUsers:r}){const{t:l}=w(),s=(({channel:e,group:t,user:n})=>c.useMemo((()=>e?`#${e.name}`:t?`${t.name}`:n?`@${n.name}`:""),[e,t,n]))({channel:e,group:t,user:n}),o=c.useMemo((()=>r||a.map((e=>({user:e,name:e.name})))),[r,a]),i=$e({autofocus:!0,extensions:[...Ie().filter((e=>xo.includes(e.config.name))),Me,vt.configure({placeholder:`${l("message.message")} ${s}`}),ht.create({addKeyboardShortcuts:()=>({Enter:({editor:e})=>{let t=e.getHTML();if(!(0===e.state.doc.textContent.length)){const n=/^<p>|<\/p>$/gi,a=/^\s*(?:<br\s*\/?\s*>)+|(?:<br\s*\/?\s*>)+\s*$/gi;t=t.replace(n,""),t=t.replace(a,""),b({variables:{input:{text:t,...x}}}),e.commands.clearContent()}return!0}})}),Eo.configure({suggestion:{allowSpaces:!0,render:()=>{let e,t;return{onStart:n=>{e=new ft(bo,{props:{...n,serverUsers:["@everyone"].concat(o)},editor:n.editor}),t=Et("body",{getReferenceClientRect:n.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start",render(e){const t=document.createElement("div"),n=document.createElement("div");return t.appendChild(n),n.innerHTML="",n.appendChild(e.props.content),{popper:t,onUpdate:function(e,t){e.content!==t.content&&(n.innerHTML="",n.appendChild(t.content))}}}})},onUpdate(n){e.updateProps(n),t[0].setProps({getReferenceClientRect:n.clientRect})},onKeyDown(t){var n;return null==(n=e.ref)?void 0:n.onKeyDown(t)},onExit(){t[0].destroy(),e.destroy()}}}}})],content:"",editorProps:{attributes:{class:"prose prose-sm dark:prose-dark focus:outline-none max-w-none"}}}),[m,d]=fo({channel:e,group:t,user:n,serverUsers:o}),[u,p]=c.useState(null),[g,h]=c.useState(null),[f,E]=c.useState(0),[b]=Fa({update(a,{data:{createMessage:r}}){const l=null==e?void 0:e.id,s=null==t?void 0:t.id,c=null==n?void 0:n.id,o={query:wr,variables:{userId:c,groupId:s,channelId:l,cursor:null}},i=a.readQuery(o);i&&!i.messages.messages.map((e=>e.id)).includes(r.id)&&a.writeQuery({...o,data:{messages:{...i.messages,messages:[...i.messages.messages,r]}}})}}),x={channelId:null==e?void 0:e.id,groupId:null==t?void 0:t.id,userId:null==n?void 0:n.id},y=c.useCallback((e=>{const t=e.clipboardData.files;if(t&&t.length>0)p(t),e.preventDefault();else{e.clipboardData.getData("text")&&(null==i||i.commands.focus())}}),[i]);c.useEffect((()=>(document.body.addEventListener("paste",y),()=>{document.body.removeEventListener("paste",y)})),[y]),c.useEffect((()=>{u&&(h(u[0]),E(0))}),[u]),c.useEffect((()=>{if(!u)return;let e;return f>=u.length?(p(null),h(null),E(0)):(h(null),e=setTimeout((()=>h(u[f])),300)),()=>{e&&clearTimeout(e)}}),[f]);const N=c.useCallback((()=>{p(null),h(null),E(0)}),[p,h,E]);return c.useEffect((()=>{setTimeout((()=>{var e;return null==(e=null==i?void 0:i.commands)?void 0:e.clearContent()}))}),[n,t,e]),c.createElement(c.Fragment,null,c.createElement(po,{placeholder:s,setFiles:p}),c.createElement(ho,{createMessage:b,variables:x,file:g,setFileIndex:E,placeholder:s,multiple:u&&u.length>1,cancelAll:N}),c.createElement("div",{className:"px-4 dark:bg-gray-750 relative",onKeyPress:()=>m()},c.createElement("div",{className:"relative"},c.createElement(v,{content:l("message.upload")},c.createElement("div",{className:"block absolute left-4.5 top-1/2 transform -translate-y-1/2"},c.createElement("input",{className:"hidden",id:"file",name:"file",type:"file",onChange:e=>p(e.target.files),multiple:!0}),c.createElement("label",{htmlFor:"file",className:"text-tertiary highlightable"},c.createElement(bt,{className:"w-5 h-5"})))),c.createElement("div",{className:"px-14 min-h-[3rem] max-h-[20rem] overflow-y-auto scrollbar-light py-3 w-full dark:bg-gray-700 rounded-lg text-base focus:outline-none text-secondary border-none"},c.createElement(Fe,{editor:i}))),c.createElement("div",{className:"h-6 flex items-center text-secondary text-xs",dangerouslySetInnerHTML:{__html:d}})))}function wo({user:e,channel:t,group:n,show:a=!1}){return c.createElement("div",{className:"px-4 flex items-end messages-start "+(a?"opacity-100":"opacity-0")},c.createElement("div",null,!!e&&c.createElement(c.Fragment,null,c.createElement(vl,{user:e,size:20}),c.createElement("div",{className:"text-3xl font-bold pt-4 text-primary"},e.name),c.createElement("div",{className:"pt-2 text-tertiary select-none text-base"},"This is the beginning of your direct message history with"," ",c.createElement("span",{className:"font-semibold"},"@",e.name))),!!t&&c.createElement(c.Fragment,null,c.createElement("div",{className:"rounded-full flex items-center justify-center w-20 h-20 dark:bg-gray-700"},c.createElement(Lr,{className:"w-2/3 h-2/3 text-primary"})),c.createElement("div",{className:"text-3xl font-bold pt-4 text-primary"},"Welcome to #",t.name,"!"),c.createElement("div",{className:"pt-2 text-tertiary select-none text-base"},"This is the start of the #",t.name," channel.")),!!n&&c.createElement(c.Fragment,null,c.createElement("div",{className:"rounded-full flex items-center justify-center w-20 h-20 dark:bg-gray-700"},c.createElement(xt,{className:"w-2/3 h-2/3 text-primary"})),c.createElement("div",{className:"text-3xl font-bold pt-4 text-primary"},n.name),c.createElement("div",{className:"pt-2 text-tertiary select-none text-base"},"Welcome to the beginning of the"," ",c.createElement("span",{className:"font-semibold"},n.displayName)," group."))))}function No({channel:e,user:t,group:a,users:r,serverUsers:l}){const[s]=Xa(),[o]=function(e){const t={...Nn,...e};return n(Ma,t)}(),[i]=function(e){const t={...Nn,...e};return n(ua,t)}(),m=c.useRef(null),[d,u,p,g]=mo({channelId:null==e?void 0:e.id,userId:null==t?void 0:t.id,group:null==a?void 0:a.id}),[v,h]=c.useState((null==d?void 0:d.length)||0),f=yt(v);c.useEffect((()=>{h((null==d?void 0:d.length)||0),0===f&&m.current.scrollBy({top:1e7}),e&&i({variables:{input:{channelId:e.id}}}),a&&o({variables:{input:{groupId:a.id}}}),t&&s({variables:{input:{userId:t.id}}})}),[e,t,a]);const{atBottom:E,newMessagesNotification:b,setNewMessagesNotification:x}=function(e){const[t]=el(),[n,a]=c.useState(!1),r=c.useRef(""),l=c.useRef(!1);return c.useEffect((()=>{var n;if(!(null==e?void 0:e.length))return;const s=e[e.length-1],c=r.current;r.current=s.id||"",s.id!==c&&(l.current||(null==(n=s.author)?void 0:n.id)!==t.id&&a(!0))}),[t,e]),{atBottom:l,newMessagesNotification:n,setNewMessagesNotification:a}}(d),y=function(e){var t;const n=null==(t=null==e?void 0:e[0])?void 0:t.id,a=c.useRef(n),r=c.useRef(n),l=c.useRef(0);return c.useMemo((()=>{if(!e||!e.length)return 0;if(n===r.current)return l.current;a.current||(a.current=n),r.current=n;for(let t=l.current;t<e.length;t+=1)if(e[t].id===a.current)return l.current=t,t;return 0}),[e,null==e?void 0:e.length])}(d),w=function(e){const[t]=el(),n=c.useRef(""),a=c.useRef(!1);function r(){var a;if(e&&e.length>0){const r=e[e.length-1];if((null==(a=r.author)?void 0:a.id)===t.id&&n.current!==r.id)return n.current=r.id,!0}return!1}return c.useEffect((()=>{e&&e.length&&!a.current&&(a.current=!0,r())}),[e,null==e?void 0:e.length]),r}(d),N=c.useCallback(((e,t)=>{const n=t+y-1e7,a=e[n],r=n>0?e[n-1]:null;return a?c.createElement(io,{message:a,index:n,prevMessage:r}):c.createElement("div",{style:{height:"1px"}})}),[y]);return c.createElement(c.Fragment,null,c.createElement("div",{className:"relative flex-1 overflow-x-hidden overflow-y-auto dark:bg-gray-750 w-full h-full"},c.createElement(Ne,{className:"scrollbar-custom",alignToBottom:!0,atBottomStateChange:e=>{E.current=e,e&&b&&x(!1)},components:{Header:()=>c.createElement(wo,{user:t,group:a,channel:e,show:!g}),Footer:()=>c.createElement("div",{className:"h-5.5"})},firstItemIndex:1e7-y,followOutput:e=>(w()||!!e)&&"auto",initialTopMostItemIndex:d&&d.length>0?d.length-1:0,itemContent:e=>N(d,e),overscan:0,ref:m,startReached:()=>{!u&&g&&p()},style:{overflowX:"hidden"},totalCount:(null==d?void 0:d.length)||0})),(!!r||!!l)&&c.createElement(yo,{channel:e,user:t,group:a,users:r,serverUsers:l}))}function ko(){const[e,t]=Rl((e=>[e.showUsers,e.setShowUsers])),{t:n}=w();return c.createElement(v,{content:n(e?"user.hideUsers":"user.showUsers")},c.createElement("div",{className:"highlightable",onClick:()=>t(!e)},c.createElement(xt,{className:"w-5 h-5"})))}function Co(){const{groupId:e}=G();uc(`group/${e}`);const t=(e=>{const[t]=el();return t.groups.find((t=>t.id===e))})(e);return c.createElement(Jr,{header:c.createElement(Os,{icon:c.createElement(xt,{className:"w-5 h-5 text-primary"}),title:t.displayName},c.createElement(ko,null)),rightSidebar:c.createElement(to,{users:t.users})},!!t&&c.createElement(No,{group:t,users:t.users}))}function $o(){const{t:e}=w();return c.createElement(v,{content:e("message.pinned")},c.createElement("div",{className:"highlightable"},c.createElement(wt,{className:"w-5 h-5"})))}function Io({user:e}){var t;return w(),c.createElement(Os,{icon:c.createElement(Nt,{className:"w-5 h-5"}),title:c.createElement(c.Fragment,null,null!=(t=null==e?void 0:e.name)?t:"",c.createElement("div",{className:"w-2.5 h-2.5 ml-3 rounded-full "+((null==e?void 0:e.isOnline)?"bg-green-500":"bg-gray-600")}))},c.createElement("div",{className:"ml-auto"},c.createElement($o,null)))}function Mo(){const{userId:e}=G(),{data:t}=Mr({variables:{id:e}}),n=null==t?void 0:t.user;uc(`dm/${e}`);const[a]=el();return c.createElement(Jr,{header:c.createElement(Io,{user:n})},!!n&&c.createElement(No,{user:n,users:[n,a]}))}const So=e=>{if(!e)return kt;switch(e){case"Featured":return zt;case"Arts":return Lt;case"Business":return Ot;case"Culture":return Z;case"Discussion":return xe;case"Entertainment":return At;case"Gaming":return Rt;case"Health":return Pt;case"Hobbies":return Ut;case"Lifestyle":return Ft;case"Memes":return _e;case"Meta":return St;case"News":return Mt;case"Politics":return It;case"Programming":return Le;case"Science":return Pr;case"Sports":return $t;case"Technology":return Rr;case"Other":return Ct}};function Fo({category:e}){const{t:t}=w(),[n,a]=Rl((e=>[e.exploreCategory,e.setExploreCategory])),r=So(e);return c.createElement(El,{onClick:()=>a(e),active:n===e},c.createElement(r,{className:"w-5 h-5 mr-3"}),t(e?`category.${e}`:"explore.all"))}function Uo({sort:e,label:t,icon:n}){const[a,r]=Rl((e=>[e.exploreSort,e.setExploreSort])),l=n;return c.createElement(El,{onClick:()=>r(e),active:a===e},c.createElement(l,{className:"w-5 h-5 mr-3"}),t)}function Po(){const{t:e}=w(),t=c.useMemo((()=>{let e=Object.keys(Gn);const t=e.splice(e.indexOf(Gn.Other),1);return e.push(...t),e}),[]);return c.createElement(Cs,null,c.createElement("div",{className:"text-lg font-medium px-4 h-12 flex items-center text-secondary"},c.createElement(Dr,{className:"w-5 h-5 mr-3"}),e("explore.title")),c.createElement("div",{className:"px-1.5"},c.createElement("div",{className:"space-y-0.5"},c.createElement(Uo,{label:"Most Popular",sort:"Top",icon:X}),c.createElement(Uo,{label:"Recently Created",sort:"New",icon:K})),c.createElement(xl,null,e("explore.categories")),c.createElement("div",{className:"space-y-0.5"},c.createElement(Fo,{category:"Featured"}),c.createElement(Fo,{category:null}),t.map((e=>c.createElement(Fo,{key:e,category:e}))))))}function Ro(){var e;const[n,a]=c.useState(0),[r,l]=Rl((e=>[e.exploreCategory,e.exploreSort])),{data:s}=function(e){const n={...Nn,...e};return t(Cr,n)}({variables:{sort:l,category:r&&"Featured"!==r?r:null,featured:"Featured"===r,page:n,pageSize:20},fetchPolicy:"no-cache",nextFetchPolicy:"cache-first"}),o=null!=(e=null==s?void 0:s.publicServers)?e:[];return c.createElement(Jr,{leftSidebar:c.createElement(Po,null)},c.createElement(Hc,null,c.createElement("div",{className:"px-8 py-8"},c.createElement("div",{className:"flex pb-8 items-center justify-center"},c.createElement("div",{className:"shadow-md max-w-screen-sm w-full flex h-10 relative bg-white dark:bg-gray-600 rounded-md dark:text-gray-400 transition dark:focus-within:text-white"},c.createElement("input",{className:"h-full dark:bg-gray-600 rounded-l-md text-sm px-4 flex-grow focus:outline-none dark:text-white dark:placeholder-gray-400 font-medium"}),c.createElement("button",{type:"button",className:"rounded-r-md inline-flex justify-center items-center h-10 w-10 cursor-pointer"},c.createElement(se,{className:"w-5 h-5"})))),c.createElement("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-3 2xl:grid-cols-5"},o.map((e=>c.createElement(js,{server:e,key:e.id})))))))}const Ao=()=>{const{serverId:e}=G();return ws().find((t=>t.id===e))};function Oo({channel:e,serverId:t}){const{t:n}=w(),[a]=ts({serverId:t,permissions:[Wn.ManageChannels]}),{pathname:r}=H(),l=`/server/${t}/channel/${e.id}`,s=r===l;return c.createElement(ys,{data:{type:Zl,channel:e}},c.createElement(El,{to:l},e.isUnread&&!s&&c.createElement("div",{className:"absolute -left-1.5 top-1/2 transform -translate-y-1/2 rounded-r-full dark:bg-gray-100 h-2 w-1"}),c.createElement(Lr,{className:"w-5 h-5 mr-3 text-tertiary"}),c.createElement("span",{className:""+(e.isUnread?"text-primary":"")},e.name),c.createElement("div",{className:"ml-auto"}),!!e.mentionCount&&c.createElement("div",{className:"pr-2"},c.createElement(Ms,{count:e.mentionCount})),a&&c.createElement(v,{content:n("channel.edit")},c.createElement("div",{className:"group-hover:visible invisible"},c.createElement(Tt,{className:"w-4 h-4 text-tertiary"})))))}function Lo({serverId:e}){const{t:t}=w(),[a]=ts({serverId:e,permissions:[Wn.ManageChannels]}),{handleSubmit:r}=k({mode:"onChange"}),[l,s]=c.useState(!1),[o,i]=c.useState(!1),[m,d]=c.useState("");c.useEffect((()=>{" "!==m&&"-"!==m||d(""),d(m.toLowerCase().replace(" ","-")),m.endsWith("--")&&d(m.substring(0,m.length-1))}),[m]);const{push:u}=C(),[p,{loading:g}]=function(e){const t={...Nn,...e};return n(ma,t)}({update(t,{data:{createChannel:n}}){const a=t.readQuery({query:Er}),r=JSON.parse(JSON.stringify(a)),l=r.user.servers.find((t=>t.id===e));l.channels=[n].concat(l.channels),t.writeQuery({query:Er,data:r})}});return a?c.createElement(c.Fragment,null,c.createElement(xl,{onClick:()=>s(!0),plusLabel:t("channel.create")},"Channels"),c.createElement(Nl,{isOpen:l,close:()=>s(!1),closeOnOverlayClick:!0},c.createElement("div",{className:"rounded-lg dark:bg-gray-750 p-4 max-w-md w-full",onClick:e=>e.stopPropagation()},c.createElement(Sl,{className:"title mb-4"},t("channel.create")),c.createElement("form",{onSubmit:r((()=>{m.endsWith("-")&&d(m.substring(0,m.length-1)),p({variables:{input:{name:m,serverId:e,isPrivate:o}}}).then((({data:{createChannel:t}})=>{s(!1),d(""),u(`/server/${e}/channel/${t.id}`)}))}))},c.createElement("div",{className:"mb-4 w-full"},c.createElement("label",{className:"label",htmlFor:"name"},"Channel Name"),c.createElement("div",{className:"relative"},c.createElement("input",{name:"name",maxLength:100,className:"textbox pl-9 pr-3 lowercase",spellCheck:!1,autoCapitalize:"none",id:"name",value:m,onChange:e=>d(e.target.value)}),c.createElement("div",{className:"absolute left-0 top-0 bottom-0 flex items-center w-10 justify-center pointer-events-none"},c.createElement(Lr,{className:"w-5 h-5 text-tertiary"})))),c.createElement(ll,{disabled:!m,loading:g,type:"submit"},t("continue")),c.createElement("div",{className:"pt-4"},c.createElement(Ml,{checked:o,onChange:()=>i(!o)},t("channel.togglePrivate"))))))):c.createElement(xl,null,t("channel.title"))}const zo=I("\n  relative\n  w-full\n  flex\n  items-center\n  pl-3\n  pr-10\n  text-left\n  bg-white\n  cursor-pointer\n  focus:outline-none\n  text-sm\n  rounded\n  border\n  h-10\n  dark:bg-gray-775\n  dark:border-gray-850\n  border\n  rounded\n  focus:outline-none\n  transition\n  px-4\n  text-base\n  text-primary\n"),To=I("\n  scrollbar-dark\n  absolute\n  w-full\n  py-1\n  mt-1\n  overflow-auto\n  text-sm\n  text-primary\n  bg-white\n  dark:bg-gray-800\n  rounded-md\n  shadow-lg\n  max-h-60\n  focus:outline-none\n  space-y-0.5\n");function Do({category:e,setCategory:t}){const n=Object.values(Gn),a=So(e);return c.createElement("div",{className:"min-w-full relative z-50"},c.createElement(Ge,{value:e,onChange:t},(({open:t})=>c.createElement(c.Fragment,null,c.createElement("div",{className:"relative"},c.createElement(Ge.Button,{className:zo},e?c.createElement(c.Fragment,null,c.createElement(a,{className:"w-5 h-5 text-secondary"}),c.createElement("span",{className:"block truncate pl-3"},e)):c.createElement("span",{className:"block truncate text-tertiary"},"Category"),c.createElement("span",{className:"absolute inset-y-0 right-0 flex items-center pr-4 pointer-events-none"},c.createElement(Ye,{className:"w-5 h-5 text-gray-400","aria-hidden":"true"}))),c.createElement(A,{show:t,as:c.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0"},c.createElement(Ge.Options,{static:!0,className:To},n.map((e=>c.createElement(Ge.Option,{key:e,className:({active:e})=>(e=>I(`\n  ${e?"dark:bg-gray-775":""}\n  cursor-pointer\n  select-none\n  relative\n  focus:outline-none\n`))(e),value:e},(({selected:t})=>c.createElement("div",{className:"flex items-center h-10 pl-3 pr-3 "+(t?"dark:bg-gray-775":"")},(()=>{const t=So(e);return c.createElement(t,{className:"w-5 h-5 text-secondary"})})(),c.createElement("span",{className:"block truncate pl-2"},e)))))))))))))}function qo({server:e}){var t;const{t:a}=w(),[r,l]=c.useState(!1),[s,o]=c.useState(null==(t=e.roles.find((e=>"@everyone"===e.name)))?void 0:t.id),i=e.roles.find((e=>e.id===s)),[m,d]=c.useState(i.color),[u,p]=c.useState(i.name),[g,v]=c.useState(i.permissions);c.useEffect((()=>{v(i.permissions),p(i.name),d(i.color)}),[i]);const h=N(),[f]=function(e){const t={...Nn,...e};return n(ar,t)}({update(t,{data:{deleteRole:n}}){const a=t.readQuery({query:Er}),r=JSON.parse(JSON.stringify(a));r.user.servers.find((t=>t.id===e.id)).roles=e.roles.filter((e=>e.id!==n)),t.writeQuery({query:Er,data:r})}}),[E,{loading:b}]=function(e){const t={...Nn,...e};return n(nr,t)}(),x=!((e,t)=>{if(e.length!==t.length)return!1;for(const n of e)if(!t.includes(n))return!1;for(const n of t)if(!e.includes(n))return!1;return!0})(g,i.permissions)||u!==i.name||m!==i.color;return c.createElement(c.Fragment,null,c.createElement(Bo,{server:e,createRoleOpen:r,setCreateRoleOpen:l}),c.createElement("div",{className:"max-w-screen-md text-left relative"},c.createElement("div",{className:"flex space-x-8"},c.createElement("div",{className:"w-64"},c.createElement(xl,{plusLabel:"Create role",onClick:()=>l(!0)},"Roles"),c.createElement("div",{className:"space-y-0.5"},e.roles.map((e=>c.createElement(El,{key:e.id,active:s===e.id,onClick:()=>o(e.id),light:!0},c.createElement("span",{style:{color:e.color}},e.name)))))),c.createElement("div",{className:"pt-4 w-full"},c.createElement("div",{className:"flex items-center justify-between"},c.createElement("div",{className:"text-primary text-base mb-6 font-semibold"},"Edit Role - ",i.name),"@everyone"!==i.name&&c.createElement("button",{type:"button",className:"delete-button",onClick:()=>{var t;const n=h.cache,a=n.readQuery({query:Er}),r=JSON.parse(JSON.stringify(a)),l=r.user.servers.find((t=>t.id===e.id));l.roles=l.roles.filter((e=>e.id!==s)),n.writeQuery({query:Er,data:r}),o(null==(t=e.roles.find((e=>"@everyone"===e.name)))?void 0:t.id),f({variables:{input:{roleId:s}}})}},"Delete Role")),c.createElement("div",{className:"mb-6"},c.createElement("label",{className:"label"},"Name"),c.createElement("input",{className:"textbox",placeholder:"Name",value:u,onChange:e=>p(e.target.value),id:"name",disabled:"@everyone"===i.name})),c.createElement("div",{className:"label"},"Color"),c.createElement("div",{className:"grid grid-cols-4 gap-3 mb-10"},Object.keys(ul).map((e=>c.createElement("div",{key:e,className:"h-6 rounded-md relative cursor-pointer",style:{backgroundColor:ul[e][500]},onClick:()=>{m===ul[e][500]?d(null):d(ul[e][500])}},m===ul[e][500]&&c.createElement("div",{className:"inset-0 absolute flex items-center justify-center"},c.createElement(z,{className:"w-4 h-4 text-white"})))))),c.createElement("div",{className:"label"},"Permissions"),c.createElement("div",{className:"space-y-0.5 divide-y divide-gray-700"},Object.values(Wn).map((e=>c.createElement("div",{key:e,className:"flex w-full py-4 text-base"},c.createElement("div",null,c.createElement("div",{className:"font-semibold"},a(`permissions.server.${e}.title`)),!!a(`permissions.server.${e}.description`)&&c.createElement("div",{className:"text-13 text-tertiary pt-1"},a(`permissions.server.${e}.description`))),c.createElement("div",{className:"pl-6 ml-auto"},c.createElement(Ml,{green:!0,checked:g.includes(e),onChange:()=>{g.includes(e)?v(g.filter((t=>t!==e))):v([...g,e])}})))))))),c.createElement("div",{className:"sticky z-50 flex items-center rounded-md shadow-lg bottom-8 max-w-screen-md w-full dark:bg-gray-800 pr-3 pl-6 h-16 transform transition "+(x?"translate-y-0":"translate-y-24")},c.createElement("div",{className:"text-tertiary text-sm"},"Changes not saved"),c.createElement("div",{className:"flex items-center space-x-3 ml-auto"},c.createElement("button",{type:"button",className:"cancel-button",onClick:()=>{p(i.name),d(i.color),v(i.permissions)}},"Discard Changes"),c.createElement("button",{type:"button",disabled:!u||!x,className:"save-button",onClick:()=>E({variables:{input:{roleId:s,name:u,color:m,permissions:g}}})},"Save Changes",b&&c.createElement(Or,{className:"w-5 h-5 text-primary ml-3"}))))))}function Bo({createRoleOpen:e,setCreateRoleOpen:t,server:a,setSelectedRoleId:r}){const[l,s]=c.useState(""),[o,{loading:i}]=function(e){const t={...Nn,...e};return n(tr,t)}({update(e,{data:{createRole:t}}){const n=e.readQuery({query:Er}),r=JSON.parse(JSON.stringify(n));r.user.servers.find((e=>e.id===a.id)).roles=[...a.roles,t],e.writeQuery({query:Er,data:r})}});return c.createElement(Nl,{isOpen:e,close:()=>t(!1)},c.createElement("div",{className:"max-w-md w-full rounded-md dark:bg-gray-800 shadow-lg p-4"},c.createElement("div",{className:"text-primary text-2xl font-semibold"},"Create Role"),c.createElement("div",{className:"text-left"},c.createElement("label",{htmlFor:"name",className:"label"},"Name"),c.createElement("input",{id:"name",name:"name",className:"textbox",value:l,onChange:e=>s(e.target.value),type:"text",maxLength:100})),c.createElement("div",{className:"flex items-center justify-end space-x-4 pt-4"},c.createElement("button",{className:"cancel-button",type:"button",onClick:()=>t(!1)},"Cancel"),c.createElement("button",{className:"save-button",type:"button",disabled:!l||"@everyone"===l||i,onClick:()=>{o({variables:{input:{name:l,serverId:a.id}}}).then((({data:{createRole:e}})=>{t(!1),s(""),r(e.id)}))}},"Continue",i&&c.createElement(Or,{className:"w-5 h-5 text-primary ml-3"})))))}const jo="Settings",Ho="Roles";function Vo({open:e,setOpen:t,server:a}){const[r,l]=c.useState(!1),{register:s,handleSubmit:o,watch:i,reset:m}=k({mode:"onChange"}),d=i("name"),u=i("description"),[p,{loading:g}]=function(e){const t={...Nn,...e};return n(lr,t)}(),[v,h]=c.useState(a.category),[f,E]=c.useState(jo),b=()=>{t(!1),setTimeout((()=>m()),300)};return c.createElement(c.Fragment,null,c.createElement(Nl,{isOpen:e,close:b},c.createElement("div",{className:"min-w-full h-full min-h-full h-screen dark:bg-gray-800 scrollbar-custom",onClick:e=>e.stopPropagation()},c.createElement("div",{className:"w-full relative flex"},c.createElement("button",{className:"absolute top-3 right-3 focus:outline-none rounded-full transition dark:hover:bg-gray-700 p-2",onClick:b},c.createElement(Dt,{className:"w-6 h-6 text-tertiary"})),c.createElement("div",{className:"w-1/3 min-w-[14rem] dark:bg-gray-800 flex justify-end px-5 py-12"},c.createElement("div",{className:"w-56 space-y-0.5"},c.createElement(xl,null,a.name),c.createElement(El,{active:f===jo,onClick:()=>E(jo)},"Settings"),c.createElement(El,{active:f===Ho,onClick:()=>E(Ho)},"Roles"))),c.createElement("div",{className:"w-2/3 px-8 py-16 min-h-screen dark:bg-gray-750"},f===jo&&c.createElement("form",{onSubmit:o((({name:e,description:t})=>{p({variables:{input:{serverId:a.id,name:e,description:t,category:v}}})})),className:"max-w-screen-sm text-left"},c.createElement("div",{className:"font-semibold text-primary uppercase mb-6"},"Planet Settings"),c.createElement("div",{className:"flex"},c.createElement("input",{type:"file",accept:"image/png,image/jpeg,image/webp,image/gif",id:"avatarFile",hidden:!0,name:"avatarFile",onChange:e=>{const t=e.target.files[0];t&&p({variables:{input:{serverId:a.id,avatarFile:t}}})}}),c.createElement("label",{htmlFor:"avatarFile",className:"relative h-24 w-24 group"},c.createElement(wl,{server:a,className:"rounded-full dark:bg-gray-800",size:24}),c.createElement("div",{className:"absolute rounded-full cursor-pointer inset-0 bg-black opacity-0 group-hover:opacity-100 bg-opacity-50 z-10 transition flex items-center justify-center"},c.createElement(qt,{className:"w-1/2 h-1/2"}))),c.createElement("div",{className:"ml-6 w-full space-y-3"},c.createElement("div",null,c.createElement("label",{className:"label"},"Name"),c.createElement("input",{className:"textbox",...s("name"),defaultValue:a.name})),c.createElement("div",null,c.createElement("label",{className:"label"},"Category"),c.createElement(Do,{category:v,setCategory:h})))),c.createElement("div",{className:"pt-5 pb-5 w-full"},c.createElement("label",{className:"label"},"Description"),c.createElement("textarea",{className:"h-24 w-full text-base scrollbar-custom dark:bg-gray-775 border dark:border-gray-850 rounded resize-none",defaultValue:a.description,...s("description")})),c.createElement("div",{className:"label"},"Banner"),c.createElement("input",{type:"file",accept:"image/png,image/jpeg,image/webp,image/gif",id:"bannerFile",hidden:!0,name:"bannerFile",onChange:e=>{const t=e.target.files[0];t&&p({variables:{input:{serverId:a.id,bannerFile:t}}})}}),c.createElement("label",{htmlFor:"bannerFile",className:`block w-full h-32 relative group ${a.bannerUrl?"":"bg-gradient-to-br from-red-400 to-indigo-600"} rounded bg-center bg-no-repeat bg-cover`,style:a.bannerUrl?{backgroundImage:`url(${a.bannerUrl})`}:{}},c.createElement("div",{className:"block absolute rounded cursor-pointer inset-0 bg-black opacity-0 group-hover:opacity-100 bg-opacity-50 z-10 transition flex items-center justify-center"},c.createElement(qt,{className:"w-1/2 h-1/2"}))),c.createElement("div",{className:"mt-10 flex items-center space-x-5 justify-end"},c.createElement("button",{type:"button",onClick:()=>l(!0),className:"delete-button"},"Delete Planet"),c.createElement("button",{type:"submit",className:"save-button",disabled:(!d||d===a.name)&&(u||"")===(a.description||"")&&v===a.category},"Save Changes",g&&c.createElement(Or,{className:"w-5 h-5 text-primary ml-3"})))),f===Ho&&c.createElement(qo,{server:a})))),c.createElement(_o,{server:a,deleteOpen:r,setDeleteOpen:l})))}function _o({deleteOpen:e,setDeleteOpen:t,server:a}){const[r,l]=c.useState(""),[s,{loading:o}]=function(e){const t={...Nn,...e};return n(sr,t)}(),{push:i}=C();return c.createElement(Nl,{isOpen:e,close:()=>t(!1)},c.createElement("div",{className:"max-w-md w-full rounded-md dark:bg-gray-800 shadow-lg p-4"},c.createElement("div",{className:"text-red-400 text-2xl font-semibold"},"Delete ",a.name),c.createElement("div",{className:"text-secondary pb-5 pt-3 text-base"},"You will not be able to restore this planet."),c.createElement("div",{className:"text-left"},c.createElement("label",{htmlFor:"confirmPassword",className:"label"},"Password"),c.createElement("input",{id:"confirmPassword",name:"confirmPassword",className:"textbox",value:r,onChange:e=>l(e.target.value),type:"password"})),c.createElement("div",{className:"flex items-center justify-end space-x-4 pt-4"},c.createElement("button",{className:"cancel-button",type:"button",onClick:()=>t(!1)},"Cancel"),c.createElement("button",{className:"delete-button",type:"button",disabled:!r||o,onClick:()=>{s({variables:{input:{password:r,serverId:a.id}}}).then((()=>{t(!1),i("/me")}))}},"Delete ",a.name,o&&c.createElement(Or,{className:"w-5 h-5 text-primary ml-3"})))))}function Go(){const{t:e}=w(),t=Ao(),[n,a]=c.useState(!1),[r,l]=c.useState(!1),[s]=ts({serverId:t.id,permissions:[Wn.ManageServer]});return c.createElement(c.Fragment,null,c.createElement(Vo,{open:n,setOpen:a,server:t}),c.createElement(Yo,{open:r,setOpen:l}),c.createElement(Cs,null,c.createElement("div",{className:"h-20 relative bg-center bg-cover bg-no-repeat "+(t.bannerUrl?"":"bg-gradient-to-br from-red-400 to-indigo-600"),style:t.bannerUrl?{backgroundImage:`url(${t.bannerUrl})`}:{}},c.createElement("div",{className:"absolute inset-0 flex pt-3 pl-4 pr-3 justify-between bg-gradient-to-b from-transparent to-gray-800 text-lg font-medium"},t.name,s&&c.createElement("button",{type:"button",className:"transition hover:rotate-12 transform rounded-full cursor-pointer focus:outline-none h-7 w-7 flex items-center justify-center transition bg-opacity-0 hover:bg-opacity-25 bg-gray-800",onClick:()=>a(!0)},c.createElement(Tt,{className:"w-5 h-5 text-primary"})))),c.createElement("div",{className:"px-1.5 pt-4"},c.createElement(El,{onClick:()=>l(!0)},c.createElement(Bt,{className:"mr-3 w-5 h-5"}),e("server.invitePeople")),c.createElement(xl,{plusLabel:"Create Post"},e("server.feed")),c.createElement(Is,null),c.createElement(Lo,{serverId:t.id}),c.createElement("div",{className:"space-y-0.5"},t.channels.filter((e=>e.permissions.includes(kn.ViewChannel))).map((e=>c.createElement(Oo,{key:e.id,channel:e,serverId:t.id})))))))}function Yo({open:e,setOpen:t}){return c.createElement(Nl,{isOpen:e,close:()=>t(!1)},c.createElement("div",{className:"dark:bg-gray-850 p-5"},c.createElement("button",{onClick:()=>t(!1)},"Continue")))}function Wo({serverId:e}){const t=ls(),n=es(e).folders;ts({serverId:e,permissions:[Wn.ManagePosts]}),w();const a=Rl((e=>e.showFolders));return c.createElement(Cs,{right:!0,show:a},c.createElement("div",{className:"px-1.5"},c.createElement(Ps,{serverId:e}),n.length>0&&c.createElement("div",{className:"space-y-0.5"},!!n&&n.map((t=>c.createElement(Us,{key:t.id,folder:t,serverId:e})))),c.createElement(Ps,null),c.createElement("div",{className:"space-y-0.5"},t.map((e=>c.createElement(Us,{key:e.id,folder:e}))))))}const Qo=e=>{const{serverId:t}=G(),n=Rl((e=>e.setServerPage));c.useEffect((()=>n(t,e)))};function Jo(){const{serverId:e}=G(),t=c.useRef(null);return Qo("posts"),c.createElement(Jr,{header:c.createElement(Ts,{refreshPosts:()=>{t&&t.current&&t.current.refresh()}}),rightSidebar:c.createElement(Wo,{serverId:e})},c.createElement(dc,{serverId:e,header:c.createElement(Ac,null)}))}function Ko({post:e,users:t=[]}){var n,a,r,l;const{t:s}=w(),o=Rl((e=>e.showUsers));return c.createElement(Cs,{right:!0,show:o},c.createElement("div",{className:"px-1"},(null==e?void 0:e.author)&&c.createElement(c.Fragment,null,c.createElement(xl,null,s("post.creator")),c.createElement(eo,{user:null==(n=e.author)?void 0:n.user,color:null==(a=e.author)?void 0:a.color,roles:null==(r=e.author)?void 0:r.roles,nickname:null==(l=e.author)?void 0:l.nickname})),t&&t.length>0&&c.createElement(c.Fragment,null,c.createElement(xl,null,s("post.participantCount",{count:t.length})),t.map((e=>c.createElement(eo,{key:e.user.id,user:e.user,color:e.color,roles:e.roles,nickname:e.nickname}))))))}const Xo=e=>{if(!e.childComments||0===e.childComments.length)return 0;let t=0;return e.childComments.forEach((e=>{t++,e.childCount=Xo(e),t+=e.childCount})),t},Zo=e=>((e=(e=>{const t=Object.create(null);e.forEach((e=>t[e.id]={...e,childComments:[]}));const n=[];return e.forEach((e=>{e.parentComment?t[e.parentComment.id].childComments.push(t[e.id]):n.push(t[e.id])})),n})(e)).forEach((e=>e.childCount=Xo(e))),e),ei=I("\n  text-base\n  text-primary\n  disabled:opacity-50\n  dark:disabled:bg-gray-600\n  bg-green-600\n  rounded\n  px-3\n  h-8\n  flex\n  items-center\n  disabled:cursor-not-allowed\n  focus:outline-none\n"),ti=I("\n  text-base\n  text-tertiary\n  focus:outline-none\n  px-2\n  h-8\n  flex\n  items-center\n");function ni({postId:e,parentCommentId:t,setOpen:a}){const[r,l]=c.useState(""),[s,{loading:o}]=function(e){const t={...Nn,...e};return n(pa,t)}({update(t,{data:{createComment:n}}){const a=t.readQuery({query:fr,variables:{postId:e}});t.writeQuery({query:fr,variables:{postId:e},data:{comments:[n,...a.comments]}})}}),{t:i}=w();return c.createElement("div",{className:"max-w-screen-md w-full"},c.createElement(gc,{text:r,setText:l}),c.createElement("div",{className:"flex justify-end space-x-3 items-center pt-3"},c.createElement("button",{className:ti,onClick:()=>{a(!1),l("")}},i("comment.create.cancel")),c.createElement("button",{className:ei,disabled:!r||o,onClick:()=>{s({variables:{input:{postId:e,text:r,parentCommentId:t}}}).then((()=>{a(!1),l("")}))}},i("comment.create.submit"),o&&c.createElement(Or,{className:"w-5 h-5 text-primary ml-3"}))))}const ai=I("\n  ml-4\n  text-xs\n  text-gray-500\n  hover:text-gray-700\n  dark:hover:text-gray-300\n  font-medium\n  leading-none\n  select-none\n  cursor-pointer\n");function ri({comment:e,post:t,level:n=0,setParentComment:a,isLast:r}){var l,s,o,i,m,d,u;const{t:p}=w(),{serverId:g}=G(),[v,h]=ts({serverId:g,permissions:[Wn.CreateComment,Wn.VoteComment]}),[f,E]=c.useState(!1),[b,x]=Rl((e=>[e.replyingCommentId,e.setReplyingCommentId])),y=b===e.id;return c.createElement("div",{className:"relative rounded dark:bg-gray-800 "+(0===n?"":"pl-4")},c.createElement("div",{id:e.id}),c.createElement(ys,{data:{type:Ql,comment:e}},c.createElement("div",{className:"flex px-3 pt-3"},c.createElement(ys,{data:{type:Yl,user:e.author}},c.createElement(_s,{user:null==(l=e.author)?void 0:l.user,nickname:null==(s=e.author)?void 0:s.nickname,roles:null==(o=e.author)?void 0:o.roles},c.createElement(vl,{size:7,className:"cursor-pointer transition hover:opacity-90",user:null==(i=e.author)?void 0:i.user}))),c.createElement("div",{className:"pl-3 pb-3 w-full "+(!e.childComments.length&&!r||f?"":"border-b dark:border-gray-750")},c.createElement("div",{className:"flex items-end pb-1.5"},c.createElement(ys,{data:{type:Yl,user:e.author}},c.createElement(_s,{user:null==(m=e.author)?void 0:m.user,roles:null==(d=e.author)?void 0:d.roles,nickname:null==(u=e.author)?void 0:u.nickname},c.createElement("div",{className:"text-sm font-medium cursor-pointer hover:underline leading-none "+(e.author.color?"":"text-primary"),style:{color:e.author.color}},e.author.name))),c.createElement("div",{className:"text-11 text-mid font-medium pl-2 leading-none"},Gs(e.createdAt))),c.createElement("div",{className:"prose prose-sm dark:prose-dark max-w-none",dangerouslySetInnerHTML:{__html:e.text}}),c.createElement("div",{className:"flex items-center pt-2"},c.createElement(li,{comment:e,canVote:h}),v&&c.createElement("div",{className:ai,onClick:()=>{x(y?null:e.id)}},p(y?"comment.cancelReply":"comment.reply")),!!e.childCount&&c.createElement("div",{className:ai,onClick:()=>E(!f)},f?`${p("comment.showReplies")} (${e.childCount})`:p("comment.hideReplies")),c.createElement("div",{className:"ml-4 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 flex items-center cursor-pointer"},c.createElement(Ze,{className:"w-5 h-5"}))),y&&c.createElement("div",{className:"pt-3 max-w-screen-md w-full"},c.createElement(ni,{postId:t.id,parentCommentId:e.id,setOpen:()=>x(null)}))))),c.createElement("div",{className:"pl-3"},!f&&e.childComments.map(((r,l)=>c.createElement(ri,{key:r.id,comment:r,level:n+1,setParentComment:a,post:t,isLast:l<e.childComments.length-1})))))}function li({comment:e}){const t=ms(e);return c.createElement("div",{onClick:e=>{e.stopPropagation(),t()},className:(e.isVoted?"text-red-400":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300")+" flex items-center cursor-pointer"},c.createElement(ye,{className:"w-4 h-4"}),c.createElement("div",{className:"ml-2 text-xs font-medium"},e.voteCount))}function si({postId:e}){const[t,n]=c.useState(!1),[a]=el(),{t:r}=w();return c.createElement(c.Fragment,null,t?c.createElement("div",{className:"dark:bg-gray-800 pt-3 pb-3 px-3 rounded flex"},c.createElement("div",{className:"pr-3 mr-3 border-r dark:border-gray-750 inline-block h-7"},c.createElement(vl,{user:a,size:7})),c.createElement(ni,{postId:e,setOpen:n})):c.createElement("div",{onClick:()=>n(!0),className:"dark:bg-gray-700 h-13 flex items-center rounded transition dark:hover:bg-gray-650 cursor-pointer"},c.createElement("div",{className:"px-3 border-r dark:border-gray-650 h-7"},c.createElement(vl,{user:a,size:7})),c.createElement("div",{className:"text-sm text-secondary px-3"},r("post.createComment"))))}function ci({post:e}){const t=Rl((e=>e.canGoBack)),{push:n,goBack:a}=C();return c.createElement("header",{id:"header",className:"h-12 min-h-[3rem] items-center bg-white dark:bg-gray-750 border-b dark:border-gray-800 shadow flex items-center"},c.createElement("div",{className:"flex items-center font-semibold text-base text-primary pl-4"},c.createElement("div",{className:"highlightable mr-3 cursor-pointer",onClick:()=>{t?a():n(`/server/${null==e?void 0:e.server.id}`)}},c.createElement(jt,{className:"w-5 h-5"})),c.createElement("span",{className:"line-clamp-1"},null==e?void 0:e.title)),c.createElement("div",{className:"ml-auto pl-6 pr-4"},c.createElement(ko,null)),c.createElement("div",{className:"flex w-60 min-w-[15rem] pr-4"},c.createElement(As,null)))}function oi(){const{t:e}=w(),{postId:n,serverId:a}=G(),[r,l]=ts({serverId:a,permissions:[Wn.ViewComments,Wn.CreateComment]}),{data:s}=function(e){const n={...Nn,...e};return t(Nr,n)}({variables:{id:n}}),o=null==s?void 0:s.post,{data:i}=function(e){const n={...Nn,...e};return t(fr,n)}({variables:{postId:n}}),m=c.useMemo((()=>{var e;return Zo(null!=(e=null==i?void 0:i.comments)?e:[])}),[null==i?void 0:i.comments]),d=c.useMemo((()=>m.filter((e=>!!e.author)).map((e=>e.author)).filter(((e,t,n)=>n.findIndex((t=>t.id===e.id))===t))),[m]);return c.createElement(Jr,{header:c.createElement(ci,{post:o}),rightSidebar:c.createElement(Ko,{post:o,users:d})},c.createElement("div",{className:"max-h-full h-full scrollbar-custom dark:bg-gray-750"},c.createElement("div",{className:"pt-4 px-4"},!!o&&c.createElement(mc,{post:o,isPostPage:!0})),l&&c.createElement("div",{className:"pt-4 px-4"},c.createElement(si,{postId:n})),r?c.createElement("div",{className:"space-y-2 px-4 pt-4 pb-96"},m.map(((e,t)=>c.createElement(ri,{key:e.id,comment:e,post:o,isLast:t<m.length-1})))):c.createElement("div",{className:"py-10 px-4 text-center font-semibold text-xl text-tertiary"},e("comment.noPermission"))))}function ii({server:e,serverUsers:t}){const n=c.useMemo((()=>{const n=[];for(const l of e.roles.filter((e=>e.permissions.includes(Wn.DisplayRoleSeparately)))){const e=t.filter((e=>e.isOnline&&e.roles.map((e=>e.id)).includes(l.id)&&!n.includes(e)));e.length&&(n.push(`${l.name} — ${e.length}`),n.push(...e))}const a=t.filter((e=>e.user.isOnline));a.length&&(n.push(`Online — ${a.length}`),n.push(...a));const r=t.filter((e=>!e.user.isOnline));return r.length&&(n.push(`Offline — ${r.length}`),n.push(...r)),n}),[t,e.roles]),a=c.useRef(),r=Rl((e=>e.showUsers));return c.createElement(Cs,{right:!0,show:r},c.createElement(Ne,{className:"scrollbar-dark",ref:a,style:{height:"100%",width:"100%"},data:n,itemContent:(e,t)=>c.createElement("div",{className:"px-1.5 pb-0.5"},"string"==typeof t?c.createElement(xl,null,t):c.createElement("div",{className:""+(t.user.isOnline?"":"opacity-35")},c.createElement(eo,{user:t.user,nickname:t.nickname,roles:t.roles,color:t.color})))}))}function mi({channel:e}){var t;return c.createElement(Os,{icon:c.createElement(Lr,{className:"w-5 h-5"}),title:`${null!=(t=null==e?void 0:e.name)?t:""}`},c.createElement("div",{className:"ml-auto pl-6 flex items-center space-x-5"},c.createElement($o,null),c.createElement(ko,null)))}function di(){const{channelId:e}=G(),n=Ao(),a=os(e);Qo(`channel/${e}`);const{data:r}=function(e){const n={...Nn,...e};return t($r,n)}({variables:{serverId:null==n?void 0:n.id},skip:!n,fetchPolicy:"cache-and-network"}),l=null==r?void 0:r.serverUsers;return c.createElement(Jr,{header:c.createElement(mi,{channel:a}),rightSidebar:c.createElement(ii,{channel:a,serverUsers:null!=l?l:[],server:n})},!!a&&c.createElement(No,{channel:a,serverUsers:l}))}function ui(){const{serverId:e,folderId:t}=G();Qo(`folder/${t}`);const{data:n}=xr({variables:{id:t},skip:!t}),a=null==n?void 0:n.folder;return c.createElement(Jr,{rightSidebar:c.createElement(Wo,{serverId:e}),header:c.createElement(Kc,{folder:a})},c.createElement(dc,{folderId:t,header:c.createElement(Jc,{folder:a})}))}const pi=e=>I(`\n  h-full\n  cursor-pointer\n  select-none\n  focus:outline-none\n  text-13\n  border-b-4\n  flex\n  items-center\n  box-content\n  ${e?"text-gray-900 dark:text-gray-100 dark:border-white":"text-gray-600 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300 border-transparent"}\n`),gi=e=>I(`\n  px-4\n  h-8\n  flex\n  items-center\n  rounded\n  ${e?"bg-green-600":"bg-gray-500"}\n  disabled:opacity-50\n  disabled:cursor-not-allowed\n  text-primary\n  select-none\n  cursor-pointer\n  text-13\n  focus:outline-none\n`),vi=I("\n  flex\n  w-full\n  items-center\n  dark:hover:bg-gray-725\n  px-2\n  py-1\n  h-12\n  rounded\n  cursor-pointer\n"),hi="MutualServers",fi="MutualFriends",Ei="Folders";var bi=c.memo((function(){var e,t,a,r,l,s;const[o]=el(),[i,m,d,u]=Rl((e=>[e.dialogUserId,e.setDialogUserId,e.userDialogOpen,e.setUserDialogOpen])),{t:p}=w(),[g,v]=c.useState(hi),{data:h}=Mr({variables:{id:i},skip:!i}),f=null==h?void 0:h.user,[E]=Va(),[b]=function(e){const t={...Nn,...e};return n(_a,t)}(),[y]=function(e){const t={...Nn,...e};return n(Ga,t)}();!function(e){const t={...Nn,...e};n(Ya,t)}();const[N]=function(e){const t={...Nn,...e};return n(Wa,t)}();Ja();const k=null!=(t=null==(e=null==h?void 0:h.user)?void 0:e.relatedUsers)?t:[],C=null!=(r=null==(a=null==h?void 0:h.user)?void 0:a.servers)?r:[],$=null!=(s=null==(l=null==h?void 0:h.user)?void 0:l.folders)?s:[],I=c.useCallback((()=>{u(!1)}),[u]),M=c.useMemo((()=>(null==f?void 0:f.relationshipStatus)===Vn.FriendRequestIncoming?c.createElement(c.Fragment,null,c.createElement("button",{className:gi(!0),onClick:()=>y({variables:{input:{userId:i,accept:!0}}})},p("user.context.accept")),c.createElement("button",{className:gi(!1),onClick:()=>y({variables:{input:{userId:i,accept:!0}}})},p("user.context.ignore"))):(null==f?void 0:f.relationshipStatus)===Vn.FriendRequestOutgoing?c.createElement("button",{className:gi(!1),onClick:()=>b({variables:{input:{userId:i}},optimisticResponse:{deleteFriendRequest:{...f,relationshipStatus:Vn.None}}})},p("user.context.revoke")):(null==f?void 0:f.relationshipStatus)===Vn.Friends?c.createElement(x,{to:`/me/dm/${i}`,onClick:()=>I(),className:gi(!0)},p("user.context.sendMessage")):(null==f?void 0:f.relationshipStatus)===Vn.Blocking?c.createElement("button",{className:gi(!1),onClick:()=>N({variables:{input:{userId:i}}})},p("user.context.unblock")):(null==f?void 0:f.relationshipStatus)===Vn.Blocked?c.createElement("button",{disabled:!0,className:gi(!1)},p("user.context.blockingYou")):c.createElement("button",{className:gi(!0),onClick:()=>E({variables:{input:{userId:i}},optimisticResponse:{createFriendRequest:{...f,relationshipStatus:Vn.FriendRequestOutgoing}}})},p("user.context.sendFriendRequest"))),[f,p,i,y,b,I,N,E]);return c.createElement(Nl,{closeOnOverlayClick:!0,isOpen:d,close:I},c.createElement("div",{onClick:e=>e.stopPropagation(),className:"rounded-lg max-w-xl w-full dark:bg-gray-850"},c.createElement("div",{className:"flex p-5"},c.createElement(vl,{user:f,size:20,showOnline:!0,dotClassName:"ring-5 dark:ring-gray-850 w-4 h-4"}),c.createElement("div",{className:"ml-5 flex w-full pt-5"},c.createElement("div",{className:"font-semibold text-lg text-primary"},null==f?void 0:f.name,c.createElement("span",{className:"text-tertiary text-sm font-normal"},"#",null==f?void 0:f.tag)),i!==o.id&&c.createElement(c.Fragment,null,c.createElement("div",{className:"ml-auto"}),c.createElement("div",{className:"flex items-center space-x-2.5 h-8"},M),c.createElement(ys,{data:{type:Yl,user:f},leftClick:!0},c.createElement("button",{className:"h-8 cursor-pointer highlightable ml-3 focus:outline-none"},c.createElement(we,{className:"w-5 h-5"})))))),c.createElement("div",{className:"px-5 dark:border-gray-775 border-t h-14 flex items-center space-x-10"},c.createElement("button",{className:pi(g===hi),onClick:()=>v(hi)},c.createElement("div",{className:"transform translate-y-0.5"},"Mutual Planets")),c.createElement("button",{className:pi(g===fi),onClick:()=>v(fi)},c.createElement("div",{className:"transform translate-y-0.5"},"Mutual Friends")),c.createElement("button",{className:pi(g===Ei),onClick:()=>v(Ei)},c.createElement("div",{className:"transform translate-y-0.5"},"Folders"))),c.createElement("div",{className:"rounded-b-lg dark:bg-gray-750 p-2 max-h-[15rem] min-h-[15rem] h-full scrollbar-custom"},g===hi&&C.map((e=>c.createElement(x,{to:`/server/${e.id}`,key:e.id,className:vi,onClick:()=>I()},c.createElement(wl,{server:e,size:10,className:"dark:bg-gray-800 rounded-full"}),c.createElement("div",{className:"pl-2.5 text-base text-secondary font-medium"},e.name)))),g===fi&&k.map((e=>c.createElement("div",{key:e.id,className:vi,onClick:()=>m(e.id)},c.createElement(vl,{user:e,size:10,showOnline:!0,dotClassName:"ring-3 dark:ring-gray-750 w-2.5 h-2.5"}),c.createElement("div",{className:"pl-2.5"},c.createElement("div",{className:"text-base text-secondary font-medium"},e.name,c.createElement("span",{className:"text-13 text-tertiary font-normal"},"#",e.tag)))))),g===Ei&&$.map((e=>c.createElement(x,{to:`/me/folder/${e.id}`,key:e.id,className:vi,onClick:()=>I()},e.avatarUrl?c.createElement("div",{className:"h-10 w-10 rounded-full bg-cover bg-no-repeat bg-center",style:{backgroundImage:`url(${e.avatarUrl})`}}):c.createElement(le,{className:"text-gray-500 w-6 h-6 mx-2"}),c.createElement("div",{className:"pl-2.5 text-base text-secondary font-medium"},e.name)))))))}));const xi=({onClick:e,title:t,body:n,icon:a,timestamp:r})=>{if("granted"!==Notification.permission)return;new Notification(t,{body:n,icon:a,timestamp:r,silent:!0}).onclick=e;const l=new Audio((window.electron?".":"")+"/notification.mp3");l.volume=.5,l.play()},yi=()=>{var e,t,n,r;const[l]=el(),{push:s}=C(),{pathname:o}=H(),i=V(o,{path:"/server/:serverId/channel/:channelId"});null==(e=null==i?void 0:i.params)||e.serverId;const m=null==(t=null==i?void 0:i.params)?void 0:t.channelId,d=V(o,{path:"/me/dm/:userId"}),u=null==(n=null==d?void 0:d.params)?void 0:n.userId,p=V(o,{path:"/me/group/:groupId"}),g=null==(r=null==p?void 0:p.params)?void 0:r.groupId,[v,h]=c.useState(!0);c.useEffect((()=>{window.electron&&(window.electron.on("windowOpened",(()=>h(!0))),window.electron.on("windowClosed",(()=>h(!1))))}),[]),function(e){const t={...Nn,...e};a(Sr,t)}({skip:!l,onSubscriptionData({client:e,subscriptionData:t}){var n,a,r,c,o,i;if(t.data){const d=t.data.messageChanged,p=null==d?void 0:d.added,h=null==d?void 0:d.deleted;let f;if(p){f=p;const t=null==(n=f.channel)?void 0:n.server.id,d=null==(a=f.channel)?void 0:a.id,h=null==(r=f.group)?void 0:r.id,E=f.toUser?null==(c=f.author)?void 0:c.id:void 0,b={query:wr,variables:{userId:E,groupId:h,channelId:d,cursor:null}},x=e.cache.readQuery(b);if(x&&!x.messages.messages.map((e=>e.id)).includes(f.id)&&e.cache.writeQuery({...b,data:{messages:{...x.messages,messages:[...x.messages.messages,f]}}}),f.author.id!==l.id){if((!window.electron||window.electron&&v)&&(g&&h&&g===h||u&&E&&u===E||m&&d&&m===d))return;if(f.type===Pn.Normal&&f.text){let e=`@${f.author.name}`;f.channel&&(e+=` · #${f.channel.name}`),f.group&&(e+=` · #${f.group.displayName}`),xi({title:e,body:f.text,icon:null!=(o=f.author.avatarUrl)?o:(window.electron?".":"")+"/icons/icon.png",timestamp:f.createdAt,onClick:()=>{E?s(`/me/dm/${E}`):h?s(`/me/group/${h}`):d&&t&&s(`/server/${t}/channel/${d}`),window.electron&&window.electron.show()}})}else f.type===Pn.FriendRequestReceived&&xi({title:`@${f.author.name}`,body:"Sent a friend request",icon:null!=(i=f.author.avatarUrl)?i:(window.electron?".":"")+"/icons/icon.png",timestamp:f.createdAt,onClick:()=>{s("/me/friends"),window.electron&&window.electron.show()}})}}else h&&(f=h)}}})};function wi({open:e,setOpen:t}){const[a]=el(),[r,l]=c.useState(!1),{register:s,handleSubmit:o,watch:i,reset:m,formState:{errors:d}}=k({mode:"onChange"}),u=i("name"),p=i("email"),g=i("password"),v=i("currentPassword"),[h,{loading:f}]=function(e){const t={...Nn,...e};return n(ur,t)}(),[E]=function(e){const t={...Nn,...e};return n(pr,t)}(),{push:b}=C(),x=N(),y=()=>{t(!1),setTimeout((()=>m()),300)};return c.createElement(c.Fragment,null,c.createElement(Nl,{isOpen:e,close:y},c.createElement("div",{className:"min-w-full h-full min-h-full h-screen dark:bg-gray-800 scrollbar-custom",onClick:e=>e.stopPropagation()},c.createElement("div",{className:"w-full relative flex"},c.createElement("button",{className:"absolute top-3 right-3 focus:outline-none rounded-full transition dark:hover:bg-gray-700 p-2",onClick:y},c.createElement(Dt,{className:"w-6 h-6 text-tertiary"})),c.createElement("div",{className:"w-1/3 min-w-[14rem] dark:bg-gray-800 flex justify-end px-4 py-12"},c.createElement("div",{className:"w-56"},c.createElement(xl,null,"User Settings"),c.createElement(El,null,"My Account"),c.createElement(El,{onClick:()=>{t(!1),b("/"),localStorage.removeItem("token"),x.resetStore(),Xr()}},c.createElement("span",{className:"text-red-500"},"Log Out")))),c.createElement("div",{className:"w-2/3 px-10 py-16 dark:bg-gray-750 min-h-screen"},c.createElement("div",{className:"max-w-screen-sm text-left"},c.createElement("div",{className:"font-semibold text-primary uppercase mb-6"},"My Account"),c.createElement("form",{onSubmit:o((({name:e,email:t,password:n,currentPassword:a})=>{h({variables:{input:{name:e,email:t,password:n||null,currentPassword:a}}}).then((()=>{j.success("Saved changes!"),m()}))})),className:"rounded-lg dark:bg-gray-800 p-4"},c.createElement("div",{className:"flex items-center"},c.createElement("input",{type:"file",accept:"image/png,image/jpeg,image/webp,image/gif",name:"avatarFile",id:"avatarFile",hidden:!0,onChange:e=>{const t=e.target.files[0];t&&E({variables:{input:{avatarFile:t}}})}}),c.createElement("label",{htmlFor:"avatarFile",className:"relative group"},c.createElement(vl,{user:a,size:20}),c.createElement("div",{className:"absolute rounded-full cursor-pointer inset-0 bg-black opacity-0 group-hover:opacity-100 bg-opacity-50 z-10 transition flex items-center justify-center"},c.createElement(qt,{className:"w-1/2 h-1/2"}))),c.createElement("div",{className:"flex items-end ml-6"},c.createElement("div",{className:"font-semibold text-xl text-primary"},a.name),c.createElement("div",{className:"text-base text-tertiary",style:{marginBottom:"1px"}},"#",a.tag))),c.createElement("div",{className:"mt-5 space-y-5"},c.createElement("div",null,c.createElement("label",{htmlFor:"name",className:"label"},"Name"),c.createElement("input",{className:"textbox",id:"name",defaultValue:a.name,...s("name",{required:!0,maxLength:32,minLength:2}),maxLength:32,minLength:2,type:"text"}),d.name&&c.createElement("div",{className:"error"},"Name must be 2-32 characters")),c.createElement("div",null,c.createElement("label",{htmlFor:"email",className:"label"},"Email"),c.createElement("input",{className:"textbox",id:"email",defaultValue:a.email,...s("email",{required:!0,validate:e=>M(e)}),type:"email"}),d.email&&c.createElement("div",{className:"error"},"Invalid email")),c.createElement("div",null,c.createElement("label",{htmlFor:"password",className:"label"},"New Password"),c.createElement("input",{className:"textbox",id:"password",...s("password",{minLength:6}),type:"password",minLength:6}),d.password&&c.createElement("div",{className:"error"},"Password must be at least 6 characters")),c.createElement("div",null,c.createElement("label",{htmlFor:"currentPassword",className:"label"},"Current Password"),c.createElement("input",{className:"textbox",id:"currentPassword",...s("currentPassword",{required:!0}),type:"password"}))),c.createElement("div",{className:"flex items-center mt-5"},c.createElement("div",{className:"ml-auto"}),c.createElement("button",{type:"submit",disabled:f||!v||(null==u?void 0:u.length)<2||(null==u?void 0:u.length)>32||!M(p||"")||g&&(null==g?void 0:g.length)<6||!g&&p===a.email&&u===a.name,className:"disabled:opacity-50 disabled:cursor-not-allowed rounded px-4 h-9 text-sm text-primary bg-green-600 focus:outline-none flex items-center"},"Save Changes",f&&c.createElement(Or,{className:"w-5 h-5 text-primary ml-3"})))),c.createElement("div",{className:"mt-10 flex items-center justify-end"},c.createElement("button",{type:"button",onClick:()=>l(!0),className:"delete-button"},"Delete Account")))))),c.createElement(Ni,{deleteOpen:r,setDeleteOpen:l})))}function Ni({deleteOpen:e,setDeleteOpen:t}){const[a,r]=c.useState(""),[l,{loading:s}]=function(e){const t={...Nn,...e};return n(gr,t)}(),{push:o}=C(),i=N();return c.createElement(Nl,{isOpen:e,close:()=>t(!1)},c.createElement("div",{className:"max-w-md w-full rounded-md dark:bg-gray-800 shadow-lg p-4"},c.createElement("div",{className:"text-red-400 text-2xl font-semibold"},"Delete Account"),c.createElement("div",{className:"text-secondary pb-5 pt-3 text-base"},"You will not be able to recover your account."),c.createElement("div",{className:"text-left"},c.createElement("label",{htmlFor:"confirmPassword",className:"label"},"Password"),c.createElement("input",{id:"confirmPassword",name:"confirmPassword",className:"textbox",value:a,onChange:e=>r(e.target.value),type:"password"})),c.createElement("div",{className:"flex items-center justify-end space-x-4 pt-4"},c.createElement("button",{className:"cancel-button",type:"button",onClick:()=>t(!1)},"Cancel"),c.createElement("button",{className:"delete-button",type:"button",disabled:!a||s,onClick:()=>{l({variables:{input:{password:a}}}).then((()=>{t(!1),o("/"),i.resetStore()}))}},"Delete Account",s&&c.createElement(Or,{className:"w-5 h-5 text-primary ml-3"})))))}function ki(){const[e]=el(),t=[0,14],[a,r]=c.useState(!1),[l,s]=Rl((e=>[e.updateAvailable,e.setUpdateAvailable]));c.useEffect((()=>{window.electron&&window.electron.on("updateAvailable",(()=>{s(!0)}))}),[]);const[o]=function(e){const t={...Nn,...e};return n(hr,t)}();return c.useEffect((()=>{const t=setInterval((()=>{o({variables:{input:{onlineStatus:e.onlineStatus}}})}),15e3);return()=>clearInterval(t)})),c.createElement(c.Fragment,null,c.createElement(wi,{open:a,setOpen:r}),c.createElement("div",{className:"flex items-center shadow-md px-5 bottom-0 h-5.5 bg-gray-700 z-50"},c.createElement(vl,{size:4.5,className:"mr-2",user:e}),c.createElement("div",{className:"dark:text-white text-sm"},e.name),c.createElement("div",{className:"w-2 h-2 rounded-full bg-green-500 ml-2"}),c.createElement("div",{className:"ml-auto flex items-center space-x-4 text-primary"},c.createElement(v,{content:""+(window.electron&&l?"Update available":"Up to date!")},c.createElement("div",{className:"flex items-center cursor-pointer",onClick:()=>{window.electron&&l&&window.electron.restart()}},c.createElement("div",{className:"text-xs font-medium "+(l?"text-green-500":"text-tertiary")},"v","0.0.57"),window.electron&&l&&c.createElement("div",{className:"pl-2"},c.createElement(b,{className:"w-4.5 h-4.5 text-green-500 cursor-pointer animate-bounce"})))),c.createElement(v,{content:"Search",offset:t},c.createElement("div",null,c.createElement(se,{className:"w-4.5 h-4.5 cursor-pointer"}))),c.createElement(v,{content:"Folders",offset:t},c.createElement("div",null,c.createElement(le,{className:"w-4.5 h-4.5 cursor-pointer"}))),c.createElement(v,{content:"Notifications",offset:t},c.createElement(x,{to:"/me/inbox"},c.createElement(Ht,{className:"w-4.5 h-4.5 cursor-pointer"}))),c.createElement(v,{content:"Settings",offset:t},c.createElement("div",{onClick:()=>r(!0)},c.createElement(Tt,{className:"w-4.5 h-4.5 cursor-pointer"}))))))}function Ci(){const[e,t]=el();yi();const n=Rl((e=>e.setCanGoBack)),[a,r]=c.useState(null),l=yt(a),{pathname:s}=H();return c.useEffect((()=>{l&&n(!0),r(s)}),[s]),c.createElement(c.Fragment,null,(!e&&t||"connected"!==Zr.status)&&c.createElement(sl,null),e&&c.createElement(bi,null),c.createElement(Vt,null,c.createElement(Ii,{path:"/settings"},c.createElement(yl,null)),c.createElement(Ii,{path:["/me","/explore","/server"]},c.createElement("div",{className:"flex flex-grow"},c.createElement(Ns,null),c.createElement("div",{className:"flex-grow"},c.createElement("div",{className:"flex",style:{height:"calc(100% - 1.375rem)"}},c.createElement(Ii,{path:"/me"},c.createElement(Ss,null),c.createElement(Vt,null,c.createElement(Ii,{path:"/me",exact:!0},c.createElement(_t,{to:"/me/feed"})),c.createElement(Ii,{path:"/me/feed"},c.createElement(Oc,null)),c.createElement(Ii,{path:"/me/friends"},c.createElement(_c,null)),c.createElement(Ii,{path:"/me/inbox"},c.createElement(Qc,null)),c.createElement(Ii,{path:"/me/folder/:folderId"},c.createElement(Zc,null)),c.createElement(Ii,{path:"/me/group/:groupId"},c.createElement(Co,null)),c.createElement(Ii,{path:"/me/dm/:userId"},c.createElement(Mo,null)))),c.createElement(Ii,{path:"/explore"},c.createElement(Ro,null)),c.createElement(Ii,{path:"/server/:serverId"},c.createElement($i,null))),c.createElement(ki,null))))))}function $i(){const{serverId:e}=G();return c.createElement(c.Fragment,null,c.createElement(Ii,{path:"/server/:serverId"},c.createElement(Go,null),c.createElement(Vt,null,c.createElement(Ii,{path:"/server/:serverId",exact:!0},c.createElement(_t,{to:`/server/${e}/posts`})),c.createElement(Ii,{path:"/server/:serverId/posts",exact:!0},c.createElement(Jo,null)),c.createElement(Ii,{path:"/server/:serverId/posts/:postId"},c.createElement(oi,null)),c.createElement(Ii,{path:"/server/:serverId/channel/:channelId"},c.createElement(di,null)),c.createElement(Ii,{path:"/server/:serverId/folder/:folderId"},c.createElement(ui,null)))))}function Ii({children:e,...t}){const[n,a]=el();return c.createElement(Gt,{...t,render:()=>a||"connected"!==Zr.status?null:n?e:c.createElement(_t,{to:"/login"})})}function Mi(){const[e,t]=el();return c.createElement(Vt,null,c.createElement(Gt,{path:"/",exact:!0,render:()=>window.electron?t?c.createElement(sl,null):e?c.createElement(_t,{to:"/me"}):c.createElement(_t,{to:"/login"}):c.createElement(nl,null)}),c.createElement(Gt,{path:["/login","/register","/settings","/me","/explore","/server"]},c.createElement($,{titleTemplate:"%s – Comet"}),c.createElement(Gt,{path:["/login","/register"]},c.createElement(al,null,c.createElement(Vt,null,c.createElement(Gt,{path:"/login",render:()=>t?null:e?c.createElement(_t,{to:"/me"}):c.createElement(cl,null)}),c.createElement(Gt,{path:"/register",render:()=>t?null:e?c.createElement(_t,{to:"/explore"}):c.createElement(il,null)})))),c.createElement(Ci,null)),c.createElement(Gt,null,c.createElement(ml,null)))}function Si(){return Yt("(min-width: 1024px)"),c.createElement(Wt,{position:"bottom-center",toastOptions:{className:"toast",success:{className:"toast",iconTheme:{primary:"#059669"}},error:{className:"toast",iconTheme:{primary:"#EF4444"}}}})}function Fi({post:e,show:t}){const n=e?e.title.split(" "):[],a=`${n.slice(0,9).join(" ")}${n.length>=9?"...":""}`;return c.createElement("div",null,c.createElement(Qt,null,t&&c.createElement(y.div,{initial:{scale:.75,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.75,opacity:0},transition:{duration:.15,ease:"easeInOut"},className:"bg-blue-500 bg-opacity-75 truncate w-64 rounded-md shadow-lg text-white text-sm font-medium h-10 px-2 flex items-center"},c.createElement("div",{className:"truncate"},a))))}function Ui({server:e,show:t}){return c.createElement("div",null,c.createElement(Qt,null,t&&c.createElement(y.div,{initial:{scale:.75,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.75,opacity:0},transition:{duration:.15,ease:"easeInOut"}},c.createElement(wl,{server:e,size:12}))))}const Pi={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0};function Ri(e,t,n,a){e||(e={x:0,y:0});let r=n.x-e.x,l=n.y-e.y,{x:s,y:c}=t||{x:a.x-e.x,y:a.y-e.y};const o=`translate(${s+r}px, ${c+l}px)`;return{transform:o,WebkitTransform:o}}var Ai=c.memo((function(){const[e,t]=c.useState({x:0,y:0}),[n,a]=c.useState({x:0,y:0}),r=e=>t({x:e.clientX,y:e.clientY}),l=e=>t({x:e.clientX,y:e.clientY});c.useEffect((()=>(window.addEventListener("mousedown",r),window.addEventListener("mouseup",l),()=>{window.removeEventListener("mousedown",r),window.removeEventListener("mouseup",l)})));const{itemType:s,isDragging:o,item:i,initialOffset:m,currentOffset:d}=Jt((e=>({item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()})));return c.createElement("div",{style:Pi},c.createElement("div",{style:Ri(m,d,e,n)},s===Ul&&c.createElement(Fi,{post:i,show:o}),s===Pl&&c.createElement(Ui,{server:i,show:o})))}));const Oi="_window-button_19ru1_11",Li="_window-button-icon_19ru1_18";function zi(){const{close:e,minimize:t,maximize:n,unmaximize:a,isMaximized:r}=window.electron,[l,s]=c.useState(r()),o=()=>s(r());return c.createElement("header",{className:"_titlebar_19ru1_1"},c.createElement(Tr,{className:"h-3 text-tertiary"}),c.createElement("div",{className:"_window-controls_19ru1_6"},c.createElement("div",{className:`${Oi} flex`,onClick:()=>{t(),o()}},c.createElement("img",{className:`${Li} hidden dark:block`,srcSet:"./icons/titlebar/min-w-10.png 1x, ./icons/titlebar/min-w-12.png 1.25x, ./icons/titlebar/min-w-15.png 1.5x, ./icons/titlebar/min-w-15.png 1.75x, ./icons/titlebar/min-w-20.png 2x, ./icons/titlebar/min-w-20.png 2.25x, ./icons/titlebar/min-w-24.png 2.5x, ./icons/titlebar/min-w-30.png 3x, ./icons/titlebar/min-w-30.png 3.5x",draggable:"false"}),c.createElement("img",{className:`${Li} block dark:hidden`,srcSet:"./icons/titlebar/min-k-10.png 1x, ./icons/titlebar/min-k-12.png 1.25x, ./icons/titlebar/min-k-15.png 1.5x, ./icons/titlebar/min-k-15.png 1.75x, ./icons/titlebar/min-k-20.png 2x, ./icons/titlebar/min-k-20.png 2.25x, ./icons/titlebar/min-k-24.png 2.5x, ./icons/titlebar/min-k-30.png 3x, ./icons/titlebar/min-k-30.png 3.5x",draggable:"false"})),c.createElement("div",{className:`${Oi} ${l?"hidden":"flex"}`,onClick:()=>{n(),o()}},c.createElement("img",{className:`${Li} hidden dark:block`,srcSet:"./icons/titlebar/max-w-10.png 1x, ./icons/titlebar/max-w-12.png 1.25x, ./icons/titlebar/max-w-15.png 1.5x, ./icons/titlebar/max-w-15.png 1.75x, ./icons/titlebar/max-w-20.png 2x, ./icons/titlebar/max-w-20.png 2.25x, ./icons/titlebar/max-w-24.png 2.5x, ./icons/titlebar/max-w-30.png 3x, ./icons/titlebar/max-w-30.png 3.5x",draggable:"false"}),c.createElement("img",{className:`${Li} block dark:hidden`,srcSet:"./icons/titlebar/max-k-10.png 1x, ./icons/titlebar/max-k-12.png 1.25x, ./icons/titlebar/max-k-15.png 1.5x, ./icons/titlebar/max-k-15.png 1.75x, ./icons/titlebar/max-k-20.png 2x, ./icons/titlebar/max-k-20.png 2.25x, ./icons/titlebar/max-k-24.png 2.5x, ./icons/titlebar/max-k-30.png 3x, ./icons/titlebar/max-k-30.png 3.5x",draggable:"false"})),c.createElement("div",{className:`${Oi} ${l?"flex":"hidden"}`,onClick:()=>{a(),o()}},c.createElement("img",{className:`${Li} hidden dark:block`,srcSet:"./icons/titlebar/restore-w-10.png 1x, ./icons/titlebar/restore-w-12.png 1.25x, ./icons/titlebar/restore-w-15.png 1.5x, ./icons/titlebar/restore-w-15.png 1.75x, ./icons/titlebar/restore-w-20.png 2x, ./icons/titlebar/restore-w-20.png 2.25x, ./icons/titlebar/restore-w-24.png 2.5x, ./icons/titlebar/restore-w-30.png 3x, ./icons/titlebar/restore-w-30.png 3.5x",draggable:"false"}),c.createElement("img",{className:`${Li} block dark:hidden`,srcSet:"./icons/titlebar/restore-k-10.png 1x, ./icons/titlebar/restore-k-12.png 1.25x, ./icons/titlebar/restore-k-15.png 1.5x, ./icons/titlebar/restore-k-15.png 1.75x, ./icons/titlebar/restore-k-20.png 2x, ./icons/titlebar/restore-k-20.png 2.25x, ./icons/titlebar/restore-k-24.png 2.5x, ./icons/titlebar/restore-k-30.png 3x, ./icons/titlebar/restore-k-30.png 3.5x",draggable:"false"})),c.createElement("div",{className:`${Oi} _close-button_19ru1_32 flex`,onClick:()=>{e(),o()}},c.createElement("img",{className:`${Li} hidden dark:block`,srcSet:"./icons/titlebar/close-w-10.png 1x, ./icons/titlebar/close-w-12.png 1.25x, ./icons/titlebar/close-w-15.png 1.5x, ./icons/titlebar/close-w-15.png 1.75x, ./icons/titlebar/close-w-20.png 2x, ./icons/titlebar/close-w-20.png 2.25x, ./icons/titlebar/close-w-24.png 2.5x, ./icons/titlebar/close-w-30.png 3x, ./icons/titlebar/close-w-30.png 3.5x",draggable:"false"}),c.createElement("img",{className:`${Li} block dark:hidden`,srcSet:"./icons/titlebar/close-k-10.png 1x, ./icons/titlebar/close-k-12.png 1.25x, ./icons/titlebar/close-k-15.png 1.5x, ./icons/titlebar/close-k-15.png 1.75x, ./icons/titlebar/close-k-20.png 2x, ./icons/titlebar/close-k-20.png 2.25x, ./icons/titlebar/close-k-24.png 2.5x, ./icons/titlebar/close-k-30.png 3x, ./icons/titlebar/close-k-30.png 3.5x",draggable:"false"}))))}const{hasOwnProperty:Ti}=Object.prototype;const Di=(e,t)=>{let n;try{n=JSON.stringify(e)}catch(a){const e=new Xt(`Network request failed. ${t} is not serializable: ${a.message}`);throw e.parseError=a,e}return n};function qi(e,t,n){e.append(t,n,n.name)}const Bi=(e={})=>{let{uri:t="/graphql",fetch:n,includeExtensions:a,useGETForQueries:r,isExtractableFile:l=nn,formDataAppendFile:s=qi,...c}=e;an(n),n||(n=fetch);const i={http:{includeExtensions:a},options:c.fetchOptions,credentials:c.credentials,headers:c.headers};return new o((e=>{let a=Zt(e,t);const c=e.getContext(),o={};if(c.clientAwareness){const{name:e,version:t}=c.clientAwareness;e&&(o["apollographql-client-name"]=e),t&&(o["apollographql-client-version"]=t)}const m={...o,...c.headers},d={http:c.http,options:c.fetchOptions,credentials:c.credentials,headers:m},{options:p,body:v}=((e,t,...n)=>{let a={...t.options,headers:t.headers,credentials:t.credentials},r=t.http||{};n.forEach((e=>{a={...a,...e.options,headers:{...a.headers,...e.headers}},e.credentials&&(a.credentials=e.credentials),r={...r,...e.http}}));const{operationName:l,extensions:s,variables:c,query:o}=e,i={operationName:l,variables:c};return r.includeExtensions&&(i.extensions=s),r.includeQuery&&(i.query=g(o)),{options:a,body:i}})(e,rn,i,d),{clone:h,files:f}=en(v,"",l),E=Di(h,"Payload");let b;if(!p.signal){const{controller:e,signal:t}=(()=>{if("undefined"==typeof AbortController)return{controller:!1,signal:!1};const e=new AbortController;return{controller:e,signal:e.signal}})();b=e,b&&(p.signal=t)}if(r&&!e.query.definitions.some((e=>"OperationDefinition"===e.kind&&"mutation"===e.operation))&&(p.method="GET"),"GET"===p.method){const{newURI:e,parseError:t}=function(e,n){const a=[],r=(e,t)=>{a.push(`${e}=${encodeURIComponent(t)}`)};if("query"in n&&r("query",n.query),n.operationName&&r("operationName",n.operationName),n.variables){let e;try{e=Di(n.variables,"Variables map")}catch(t){return{parseError:t}}r("variables",e)}if(n.extensions){let e;try{e=Di(n.extensions,"Extensions map")}catch(t){return{parseError:t}}r("extensions",e)}let l="",s=e;const c=e.indexOf("#");-1!==c&&(l=e.substr(c),s=e.substr(0,c));const o=-1===s.indexOf("?")?"?":"&";return{newURI:s+o+a.join("&")+l}}(a,v);if(t)return tn(t);a=e}else if(f.size){delete p.headers["content-type"];const e=new FormData;e.append("operations",E);const t={};let n=0;f.forEach((e=>{t[++n]=e})),e.append("map",JSON.stringify(t)),n=0,f.forEach(((t,a)=>{s(e,++n,a)})),p.body=e}else try{p.body=Di(v,"Payload")}catch(x){return tn(x)}return new u((t=>{var r;return n(a,p).then((t=>(e.setContext({response:t}),t))).then((r=e,e=>e.text().then((t=>{try{return JSON.parse(t)}catch(n){const a=n;throw a.name="ServerParseError",a.response=e,a.statusCode=e.status,a.bodyText=t,a}})).then((t=>(e.status>=300&&Kt(e,t,`Response not successful: Received status code ${e.status}`),Array.isArray(t)||Ti.call(t,"data")||Ti.call(t,"errors")||Kt(e,t,`Server response was missing for query '${Array.isArray(r)?r.map((e=>e.operationName)):r.operationName}'.`),t))))).then((e=>(t.next(e),t.complete(),e))).catch((e=>{"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&t.next(e.result),t.error(e))})),()=>{b&&b.abort()}}))}))};const ji=un((({graphQLErrors:e,networkError:t})=>{e&&e.map((({message:e,locations:t,path:n})=>{console.log(`[GraphQL error]: Message: ${e}, Location: ${t}, Path: ${n}`),"Access denied! You need to be authorized to perform this action!"!==e&&j.error(r.t(e))})),t&&(console.log(`[Network error]: ${t}`),j.error(t.message))})),Hi=new class extends o{constructor(e={}){super(Bi(e).request),this.options=e}}({uri:"https://api.joincomet.app/graphql",headers:{token:localStorage.getItem("token")}}),Vi=pn(((e,{headers:t})=>{const n=localStorage.getItem("token");return{headers:n?{...t,token:n}:t}})),_i=new class extends o{constructor(){super(),this.client=i({url:"wss://api.joincomet.app/graphql",lazy:!1,connectionParams:()=>{const e=localStorage.getItem("token");return e?{token:e}:{}},on:{connected:e=>{Zr.status="connected",Xr=()=>{e.readyState===WebSocket.OPEN&&e.close(4205,"Client Restart")},Kr&&(Kr=!1,Xr())},error:()=>{Zr.status="error"},closed:()=>{Zr.status="closed"},connecting:()=>{Zr.status="connecting"}}})}wsFetcher(e){return m((t=>this.client.subscribe(e,t)))}request(e){const t=d();return new u((n=>p(t(this.wsFetcher({operationName:e.operationName,query:g(e.query),variables:e.variables})),n)))}},Gi=new mn({link:on([ji,(new ln).split((({query:e})=>{const t=sn(e);return"OperationDefinition"===t.kind&&("subscription"===t.operation||cn(t))}),_i,Vi.concat(Hi))]),cache:new dn});function Yi(){const e=window.electron?En:bn,t="Mac OS"===Qr();return c.createElement(gn,{client:Gi},c.createElement(vn,null,c.createElement($,null,c.createElement("meta",{charSet:"UTF-8"}),c.createElement("link",{rel:"icon",type:"image/svg+xml",href:"/logos/logo_icon.svg"}),c.createElement("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),c.createElement("title",null,"Comet – All-in-one chat and forums for communities.")),c.createElement(e,null,c.createElement(xs,null,c.createElement(hn,{backend:fn,options:{enableTouchEvents:!1,enableMouseEvents:!0}},c.createElement(Si,null),c.createElement(Ai,null),window.electron&&!t&&c.createElement(zi,null),c.createElement("div",{style:window.electron?{height:t?"100%":"calc(100% - 1.375rem)"}:{height:"100%"},className:"flex"},c.createElement(Mi,null)))))))}window.electron&&document.documentElement.classList.add("electron"),xn.render(c.createElement(Yi,null),document.getElementById("root"));
